{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\contenedores\\\\docente_calificaciones\\\\tablaprueva.jsx\";\nimport React from 'react';\nimport MaterialTable from 'material-table';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport swal from 'sweetalert';\nimport { makeStyles } from '@material-ui/core/styles'; //importdos\n\nimport './calificaciones.css'; //variables\n\nimport { dataMateria } from '../../../home';\nimport { getTemas } from '../../servicios/api';\nimport { datalista } from '../../servicios/api';\nimport { getAlumnos } from '../../servicios/api';\nimport { datalistaAlumnos } from '../../servicios/api';\nimport { getCriterios } from '../../servicios/api';\nimport { dataCriterios } from '../../servicios/api';\nimport { putCriteriosc1 } from '../../servicios/api';\nimport { putCriteriosc2 } from '../../servicios/api';\nimport { putCriteriosc3 } from '../../servicios/api';\nimport { crearCalificacion } from '../../servicios/api';\nimport { updateCalificaion } from '../../servicios/api';\nimport { fecha1, fecha2, fecha3 } from '../../../home';\nimport { PERIODO_ACTUAL } from '../../../App';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport moment from 'moment';\nexport var unidad_Tema, materia_Tema;\nlet ccx1 = 0,\n    ccx2 = 0,\n    ccx3 = 0,\n    unidadCalificacion,\n    id_criterios;\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    display: 'flex',\n    margin: theme.spacing(1),\n    minWidth: 180\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(-1)\n  },\n  papermaterias: {\n    padding: theme.spacing(-1),\n    textAlign: 'left',\n    color: theme.palette.text.secondary\n  },\n  paperperiodos: {\n    padding: theme.spacing(-2),\n    textAlign: 'left',\n    color: theme.palette.text.primary\n  }\n}));\nlet periodo, materia, unidad, grupo;\nexport async function enviarCriteriosc1(porcentageC1, criterio1) {\n  // let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  console.log(periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' - ' + porcentageC1);\n  console.log(\" datos de dialogo :\" + periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' -- ' + criterio1);\n  await putCriteriosc1(periodo, materia, unidad, grupo, porcentageC1, criterio1); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n}\nexport async function enviarCriteriosc2(porcentageC1, criterio1) {\n  //  let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  console.log(periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' - ' + porcentageC1);\n  console.log(\" datos de dialogo :\" + periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' -- ' + criterio1);\n  await putCriteriosc2(periodo, materia, unidad, grupo, porcentageC1, criterio1); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n}\nexport async function enviarCriteriosc3(porcentageC1, criterio1) {\n  // let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  console.log(periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' - ' + porcentageC1);\n  console.log(\" datos de dialogo :\" + periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' -- ' + criterio1);\n  await putCriteriosc3(periodo, materia, unidad, grupo, porcentageC1, criterio1); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n}\nvar idDocenteActual, idMateriaActual, periodoActual, cierreActual;\nexport const MaterialTableDemo = () => {\n  const estilos = useStyles();\n  const [materiaID, setMateriaid] = React.useState(''); //id materia para filtrar unidades\n\n  const handleChange = event => {\n    setMateriaid(Number(event.target.value) || '');\n  };\n\n  const [listasTemas, setListas] = React.useState([]);\n  let get_materia_id;\n\n  const buscarTema = async materiaid => {\n    //obtener datos para la consulta de unidades actuales y antes delcieere actual\n    idDocenteActual = dataMateria[0].id_docente;\n    idMateriaActual = materiaid.target.value;\n    materia_Tema = materiaid.target.value;\n    periodoActual = 7;\n    cierreActual = fecha1; //fecha1.setMonth(fecha1.getMonth() - 3);\n\n    setMATERIA_ID(idMateriaActual);\n    let fecheFull = moment(fecha1).subtract(2, 'months');\n    let vc = moment(fecheFull).format(\"YYYY-MM-DD\");\n    let bbv = await getTemas(idDocenteActual, idMateriaActual, periodoActual, cierreActual);\n    setListas(datalista);\n    console.log(bbv);\n    console.log(\"<<<<\");\n    console.log(datalista);\n    console.log(idMateriaActual + ' _actual id');\n    console.log(vc + ' _actual id');\n  };\n\n  const [calificaciones, setcalificaciones] = React.useState({\n    datalistaAlumnos\n  });\n  const [MATERIA_ID, setMATERIA_ID] = React.useState([]);\n\n  const obtenerTema = async tem => {\n    //inico\n    let numTemas = tem.target.value; //buscar lista alumnos  idMateria, idDocente\n\n    await getAlumnos(MATERIA_ID, PERIODO_ACTUAL); //LISTA DE ALUMNOS\n\n    await getCriterios(PERIODO_ACTUAL, MATERIA_ID, numTemas); // LISTA DE CRITERIO\n\n    await setcalificaciones({\n      datalistaAlumnos: datalistaAlumnos\n    }); //await setCRITERIOS(dataCriterios);\n\n    console.log(calificaciones);\n    console.log('ver tema inf.. ' + numTemas + ' materia = ' + MATERIA_ID + ' periodo ' + PERIODO_ACTUAL);\n    console.log(listasTemas);\n    console.log('VER.. ' + dataCriterios[0].porcentageC1);\n    ccx1 = dataCriterios[0].porcentageC1;\n    ccx2 = dataCriterios[0].porcentageC2;\n    ccx3 = dataCriterios[0].porcentageC3;\n    unidadCalificacion = dataCriterios[0].numUnidad;\n    id_criterios = dataCriterios[0].idcat_Unidad;\n    console.log(dataCriterios);\n    document.getElementById('porcentajeC1').value = ccx1;\n    document.getElementById('porcentajeC2').value = ccx2;\n    document.getElementById('porcentajeC3').value = ccx3;\n  }; //fin\n\n\n  const guardarPromedio = async datos => {\n    //inicion\n    let bandera = datos.materiaDocente_id;\n    let idcalificacion = datos.idcalificaciones;\n    console.log('estoy guardando datos de calificacion y mas: ' + idcalificacion);\n\n    if (bandera) {\n      console.log(\"Actualizar datos del alumno....\");\n\n      if (datos.calR2 === null && datos.calR3 === null) {\n        console.log(\"inicializar en cero r2 y r3\");\n        datos.calR2 = 0;\n        datos.calR3 = 0;\n      } else if (datos.calR3 === null) {\n        console.log(\"inicializar en cero r3\");\n        datos.calR3 = 0;\n      }\n\n      await updateCalificaion(idcalificacion, datos);\n    } else {\n      //let idCalificacion = datos.\n      console.log(\"crear registro para el alumno en registro calificacion\");\n      await crearCalificacion(datos, unidadCalificacion, id_criterios); //actualizar data alumnos ##  materia_Tema  PERIODO_ACTUAL\n\n      await getAlumnos(MATERIA_ID, PERIODO_ACTUAL); //LISTA DE ALUMNOS\n\n      await setcalificaciones({\n        datalistaAlumnos: datalistaAlumnos\n      });\n    }\n\n    console.log(datos);\n  }; //fin\n\n  /*const manejador = (cc1, cc2, cc3) => {//creador de table\r\n    console.log(\"imprimiendo.....\" + tema1X)\r\n    console.log(\"datos new.....\" + cc1 + cc2 + cc3)\r\n  };*/\n\n\n  const [ac, setAc] = React.useState('none'); //guardar porcentaje #########\n\n  const [alumnos, setAlumnos] = React.useState({\n    columns: [{\n      title: 'Nª',\n      field: 'id',\n      editable: 'never'\n    }, {\n      title: 'Control',\n      field: 'control',\n      editable: 'never'\n    }, {\n      title: 'Nombre',\n      field: 'nameAlumno',\n      editable: 'never'\n    }, {\n      title: 'Curso',\n      field: 'curso',\n      editable: 'never'\n    }, {\n      title: 'Opcion',\n      field: 'opcion',\n      editable: 'never'\n    }, {\n      title: 'C1',\n      field: 'calR1'\n    }, {\n      title: 'C2',\n      field: 'calR2'\n    }, {\n      title: 'C3',\n      field: 'calR3'\n    }, {\n      title: '#',\n      field: '#',\n      minWidth: 5,\n      editable: 'never'\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        type: \"number\",\n        id: \"porcentajeC1\",\n        placeholder: \"C1\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }),\n      field: 'calCriterio1',\n      editable: 'never',\n      minWidth: 10\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC2\",\n        placeholder: \"C2\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }),\n      field: 'calCriterio2',\n      editable: 'never',\n      minWidth: 10\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC3\",\n        placeholder: \"C3\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }),\n      field: 'calCriterio3',\n      editable: 'never'\n    }, {\n      title: 'Total',\n      field: 'calificaciontotal',\n      editable: 'never'\n    }]\n  }); //\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, \"INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS\")), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.paperperiodos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, \"PERIODO: \", dataMateria[0].idnomenclaturaPeriodo)), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.paperperiodos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, \"CIERRE DE ACTA: \", fecha1)), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    id: \"most\",\n    style: {\n      display: ac\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  }, \"espere..\", React.createElement(LinearProgress, {\n    variant: \"query\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249\n    },\n    __self: this\n  })))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.papermaterias,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: estilos.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"InputLabel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, \"Materia\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined\",\n    id: \"materia\",\n    onChange: buscarTema,\n    label: \"Materia\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, dataMateria.map(materias => React.createElement(MenuItem, {\n    key: materias.nm,\n    value: materias.idMateria,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, materias.nombre + ' (' + materias.semestre + \"/\" + materias.nomenclatura + \") \" + materias.nombreCorto)))))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.papermaterias,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: estilos.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"demo-simple-select-outlined-labe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, \"Unidad\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined-labe\",\n    id: \"unidad\",\n    label: \"Unidad\",\n    onChange: obtenerTema,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, listasTemas.map((tem, i) => React.createElement(MenuItem, {\n    key: i,\n    value: tem.numUnidad,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, tem.tema)))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, React.createElement(MaterialTable, {\n    title: \"Captura de calificaciones\",\n    columns: alumnos.columns //columnas\n    ,\n    data: calificaciones.datalistaAlumnos //filas\n\n    /*   actions={[\r\n         {\r\n           icon: 'save',\r\n           tooltip: 'Save User',\r\n           onClick: (event, rowData) => alert(\"You saved \" + rowData.control + \" c1=\" + rowData.calR1)\r\n         }\r\n       ]}*/\n    ,\n    editable: {\n      // filsa: rowData => rowData.id === '1',\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            //actualizacion del estado\n            setcalificaciones(prevState => {\n              const datalistaAlumnos = [...prevState.datalistaAlumnos]; //obtenr data\n              //console.log(newData.nombre = 'sam')//estado fila modificado\n\n              console.log(newData.calCriterio1 = newData.calR1 * (ccx1 / 100));\n              console.log(newData.calCriterio2 = newData.calR2 * (ccx2 / 100));\n              console.log(newData.calCriterio3 = newData.calR3 * (ccx3 / 100));\n              console.log(newData.calificaciontotal = parseInt(newData.calCriterio1) + parseInt(newData.calCriterio2) + parseInt(newData.calCriterio3));\n              console.log(newData); //estado fila modificado\n\n              datalistaAlumnos[datalistaAlumnos.indexOf(oldData)] = newData; // manejador(newData.c1, newData.c2, newData.c3)\n\n              guardarPromedio(newData);\n              return { ...prevState,\n                datalistaAlumnos\n              };\n            });\n          }\n        }, 600);\n      })\n    },\n    options: {\n      headerStyle: {\n        backgroundColor: '#01579b',\n        color: '#FFF'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355\n    },\n    __self: this\n  }, \"*O: Ordinario   *1:Primera oportunidad   *NA: No Alcanza\"), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356\n    },\n    __self: this\n  }, \"*R: Repeticion   *2:Segunda oportunidad\"), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357\n    },\n    __self: this\n  }, \"*E: Especial\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    startIcon: React.createElement(SaveIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360\n    },\n    __self: this\n  }, \"Descargar Reporte de Calificaciones\"))));\n};\n\nconst guardarPorcentaje_c1 = async () => {\n  var input = document.getElementById('porcentajeC1'); //inicio 1\n\n  input.addEventListener('input', function () {\n    if (this.value.length > 2) this.value = this.value.slice(0, 2);\n  });\n\n  if (input.value <= 100) {\n    if (input.value.length === 2) {\n      //ejecutar metodo de guardar\n      swal(\"describa el nombre del creterio:\", {\n        content: \"input\"\n      }).then(comentario => {\n        if (comentario) {\n          //enviar porcentage y comentario\n          enviarCriteriosc1(input.value, comentario);\n          getAlumnos(idMateriaActual, PERIODO_ACTUAL); //LISTA DE ALUMNOS\n\n          console.log(input.value);\n        } else {\n          console.log(input.value + \"noupede estar vacio \" + comentario);\n        } //swal(`You typed: ${comentario}`);\n\n      });\n    }\n  } else {\n    alert(\"no puede exeder de 100 %\");\n  }\n};\n\nconst guardarPorcentaje_c2 = e => {\n  var input2 = document.getElementById('porcentajeC2'); //inicio 1\n\n  input2.addEventListener('input', function () {\n    if (this.value.length > 2) this.value = this.value.slice(0, 2);\n  });\n\n  if (input2.value <= 100) {\n    if (input2.value.length === 2) {\n      //ejecutar metodo de guardar\n      swal(\"describa el nombre del creterio:\", {\n        content: \"input\"\n      }).then(comentario => {\n        if (comentario) {\n          //enviar porcentage y comentario\n          enviarCriteriosc2(input2.value, comentario);\n          getAlumnos(idMateriaActual, PERIODO_ACTUAL); //LISTA DE ALUMNOS\n\n          console.log(input2.value);\n        } else {\n          console.log(input2.value + \"noupede estar vacio \" + comentario);\n        } //swal(`You typed: ${comentario}`);\n\n      });\n      console.log(\"ejecutar metodo de guardar 1\");\n    }\n  } else {\n    alert(\"no puede exeder de 100 %\");\n  }\n}; //fin\n\n\nconst guardarPorcentaje_c3 = e => {\n  var input3 = document.getElementById('porcentajeC3'); //inicio 1\n\n  input3.addEventListener('input', function () {\n    if (this.value.length > 2) this.value = this.value.slice(0, 2);\n  });\n\n  if (input3.value <= 100) {\n    if (input3.value.length === 2) {\n      //ejecutar metodo de guardar\n      swal(\"describa el nombre del creterio:\", {\n        content: \"input\"\n      }).then(comentario => {\n        if (comentario) {\n          //enviar porcentage y comentario\n          enviarCriteriosc3(input3.value, comentario);\n          console.log(input3.value);\n        } else {\n          console.log(input3.value + \"noupede estar vacio \" + comentario);\n        } //swal(`You typed: ${comentario}`);\n\n      });\n      console.log(\"ejecutar metodo de guardar 1\");\n    }\n  } else {\n    alert(\"no puede exeder de 100 %\");\n  }\n}; //fin\n\n\nexport default MaterialTableDemo;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/contenedores/docente_calificaciones/tablaprueva.jsx"],"names":["React","MaterialTable","Button","Grid","Paper","SaveIcon","InputLabel","FormControl","Select","MenuItem","swal","makeStyles","dataMateria","getTemas","datalista","getAlumnos","datalistaAlumnos","getCriterios","dataCriterios","putCriteriosc1","putCriteriosc2","putCriteriosc3","crearCalificacion","updateCalificaion","fecha1","fecha2","fecha3","PERIODO_ACTUAL","LinearProgress","moment","unidad_Tema","materia_Tema","ccx1","ccx2","ccx3","unidadCalificacion","id_criterios","useStyles","theme","formControl","display","margin","spacing","minWidth","selectEmpty","marginTop","papermaterias","padding","textAlign","color","palette","text","secondary","paperperiodos","primary","periodo","materia","unidad","grupo","enviarCriteriosc1","porcentageC1","criterio1","materias_idmaterias","numUnidad","asingnacion_grupo_id","console","log","enviarCriteriosc2","enviarCriteriosc3","idDocenteActual","idMateriaActual","periodoActual","cierreActual","MaterialTableDemo","estilos","materiaID","setMateriaid","useState","handleChange","event","Number","target","value","listasTemas","setListas","get_materia_id","buscarTema","materiaid","id_docente","setMATERIA_ID","fecheFull","subtract","vc","format","bbv","calificaciones","setcalificaciones","MATERIA_ID","obtenerTema","tem","numTemas","porcentageC2","porcentageC3","idcat_Unidad","document","getElementById","guardarPromedio","datos","bandera","materiaDocente_id","idcalificacion","idcalificaciones","calR2","calR3","ac","setAc","alumnos","setAlumnos","columns","title","field","editable","width","guardarPorcentaje_c1","guardarPorcentaje_c2","guardarPorcentaje_c3","idnomenclaturaPeriodo","map","materias","nm","idMateria","nombre","semestre","nomenclatura","nombreCorto","i","tema","onRowUpdate","newData","oldData","Promise","resolve","setTimeout","prevState","calCriterio1","calR1","calCriterio2","calCriterio3","calificaciontotal","parseInt","indexOf","headerStyle","backgroundColor","input","addEventListener","length","slice","content","then","comentario","alert","e","input2","input3"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport swal from 'sweetalert';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n//importdos\r\nimport './calificaciones.css';\r\n//variables\r\nimport { dataMateria } from '../../../home';\r\nimport { getTemas } from '../../servicios/api';\r\nimport { datalista } from '../../servicios/api';\r\nimport { getAlumnos } from '../../servicios/api';\r\nimport { datalistaAlumnos } from '../../servicios/api';\r\nimport { getCriterios } from '../../servicios/api';\r\nimport { dataCriterios } from '../../servicios/api';\r\nimport { putCriteriosc1 } from '../../servicios/api';\r\nimport { putCriteriosc2 } from '../../servicios/api';\r\nimport { putCriteriosc3 } from '../../servicios/api';\r\nimport { crearCalificacion } from '../../servicios/api';\r\nimport { updateCalificaion } from '../../servicios/api';\r\nimport { fecha1, fecha2, fecha3 } from '../../../home';\r\nimport { PERIODO_ACTUAL } from '../../../App';\r\n\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport moment from 'moment'\r\n\r\nexport var unidad_Tema, materia_Tema;\r\n\r\nlet ccx1 = 0, ccx2 = 0, ccx3 = 0, unidadCalificacion, id_criterios;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  formControl: {\r\n    display: 'flex',\r\n    margin: theme.spacing(1),\r\n    minWidth: 180,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(-1),\r\n  },\r\n  papermaterias: {\r\n    padding: theme.spacing(-1),\r\n    textAlign: 'left',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  paperperiodos: {\r\n    padding: theme.spacing(-2),\r\n    textAlign: 'left',\r\n    color: theme.palette.text.primary,\r\n  },\r\n}));\r\n\r\n\r\nlet periodo, materia, unidad, grupo;\r\nexport async function enviarCriteriosc1(porcentageC1, criterio1) {\r\n  // let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  console.log(periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' - ' + porcentageC1);\r\n\r\n  console.log(\" datos de dialogo :\" + periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' -- ' + criterio1);\r\n  await putCriteriosc1(periodo, materia, unidad, grupo, porcentageC1, criterio1)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}\r\n\r\n\r\nexport async function enviarCriteriosc2(porcentageC1, criterio1) {\r\n  //  let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  console.log(periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' - ' + porcentageC1);\r\n\r\n  console.log(\" datos de dialogo :\" + periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' -- ' + criterio1);\r\n  await putCriteriosc2(periodo, materia, unidad, grupo, porcentageC1, criterio1)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}\r\n\r\n\r\nexport async function enviarCriteriosc3(porcentageC1, criterio1) {\r\n  // let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  console.log(periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' - ' + porcentageC1);\r\n\r\n  console.log(\" datos de dialogo :\" + periodo + ' - ' + materia + ' - ' + unidad + ' - ' + grupo + ' -- ' + criterio1);\r\n  await putCriteriosc3(periodo, materia, unidad, grupo, porcentageC1, criterio1)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}\r\n\r\nvar idDocenteActual, idMateriaActual, periodoActual, cierreActual;\r\nexport const MaterialTableDemo = () => {\r\n  const estilos = useStyles();\r\n  const [materiaID, setMateriaid] = React.useState('');//id materia para filtrar unidades\r\n\r\n  const handleChange = event => {\r\n    setMateriaid(Number(event.target.value) || '');\r\n  };\r\n\r\n  const [listasTemas, setListas] = React.useState([])\r\n\r\n  let get_materia_id;\r\n  const buscarTema = async materiaid => {\r\n\r\n    //obtener datos para la consulta de unidades actuales y antes delcieere actual\r\n    idDocenteActual = dataMateria[0].id_docente;\r\n    idMateriaActual = materiaid.target.value;\r\n    materia_Tema = materiaid.target.value;\r\n    periodoActual = 7;\r\n    cierreActual = fecha1;\r\n\r\n    //fecha1.setMonth(fecha1.getMonth() - 3);\r\n    setMATERIA_ID(idMateriaActual)\r\n    let fecheFull = moment(fecha1).subtract(2, 'months')\r\n    let vc = moment(fecheFull).format(\"YYYY-MM-DD\");\r\n\r\n    let bbv = await getTemas(idDocenteActual, idMateriaActual, periodoActual, cierreActual);\r\n    setListas(datalista)\r\n    console.log(bbv)\r\n\r\n    console.log(\"<<<<\")\r\n    console.log(datalista)\r\n    console.log(idMateriaActual + ' _actual id')\r\n    console.log(vc + ' _actual id')\r\n\r\n  };\r\n\r\n  const [calificaciones, setcalificaciones] = React.useState({ datalistaAlumnos })\r\n  const [MATERIA_ID, setMATERIA_ID] = React.useState([]);\r\n\r\n\r\n  const obtenerTema = async (tem) => {//inico\r\n    let numTemas = tem.target.value;\r\n    //buscar lista alumnos  idMateria, idDocente\r\n    await getAlumnos(MATERIA_ID, PERIODO_ACTUAL);//LISTA DE ALUMNOS\r\n    await getCriterios(PERIODO_ACTUAL, MATERIA_ID, numTemas);// LISTA DE CRITERIO\r\n    await setcalificaciones({ datalistaAlumnos: datalistaAlumnos });\r\n    //await setCRITERIOS(dataCriterios);\r\n\r\n    console.log(calificaciones)\r\n    console.log('ver tema inf.. ' + numTemas + ' materia = ' + MATERIA_ID + ' periodo ' + PERIODO_ACTUAL)\r\n    console.log(listasTemas)\r\n    console.log('VER.. ' + dataCriterios[0].porcentageC1);\r\n\r\n    ccx1 = dataCriterios[0].porcentageC1;\r\n    ccx2 = dataCriterios[0].porcentageC2;\r\n    ccx3 = dataCriterios[0].porcentageC3;\r\n    unidadCalificacion = dataCriterios[0].numUnidad;\r\n    id_criterios = dataCriterios[0].idcat_Unidad;\r\n\r\n    console.log(dataCriterios)\r\n    document.getElementById('porcentajeC1').value = ccx1;\r\n    document.getElementById('porcentajeC2').value = ccx2;\r\n    document.getElementById('porcentajeC3').value = ccx3;\r\n\r\n  }//fin\r\n\r\n\r\n  const guardarPromedio = async (datos) => {//inicion\r\n    let bandera = datos.materiaDocente_id;\r\n    let idcalificacion = datos.idcalificaciones;\r\n  \r\n    console.log('estoy guardando datos de calificacion y mas: ' + idcalificacion);\r\n  \r\n    if (bandera) {\r\n      console.log(\"Actualizar datos del alumno....\")\r\n\r\n      if (datos.calR2 === null && datos.calR3 === null) {\r\n      console.log(\"inicializar en cero r2 y r3\")\r\n\r\n            datos.calR2 = 0;\r\n            datos.calR3 = 0;\r\n      }else if(datos.calR3 === null){\r\n      console.log(\"inicializar en cero r3\")\r\n\r\n            datos.calR3 = 0;\r\n      }\r\n\r\n      await updateCalificaion(idcalificacion, datos)\r\n    } else {\r\n      //let idCalificacion = datos.\r\n      console.log(\"crear registro para el alumno en registro calificacion\")\r\n      await crearCalificacion(datos, unidadCalificacion, id_criterios);\r\n  //actualizar data alumnos ##  materia_Tema  PERIODO_ACTUAL\r\n      await getAlumnos(MATERIA_ID, PERIODO_ACTUAL);//LISTA DE ALUMNOS\r\n      await setcalificaciones({ datalistaAlumnos: datalistaAlumnos });\r\n    }\r\n    console.log(datos)\r\n  \r\n  }//fin\r\n\r\n\r\n  /*const manejador = (cc1, cc2, cc3) => {//creador de table\r\n    console.log(\"imprimiendo.....\" + tema1X)\r\n    console.log(\"datos new.....\" + cc1 + cc2 + cc3)\r\n  };*/\r\n\r\n  const [ac, setAc] = React.useState('none');//guardar porcentaje #########\r\n\r\n  const [alumnos, setAlumnos] = React.useState({\r\n\r\n    columns: [\r\n      { title: 'Nª', field: 'id', editable: 'never' },\r\n      { title: 'Control', field: 'control', editable: 'never' },\r\n      { title: 'Nombre', field: 'nameAlumno', editable: 'never' },\r\n      {title: 'Curso', field: 'curso',editable: 'never'},\r\n      { title: 'Opcion', field: 'opcion', editable: 'never' },\r\n      { title: 'C1', field: 'calR1', },\r\n      { title: 'C2', field: 'calR2', },\r\n      { title: 'C3', field: 'calR3', },\r\n      { title: '#', field: '#', minWidth: 5, editable: 'never' },\r\n      { title: <input className=\"inputTemas\" type=\"number\" id=\"porcentajeC1\" placeholder=\"C1\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c1} ></input>, field: 'calCriterio1', editable: 'never', minWidth: 10 },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC2\" placeholder=\"C2\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c2} ></input>, field: 'calCriterio2', editable: 'never', minWidth: 10 },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC3\" placeholder=\"C3\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c3}  ></input>, field: 'calCriterio3', editable: 'never' },\r\n      { title: 'Total', field: 'calificaciontotal', editable: 'never' },\r\n    ]\r\n  })\r\n\r\n  //\r\n\r\n  return (\r\n    <div>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <h3 >INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS</h3>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.paperperiodos}>PERIODO: {dataMateria[0].idnomenclaturaPeriodo}</Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.paperperiodos}>CIERRE DE ACTA: {fecha1}</Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper elevation={0} ><p id=\"most\" style={{ display: ac }}>espere..<LinearProgress variant=\"query\" /></p></Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.papermaterias}>\r\n            <FormControl variant=\"outlined\" className={estilos.formControl}>\r\n              <InputLabel id=\"InputLabel\">Materia</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-outlined\"\r\n                id=\"materia\"\r\n                onChange={buscarTema}\r\n                label=\"Materia\"\r\n              >\r\n                {\r\n                  dataMateria.map((materias) => (<MenuItem key={materias.nm} value={materias.idMateria} >{materias.nombre + ' (' + materias.semestre + \"/\" + materias.nomenclatura + \") \" + materias.nombreCorto}</MenuItem>))\r\n                }\r\n              </Select>\r\n            </FormControl>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.papermaterias}>\r\n            <FormControl variant=\"outlined\" className={estilos.formControl}>\r\n              <InputLabel id=\"demo-simple-select-outlined-labe\">Unidad</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-outlined-labe\"\r\n                id=\"unidad\"\r\n                label=\"Unidad\"\r\n                onChange={obtenerTema}\r\n              >\r\n                {\r\n                  listasTemas.map((tem, i) => (<MenuItem key={i} value={tem.numUnidad}>{tem.tema}</MenuItem>))\r\n\r\n                }\r\n              </Select>\r\n            </FormControl>\r\n\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        </Grid>\r\n\r\n\r\n        <Grid item xs={12} sm={12}>\r\n\r\n          {/*   <Paper > <Paper className={classes.root}>\r\n    <TableContainer className={classes.container}>*/}\r\n          <Paper elevation={3} >\r\n\r\n            <MaterialTable\r\n              title=\"Captura de calificaciones\"\r\n              columns={alumnos.columns}//columnas\r\n              data={calificaciones.datalistaAlumnos}//filas\r\n\r\n              /*   actions={[\r\n                   {\r\n                     icon: 'save',\r\n                     tooltip: 'Save User',\r\n                     onClick: (event, rowData) => alert(\"You saved \" + rowData.control + \" c1=\" + rowData.calR1)\r\n                   }\r\n                 ]}*/\r\n\r\n              editable={\r\n                {\r\n                  // filsa: rowData => rowData.id === '1',\r\n                  onRowUpdate: (newData, oldData) =>\r\n                    new Promise(resolve => {\r\n                      setTimeout(() => {\r\n                        resolve();\r\n\r\n                        if (oldData) {\r\n\r\n                          //actualizacion del estado\r\n\r\n\r\n                          setcalificaciones(prevState => {\r\n                            const datalistaAlumnos = [...prevState.datalistaAlumnos];//obtenr data\r\n                            //console.log(newData.nombre = 'sam')//estado fila modificado\r\n                            console.log(newData.calCriterio1 = (newData.calR1 * (ccx1 / 100)))\r\n                            console.log(newData.calCriterio2 = (newData.calR2 * (ccx2 / 100)))\r\n                            console.log(newData.calCriterio3 = (newData.calR3 * (ccx3 / 100)))\r\n                            console.log(newData.calificaciontotal = (parseInt(newData.calCriterio1) + parseInt(newData.calCriterio2) + parseInt(newData.calCriterio3)))\r\n\r\n                            console.log(newData)//estado fila modificado\r\n                            datalistaAlumnos[datalistaAlumnos.indexOf(oldData)] = newData;\r\n                            // manejador(newData.c1, newData.c2, newData.c3)\r\n                            guardarPromedio(newData)\r\n                            return { ...prevState, datalistaAlumnos };\r\n                          });\r\n                        }\r\n                      }, 600);\r\n                    }),\r\n                }\r\n              }\r\n\r\n              options={{\r\n                headerStyle: {\r\n                  backgroundColor: '#01579b',\r\n                  color: '#FFF'\r\n                }\r\n              }}\r\n            />\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper >*O: Ordinario   *1:Primera oportunidad   *NA: No Alcanza</Paper>\r\n          <Paper >*R: Repeticion   *2:Segunda oportunidad</Paper>\r\n          <Paper >*E: Especial</Paper>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            \r\n            startIcon={<SaveIcon />}\r\n          >\r\n            Descargar Reporte de Calificaciones\r\n    </Button>\r\n\r\n        </Grid>\r\n      </Grid>\r\n\r\n    </div>\r\n\r\n  );\r\n\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst guardarPorcentaje_c1 = async () => {\r\n  var input = document.getElementById('porcentajeC1');//inicio 1\r\n  input.addEventListener('input', function () {\r\n    if (this.value.length > 2)\r\n      this.value = this.value.slice(0, 2);\r\n  })\r\n\r\n  if (input.value <= 100) {\r\n    if (input.value.length === 2) {\r\n\r\n      //ejecutar metodo de guardar\r\n      swal(\"describa el nombre del creterio:\", {\r\n        content: \"input\",\r\n      })\r\n        .then((comentario) => {\r\n\r\n          if (comentario) {\r\n            //enviar porcentage y comentario\r\n            enviarCriteriosc1(input.value, comentario);\r\n            getAlumnos(idMateriaActual, PERIODO_ACTUAL);//LISTA DE ALUMNOS\r\n            console.log(input.value)\r\n          } else {\r\n            console.log(input.value + \"noupede estar vacio \" + comentario)\r\n          }\r\n          //swal(`You typed: ${comentario}`);\r\n        });\r\n\r\n    }\r\n  } else {\r\n    alert(\"no puede exeder de 100 %\")\r\n  }\r\n\r\n}\r\n\r\n\r\nconst guardarPorcentaje_c2 = (e) => {\r\n\r\n  var input2 = document.getElementById('porcentajeC2');//inicio 1\r\n  input2.addEventListener('input', function () {\r\n    if (this.value.length > 2)\r\n      this.value = this.value.slice(0, 2);\r\n  })\r\n\r\n  if (input2.value <= 100) {\r\n    if (input2.value.length === 2) {\r\n\r\n      //ejecutar metodo de guardar\r\n      swal(\"describa el nombre del creterio:\", {\r\n        content: \"input\",\r\n      })\r\n        .then((comentario) => {\r\n\r\n          if (comentario) {\r\n            //enviar porcentage y comentario\r\n            enviarCriteriosc2(input2.value, comentario)\r\n            getAlumnos(idMateriaActual, PERIODO_ACTUAL);//LISTA DE ALUMNOS\r\n\r\n            console.log(input2.value)\r\n          } else {\r\n            console.log(input2.value + \"noupede estar vacio \" + comentario)\r\n          }\r\n          //swal(`You typed: ${comentario}`);\r\n        });\r\n\r\n      console.log(\"ejecutar metodo de guardar 1\")\r\n\r\n    }\r\n\r\n  } else {\r\n    alert(\"no puede exeder de 100 %\")\r\n  }\r\n\r\n}//fin\r\n\r\n\r\n\r\nconst guardarPorcentaje_c3 = (e) => {\r\n\r\n  var input3 = document.getElementById('porcentajeC3');//inicio 1\r\n  input3.addEventListener('input', function () {\r\n    if (this.value.length > 2)\r\n      this.value = this.value.slice(0, 2);\r\n  })\r\n\r\n  if (input3.value <= 100) {\r\n    if (input3.value.length === 2) {\r\n      //ejecutar metodo de guardar\r\n      swal(\"describa el nombre del creterio:\", {\r\n        content: \"input\",\r\n      })\r\n        .then((comentario) => {\r\n\r\n          if (comentario) {\r\n            //enviar porcentage y comentario\r\n            enviarCriteriosc3(input3.value, comentario)\r\n            console.log(input3.value)\r\n          } else {\r\n            console.log(input3.value + \"noupede estar vacio \" + comentario)\r\n          }\r\n          //swal(`You typed: ${comentario}`);\r\n        });\r\n\r\n      console.log(\"ejecutar metodo de guardar 1\")\r\n    }\r\n  } else {\r\n    alert(\"no puede exeder de 100 %\")\r\n  }\r\n\r\n}//fin\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default MaterialTableDemo;"]},"metadata":{},"sourceType":"module"}