{"ast":null,"code":"import swal from 'sweetalert';\nimport moment from 'moment';\nimport { ID_USUARIO } from '../../home';\nimport AuthServise from './AuthService';\n\nconst axios = require('axios');\n\nconst urlApi = 'http://localhost:4000'; //https://app-api-docentes.herokuapp.com\n\nexport var PERIODO_ACTUAL, EXISTNCIA_ACTA;\nexport var datalista = [];\nexport var datalistaAlumnos = [];\nexport var dataCriterios = [];\nexport var dataStatusTemas = [];\nexport var dataReportHorario = [];\nexport var dataReportLista = [];\nexport var dataPeriodo = [];\nexport var dataFechasCierre = [];\nexport var dataReporteParciales = [];\n/*export class token{\r\n    constructor(props){\r\n    super(props)\r\n    this.AuthServise = new AuthServise()\r\n      }\r\n}*/\n\n/*  function isLoggedIn(){\r\n    console.log(\"met isLoggedIn\")\r\n    return !! getToken();\r\n}\r\n\r\n\r\nfunction getToken(){\r\n    return localStorage.getItem('token_id');\r\n}*/\n\nasync function request(url, metodo, data) {\n  const response = await fetch(`${urlApi}${url}`, {\n    metodo,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'aplication/json'\n    },\n    body: data ? JSON.stringify(data) : undefined\n  });\n  const jsonReponse = await response.json();\n  return jsonReponse;\n}\n\nexport function treeApi(datas) {\n  console.log(datas);\n  axios({\n    method: 'POST',\n    url: `${urlApi}/api/personal/add`,\n    data: datas\n  }).then(res => console.log(res)).catch(function (error) {\n    swal(\"error!\", \"Verifique su conexion a internet!\", \"warning\");\n  });\n}\nexport async function crearCalificacion(datas, unidad, id_criterios) {\n  //crear calificacion alumno\n  await axios.post(`${urlApi}/api/personal/add/calificacion`, {\n    calR1: datas.calR1,\n    calR2: datas.calR2,\n    calR3: datas.calR3,\n    calR4: datas.calR4,\n    calCriterio1: datas.calCriterio1,\n    calCriterio2: datas.calCriterio2,\n    calCriterio3: datas.calCriterio3,\n    calCriterio4: datas.calCriterio4,\n    calificaciontotal: datas.calificaciontotal,\n    unidad: unidad,\n    idGrupoAsign: datas.asignacionGrupo_idgrupo,\n    materias_idmaterias: datas.idMateria,\n    materiaDocente_id: datas.idMateriaDocente,\n    criterios_idcat_Unidad: id_criterios,\n    aspirante_Folio: datas.folioAspirante,\n    periodo: datas.idnomenclaturaPeriodo,\n    opcion: datas.opcion\n  }).then(res => console.log(res)).catch(function (error) {\n    console.log(error);\n    swal(\"error!\", \"Verifique su conexion a internet!\", \"warning\");\n  });\n}\nvar config = {};\nexport async function getPeriodo() {\n  config = {\n    headers: {\n      token: `${localStorage.getItem('token_id')}`\n    }\n  };\n  console.log(\"periodo\");\n  console.log(config);\n  const response = await axios.get(`${urlApi}/api/personal/consultar/periodo`, config).then(res => dataPeriodo = res.data).catch(function (error) {\n    swal(\" Sin periodos disponibles!\", `${error}`, \"warning\");\n  });\n  PERIODO_ACTUAL = response[0].periodo;\n  EXISTNCIA_ACTA = response[0].existenciaActa;\n  return response;\n}\nexport async function getTemas(idMateria, minimo, cierre) {\n  await axios.get(`${urlApi}/api/personal/consultarTema/${ID_USUARIO}/${idMateria}/${PERIODO_ACTUAL}/${minimo}/${cierre}`).then(res => datalista = res.data).catch(function (error) {\n    swal(\"La materia actual no cuenta con temas asignados !\", \"Puede asignarlos en la pestaña  “CALENDARIO”\", \"warning\");\n  });\n}\nexport async function getStatus_temas(id_usuario, id_materia) {\n  //PERIODO_ACTUAL, ID_USUARIO, materia \n  await axios.get(`${urlApi}/api/personal/consultar/estado/temas/${PERIODO_ACTUAL}/${id_materia}/${id_usuario}`).then(res => dataStatusTemas = res.data).catch(function (error) {\n    swal(\" \", \"Verifique su conexion a internet!\", \"warning\");\n  });\n}\nexport async function getAlumnos(idMateria, unidad) {\n  //consultarAlumnos/:idMateria/:periodo/:idDocente/:unidad\n  console.log('Actualizando alumnos--------------------------------');\n  await axios.get(`${urlApi}/api/personal/consultarAlumnos/${idMateria}/${PERIODO_ACTUAL}/${ID_USUARIO}/${unidad}`).then(res => datalistaAlumnos = res.data).catch(function (error) {\n    swal(\"Error\", \"Verifique su conexion a internet!\", \"warning\");\n  });\n}\nexport async function getCriterios(idMateria, unidad) {\n  await axios.get(`${urlApi}/api/personal/consultarCriterios/${PERIODO_ACTUAL}/${idMateria}/${unidad}`).then(res => dataCriterios = res.data).catch(function (error) {\n    swal(\"Sin temas disponibles!\", \" o Verifique su conexion a internet!\", \"warning\");\n  });\n}\nexport async function putCriteriosc1(materia, unidad, grupo, porcentageC1, criterio1) {\n  await axios.put(`${urlApi}/api/personal/update/criteriosc1/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\n    criterio1: criterio1,\n    porcentageC1: porcentageC1\n  }).then(function (response) {\n    console.log(response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport async function putCriteriosc2(materia, unidad, grupo, porcentageC2, criterio2) {\n  await axios.put(`${urlApi}/api/personal/update/criteriosc2/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\n    criterio2: criterio2,\n    porcentageC2: porcentageC2\n  }).then(function (response) {\n    console.log(response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport async function putCriteriosc3(materia, unidad, grupo, porcentageC3, criterio3) {\n  await axios.put(`${urlApi}/api/personal/update/criteriosc3/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\n    criterio3: criterio3,\n    porcentageC3: porcentageC3\n  }).then(function (response) {\n    console.log(response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport async function putCriteriosc4(materia, unidad, grupo, porcentageC4, criterio4) {\n  await axios.put(`${urlApi}/api/personal/update/criteriosc4/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\n    criterio4: criterio4,\n    porcentageC4: porcentageC4\n  }).then(function (response) {\n    console.log(response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport async function updateCalificaion(idCalificacion, data) {\n  // actalizar calificacion\n  await axios.put(`${urlApi}/api/personal/update/calificaciones/${idCalificacion}`, {\n    calCriterio1: data.calCriterio1,\n    calCriterio2: data.calCriterio2,\n    calCriterio3: data.calCriterio3,\n    calCriterio4: data.calCriterio4,\n    calificaciontotal: data.calificaciontotal,\n    calR1: data.calR1,\n    calR2: data.calR2,\n    calR3: data.calR3,\n    calR4: data.calR4,\n    opcion: data.opcion\n  }).then(function (response) {\n    console.log(response.data);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport async function materiasD() {\n  try {\n    const resul = await axios.get(`${urlApi}/api/personal/consultar/${ID_USUARIO}/${PERIODO_ACTUAL}`).then(res => res.data).catch(function (res) {\n      res = 'error';\n      return res;\n    });\n    return resul;\n  } catch (error) {\n    console.log(error + ' en la peticion materias');\n  }\n}\nexport async function getReporteHorarios(periodo, idMateria, grupo) {\n  await axios.get(`${urlApi}/api/personal/consultar/reporte/horarios/${periodo}/${idMateria}/${ID_USUARIO}/${grupo}`).then(res => dataReportHorario = res.data).catch(function (error) {\n    swal(\"error al buscar los horarios!\", \"Verifique su conexión a internet\", \"warning\");\n  });\n}\nexport async function getReporteLista(periodo, idMateria, grupo) {\n  await axios.get(`${urlApi}/api/personal/consultar/reporte/lista/${periodo}/${idMateria}/${ID_USUARIO}/${grupo}`).then(res => dataReportLista = res.data).catch(function (error) {\n    swal(\"error al buscar lista!\", \"Verifique su conexión a internet\", \"warning\");\n  });\n}\nexport function update(id, data) {\n  return request(`/materias/${id}`, 'POST', data);\n}\nexport function borrer(id) {\n  return request(`/materias/${id}`, 'DELETE');\n} //data administrador\n\nexport async function crearRegistrosfechas(datas) {\n  //crear calificacion alumno\n  await axios.post(`${urlApi}/api/administrador/fechas/registrar`, {\n    primera_entrega: moment(datas.primera).format('YYYY-MM-DD'),\n    segunda_entrega: moment(datas.segunda).format('YYYY-MM-DD'),\n    tercera_entrega: moment(datas.tercera).format('YYYY-MM-DD'),\n    entrega_final: moment(datas.final).format('YYYY-MM-DD'),\n    periodo: PERIODO_ACTUAL\n  }).then(res => swal(\"\", `FECHAS REGISTRADAS AL PERIODO ${PERIODO_ACTUAL}`, \"success\")).catch(function (error) {\n    console.log(error);\n    swal(\"error!\", \"Verifique su conexion a internet!\", \"warning\");\n  });\n}\nexport async function getAdmiFechas() {\n  await axios.get(`${urlApi}/api/administrador/fechas/${PERIODO_ACTUAL}`).then(res => dataFechasCierre = res.data).catch(function (error) {\n    swal(\"\", \"Probablemente el administrador no ha asignado las fechas de cierre \", \"warning\");\n  });\n} //periodo materia personal grupo\n\nexport async function getReporteParcial(materia, grupo) {\n  await axios.get(`${urlApi}/api/reportes/consultar/parciales/${PERIODO_ACTUAL}/${materia}/${ID_USUARIO}/${grupo}`).then(res => dataReporteParciales = res.data).catch(function (error) {\n    swal(\"\", \"No se encontraron TEMAS finalizados.\", \"warning\");\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/servicios/api.js"],"names":["swal","moment","ID_USUARIO","AuthServise","axios","require","urlApi","PERIODO_ACTUAL","EXISTNCIA_ACTA","datalista","datalistaAlumnos","dataCriterios","dataStatusTemas","dataReportHorario","dataReportLista","dataPeriodo","dataFechasCierre","dataReporteParciales","request","url","metodo","data","response","fetch","headers","body","JSON","stringify","undefined","jsonReponse","json","treeApi","datas","console","log","method","then","res","catch","error","crearCalificacion","unidad","id_criterios","post","calR1","calR2","calR3","calR4","calCriterio1","calCriterio2","calCriterio3","calCriterio4","calificaciontotal","idGrupoAsign","asignacionGrupo_idgrupo","materias_idmaterias","idMateria","materiaDocente_id","idMateriaDocente","criterios_idcat_Unidad","aspirante_Folio","folioAspirante","periodo","idnomenclaturaPeriodo","opcion","config","getPeriodo","token","localStorage","getItem","get","existenciaActa","getTemas","minimo","cierre","getStatus_temas","id_usuario","id_materia","getAlumnos","getCriterios","putCriteriosc1","materia","grupo","porcentageC1","criterio1","put","putCriteriosc2","porcentageC2","criterio2","putCriteriosc3","porcentageC3","criterio3","putCriteriosc4","porcentageC4","criterio4","updateCalificaion","idCalificacion","materiasD","resul","getReporteHorarios","getReporteLista","update","id","borrer","crearRegistrosfechas","primera_entrega","primera","format","segunda_entrega","segunda","tercera_entrega","tercera","entrega_final","final","getAdmiFechas","getReporteParcial"],"mappings":"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","sourcesContent":["import swal from 'sweetalert';\r\nimport moment from 'moment';\r\nimport { ID_USUARIO } from '../../home';\r\nimport AuthServise from './AuthService';\r\n\r\nconst axios = require('axios')\r\nconst urlApi = 'http://localhost:4000'; //https://app-api-docentes.herokuapp.com\r\n\r\n\r\n\r\nexport var PERIODO_ACTUAL, EXISTNCIA_ACTA;\r\nexport var datalista = [];\r\nexport var datalistaAlumnos = [];\r\nexport var dataCriterios = [];\r\nexport var dataStatusTemas = [];\r\nexport var dataReportHorario = [];\r\nexport var dataReportLista = [];\r\nexport var dataPeriodo = [];\r\nexport var dataFechasCierre = [];\r\nexport var dataReporteParciales = [];\r\n\r\n\r\n  /*export class token{\r\n\r\n    constructor(props){\r\n      super(props)\r\n      this.AuthServise = new AuthServise()\r\n        }\r\n  }*/\r\n \r\n/*  function isLoggedIn(){\r\n    console.log(\"met isLoggedIn\")\r\n    return !! getToken();\r\n}\r\n\r\n\r\nfunction getToken(){\r\n    return localStorage.getItem('token_id');\r\n}*/\r\n\r\n\r\nasync function request(url, metodo, data) {\r\n  const response = await fetch(`${urlApi}${url}`, {\r\n    metodo,\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'aplication/json',\r\n    },\r\n    body: data ? JSON.stringify(data) : undefined,\r\n  });\r\n  const jsonReponse = await response.json();\r\n  return jsonReponse;\r\n}\r\n\r\nexport function treeApi(datas) {\r\n  console.log(datas)\r\n  axios({\r\n    method: 'POST',\r\n    url: `${urlApi}/api/personal/add`,\r\n    data: datas\r\n  }).then(res => console.log(res))\r\n    .catch(function (error) {\r\n      swal(\"error!\", \"Verifique su conexion a internet!\", \"warning\");\r\n    })\r\n}\r\n\r\nexport async function crearCalificacion(datas, unidad, id_criterios) {//crear calificacion alumno\r\n  await axios.post(`${urlApi}/api/personal/add/calificacion`, {\r\n    calR1: datas.calR1,\r\n    calR2: datas.calR2,\r\n    calR3: datas.calR3,\r\n    calR4: datas.calR4,\r\n    calCriterio1: datas.calCriterio1,\r\n    calCriterio2: datas.calCriterio2,\r\n    calCriterio3: datas.calCriterio3,\r\n    calCriterio4: datas.calCriterio4,\r\n    calificaciontotal: datas.calificaciontotal,\r\n    unidad: unidad,\r\n    idGrupoAsign: datas.asignacionGrupo_idgrupo,\r\n    materias_idmaterias: datas.idMateria,\r\n    materiaDocente_id: datas.idMateriaDocente,\r\n    criterios_idcat_Unidad: id_criterios,\r\n    aspirante_Folio: datas.folioAspirante,\r\n    periodo: datas.idnomenclaturaPeriodo,\r\n    opcion:datas.opcion\r\n  }).then(res => console.log(res))\r\n    .catch(function (error) {\r\n      console.log(error)\r\n      swal(\"error!\", \"Verifique su conexion a internet!\", \"warning\");\r\n    })\r\n}\r\nvar config = {};\r\n\r\nexport async function getPeriodo() {\r\n  \r\n config = {headers: { token: `${localStorage.getItem('token_id')}` }}\r\n  console.log(\"periodo\")\r\n  console.log(config)\r\n\r\n  const response = await axios.get(`${urlApi}/api/personal/consultar/periodo`,config)\r\n    .then(res => dataPeriodo = res.data)\r\n    .catch(function (error) {\r\n      swal(\" Sin periodos disponibles!\", `${error}`, \"warning\");\r\n    })\r\n  PERIODO_ACTUAL = response[0].periodo;\r\n  EXISTNCIA_ACTA = response[0].existenciaActa;\r\n  return response;\r\n}\r\n\r\nexport async function getTemas(idMateria, minimo, cierre) {\r\n  await axios.get(`${urlApi}/api/personal/consultarTema/${ID_USUARIO}/${idMateria}/${PERIODO_ACTUAL}/${minimo}/${cierre}`)\r\n    .then(res => datalista = res.data)\r\n    .catch(function (error) {\r\n      swal(\"La materia actual no cuenta con temas asignados !\", \"Puede asignarlos en la pestaña  “CALENDARIO”\", \"warning\");\r\n    })\r\n}\r\n\r\nexport async function getStatus_temas(id_usuario, id_materia) { //PERIODO_ACTUAL, ID_USUARIO, materia \r\n  await axios.get(`${urlApi}/api/personal/consultar/estado/temas/${PERIODO_ACTUAL}/${id_materia}/${id_usuario}`)\r\n    .then(res => dataStatusTemas = res.data)\r\n    .catch(function (error) {\r\n      swal(\" \", \"Verifique su conexion a internet!\", \"warning\");\r\n    })\r\n}\r\n\r\nexport async function getAlumnos(idMateria, unidad) {//consultarAlumnos/:idMateria/:periodo/:idDocente/:unidad\r\n  console.log('Actualizando alumnos--------------------------------')\r\n  await axios.get(`${urlApi}/api/personal/consultarAlumnos/${idMateria}/${PERIODO_ACTUAL}/${ID_USUARIO}/${unidad}`)\r\n    .then(res => datalistaAlumnos = res.data)\r\n    .catch(function (error) {\r\n      swal(\"Error\", \"Verifique su conexion a internet!\", \"warning\");\r\n    })\r\n}\r\n\r\nexport async function getCriterios(idMateria, unidad) {\r\n  await axios.get(`${urlApi}/api/personal/consultarCriterios/${PERIODO_ACTUAL}/${idMateria}/${unidad}`)\r\n    .then(res => dataCriterios = res.data)\r\n    .catch(function (error) {\r\n      swal(\"Sin temas disponibles!\", \" o Verifique su conexion a internet!\", \"warning\");\r\n    })\r\n}\r\n\r\nexport async function putCriteriosc1(materia, unidad, grupo, porcentageC1, criterio1) {\r\n  await axios.put(`${urlApi}/api/personal/update/criteriosc1/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\r\n    criterio1: criterio1,\r\n    porcentageC1: porcentageC1,\r\n  })\r\n    .then(function (response) {\r\n      console.log(response.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nexport async function putCriteriosc2(materia, unidad, grupo, porcentageC2, criterio2) {\r\n  await axios.put(`${urlApi}/api/personal/update/criteriosc2/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\r\n    criterio2: criterio2,\r\n    porcentageC2: porcentageC2,\r\n  })\r\n    .then(function (response) {\r\n      console.log(response.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nexport async function putCriteriosc3(materia, unidad, grupo, porcentageC3, criterio3) {\r\n  await axios.put(`${urlApi}/api/personal/update/criteriosc3/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\r\n    criterio3: criterio3,\r\n    porcentageC3: porcentageC3,\r\n  })\r\n    .then(function (response) {\r\n      console.log(response.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nexport async function putCriteriosc4(materia, unidad, grupo, porcentageC4, criterio4) {\r\n  await axios.put(`${urlApi}/api/personal/update/criteriosc4/${PERIODO_ACTUAL}/${materia}/${unidad}/${grupo}`, {\r\n    criterio4: criterio4,\r\n    porcentageC4: porcentageC4,\r\n  })\r\n    .then(function (response) {\r\n      console.log(response.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nexport async function updateCalificaion(idCalificacion, data) {// actalizar calificacion\r\n  await axios.put(`${urlApi}/api/personal/update/calificaciones/${idCalificacion}`, {\r\n    calCriterio1: data.calCriterio1,\r\n    calCriterio2: data.calCriterio2,\r\n    calCriterio3: data.calCriterio3,\r\n    calCriterio4: data.calCriterio4,\r\n    calificaciontotal: data.calificaciontotal,\r\n    calR1: data.calR1,\r\n    calR2: data.calR2,\r\n    calR3: data.calR3,\r\n    calR4: data.calR4,\r\n    opcion:data.opcion,\r\n  })\r\n    .then(function (response) {\r\n      console.log(response.data);\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n}\r\n\r\nexport async function materiasD() {\r\n  try {\r\n    const resul = await axios.get(`${urlApi}/api/personal/consultar/${ID_USUARIO}/${PERIODO_ACTUAL}`)\r\n      .then(res => res.data)\r\n      .catch(function (res) {\r\n        res = 'error'\r\n        return res;\r\n      })\r\n    return resul;\r\n  } catch (error) {\r\n    console.log(error + ' en la peticion materias')\r\n  }\r\n}\r\n\r\nexport async function getReporteHorarios(periodo, idMateria, grupo) {\r\n  await axios.get(`${urlApi}/api/personal/consultar/reporte/horarios/${periodo}/${idMateria}/${ID_USUARIO}/${grupo}`)\r\n    .then(res => dataReportHorario = res.data)\r\n    .catch(function (error) {\r\n      swal(\"error al buscar los horarios!\", \"Verifique su conexión a internet\", \"warning\");\r\n    })\r\n}\r\n\r\n\r\nexport async function getReporteLista(periodo, idMateria, grupo) {\r\n  await axios.get(`${urlApi}/api/personal/consultar/reporte/lista/${periodo}/${idMateria}/${ID_USUARIO}/${grupo}`)\r\n    .then(res => dataReportLista = res.data)\r\n    .catch(function (error) {\r\n      swal(\"error al buscar lista!\", \"Verifique su conexión a internet\", \"warning\");\r\n    })\r\n}\r\n\r\n\r\n\r\nexport function update(id, data) {\r\n  return request(`/materias/${id}`, 'POST', data);\r\n}\r\n\r\n\r\nexport function borrer(id) {\r\n  return request(`/materias/${id}`, 'DELETE');\r\n}\r\n\r\n//data administrador\r\nexport async function crearRegistrosfechas(datas) {//crear calificacion alumno\r\n  await axios.post(`${urlApi}/api/administrador/fechas/registrar`, {\r\n    primera_entrega: moment(datas.primera).format('YYYY-MM-DD'),\r\n    segunda_entrega: moment(datas.segunda).format('YYYY-MM-DD'),\r\n    tercera_entrega: moment(datas.tercera).format('YYYY-MM-DD'),\r\n    entrega_final: moment(datas.final).format('YYYY-MM-DD'),\r\n    periodo: PERIODO_ACTUAL\r\n  }).then(res => swal(\"\", `FECHAS REGISTRADAS AL PERIODO ${PERIODO_ACTUAL}`, \"success\"))\r\n    .catch(function (error) {\r\n      console.log(error)\r\n      swal(\"error!\", \"Verifique su conexion a internet!\", \"warning\");\r\n    })\r\n}\r\n\r\nexport async function getAdmiFechas() {\r\n  await axios.get(`${urlApi}/api/administrador/fechas/${PERIODO_ACTUAL}`)\r\n    .then(res => dataFechasCierre = res.data)\r\n    .catch(function (error) {\r\n      swal(\"\", \"Probablemente el administrador no ha asignado las fechas de cierre \", \"warning\");\r\n    })\r\n}\r\n                //periodo materia personal grupo\r\n\r\nexport async function getReporteParcial(materia, grupo) {\r\n  await axios.get(`${urlApi}/api/reportes/consultar/parciales/${PERIODO_ACTUAL}/${materia}/${ID_USUARIO}/${grupo}`)\r\n    .then(res => dataReporteParciales = res.data)\r\n    .catch(function (error) {\r\n      swal(\"\", \"No se encontraron TEMAS finalizados.\", \"warning\");\r\n      console.log(error)\r\n    })\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}