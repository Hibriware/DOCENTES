{"ast":null,"code":"import _classCallCheck from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _regeneratorRuntime from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Certificados\\\\heroku\\\\pruevaparaproduccion\\\\DOCENTES\\\\itsrdocentes\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{Component,Suspense}from'react';import Usuarios from'./componentes/menu_usuarios/usuarios';import PageError from'./componentes/404';import{materiasD,getPeriodo}from'./componentes/servicios/api';import Loader from'./login/cargaDedatos';import AuthService from'./componentes/servicios/AuthService';export var dataMateria=null,ID_USUARIO=0;export var caches,bandera,perio;export var resetear=function resetear(){caches=null;dataMateria=null;};function CargadeDatos(data){console.log(' daTA');console.log(\"--------------------------\");console.log(data);console.log(caches);console.log(dataMateria);console.log(\"--------------------------\");console.log(data.data[0].nombreRol);var roles=data.data[0].nombreRol;ID_USUARIO=data.data[0].usuarioID;//validar la ruta\nif(roles==='Administrador'){//inicio\nconsole.log(\"Administrador\");if(!caches){throw getPeriodo().then(function(res){console.log(res+'<<<<<<<<<<<<<<<<<');if(res==='error'){perio=true;caches=res;}else{caches=res;perio=false;}}).catch(perio=true);}//fin\nreturn React.createElement(React.Fragment,null,perio?React.createElement(PageError,{onAuthChange:data.onAuthChange,onGenerar:data.logout,resetear:resetear,informacion:\"Informacion no disponible \"}):React.createElement(Usuarios,{onAuthChange:data.onAuthChange,resetear:resetear}));}else if(roles==='Docente'){//inicio\nconsole.log('Docente Docente Docente');if(!caches){throw getPeriodo().then(function(res){if(res==='error'){perio=true;caches=res;}else{caches=res;bandera=caches;}}).catch(dataMateria='error');}if(bandera){console.log('dataMateria 2');throw materiasD().then(function(data){dataMateria=data;bandera=null;console.log(dataMateria);}).catch(dataMateria='error');}return React.createElement(React.Fragment,null,perio?React.createElement(PageError,{onAuthChange:data.onAuthChange,onGenerar:data.logout,resetear:resetear,informacion:\"Informacion no disponible \"}):dataMateria==='error'?React.createElement(PageError,{onAuthChange:data.onAuthChange,onGenerar:data.logout,resetear:resetear,informacion:\"No cuenta con materias asignadas en el actual periodo \"}):React.createElement(Usuarios,{onAuthChange:data.onAuthChange,resetear:resetear}));}//fin\n/*return (\r\n    <div>\r\n      {dataMateria === 'error' ? <h1>API 404 o Actualmente no cuenta con materias asisgnada...</h1> : <Usuarios />}\r\n    </div>\r\n  );*/}export var dataMaterias=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return materiasD();case 2:dataMateria=_context.sent;console.log(dataMateria);case 4:case\"end\":return _context.stop();}}},_callee);}));return function dataMaterias(){return _ref.apply(this,arguments);};}();//export var fecha1 = '2020-02-27', fecha2 = '2020-03-27', fecha3 = '2020-04-27';\nvar Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this));_this.AuthService=new AuthService();_this.logout=_this.logout.bind(_assertThisInitialized(_this));_this.state={};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var n=this.AuthService.getUser();return React.createElement(React.Fragment,null,React.createElement(Suspense,{fallback:React.createElement(Loader,null)},React.createElement(CargadeDatos,{data:n,onAuthChange:this.props.onAuthChange,logout:this.logout})));}},{key:\"logout\",value:function logout(){this.AuthService.logout();this.props.onAuthChange();}}]);return Home;}(Component);;export default Home;","map":{"version":3,"sources":["E:/Certificados/heroku/pruevaparaproduccion/DOCENTES/itsrdocentes/src/home.js"],"names":["React","Component","Suspense","Usuarios","PageError","materiasD","getPeriodo","Loader","AuthService","dataMateria","ID_USUARIO","caches","bandera","perio","resetear","CargadeDatos","data","console","log","nombreRol","roles","usuarioID","then","res","catch","onAuthChange","logout","dataMaterias","Home","props","bind","state","n","getUser"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport Usuarios from './componentes/menu_usuarios/usuarios';\r\nimport PageError from './componentes/404'\r\nimport { materiasD, getPeriodo } from './componentes/servicios/api';\r\nimport Loader from './login/cargaDedatos';\r\nimport AuthService from './componentes/servicios/AuthService';\r\nexport var dataMateria =null, ID_USUARIO = 0;\r\nexport var caches, bandera,perio;\r\n\r\nexport const resetear =()=>{\r\n  caches = null\r\n  dataMateria=null\r\n}\r\n\r\nfunction CargadeDatos(data) {\r\n \r\n  console.log(' daTA')\r\n  console.log(\"--------------------------\")\r\n  console.log(data)\r\n  console.log(caches)\r\n  console.log(dataMateria )\r\n  console.log(\"--------------------------\")\r\n\r\n\r\n  console.log(data.data[0].nombreRol)\r\nlet roles = data.data[0].nombreRol;\r\nID_USUARIO = data.data[0].usuarioID;\r\n//validar la ruta\r\nif(roles === 'Administrador'){//inicio\r\n  console.log(\"Administrador\")\r\n  if (!caches) {\r\n    throw  getPeriodo().then(res => {\r\n      console.log(res  + '<<<<<<<<<<<<<<<<<')\r\n      if(res==='error'){\r\n        perio = true\r\n        caches = res\r\n      }else{\r\n        caches = res\r\n        perio = false\r\n      }\r\n      \r\n    }).catch(perio = true)\r\n  }\r\n//fin\r\nreturn (\r\n<>\r\n{ perio ? <PageError onAuthChange={data.onAuthChange} onGenerar={data.logout} resetear={resetear} informacion=\"Informacion no disponible \"/> :<Usuarios onAuthChange={data.onAuthChange} resetear={resetear} />}\r\n</>)\r\n\r\n}else if(roles === 'Docente'){//inicio\r\n  console.log('Docente Docente Docente')\r\n  if (!caches) {\r\n    throw  getPeriodo().then(res => {\r\n      if(res ==='error'){\r\n        perio = true\r\n        caches = res\r\n      }else{\r\n        caches = res\r\n        bandera = caches\r\n      }\r\n       \r\n    }).catch(dataMateria = 'error')\r\n  }\r\n\r\n  if (bandera) {\r\n    console.log('dataMateria 2')\r\n\r\n      throw materiasD().then(data => {\r\n      dataMateria = data\r\n      bandera = null\r\n      console.log(dataMateria)\r\n    }).catch(dataMateria = 'error')\r\n    \r\n  }\r\n\r\nreturn (\r\n  <>\r\n  { perio ? <PageError onAuthChange={data.onAuthChange} onGenerar={data.logout} resetear={resetear} informacion=\"Informacion no disponible \"/> : dataMateria ==='error' ? <PageError onAuthChange={data.onAuthChange} onGenerar={data.logout} resetear={resetear} informacion=\"No cuenta con materias asignadas en el actual periodo \"/>: <Usuarios onAuthChange={data.onAuthChange} resetear={resetear}/>}\r\n  </>\r\n)}//fin\r\n\r\n  /*return (\r\n    <div>\r\n      {dataMateria === 'error' ? <h1>API 404 o Actualmente no cuenta con materias asisgnada...</h1> : <Usuarios />}\r\n    </div>\r\n  );*/\r\n}\r\n\r\n\r\nexport const dataMaterias = async () => {\r\n  dataMateria = await materiasD();\r\n  console.log(dataMateria)\r\n}\r\n\r\n//export var fecha1 = '2020-02-27', fecha2 = '2020-03-27', fecha3 = '2020-04-27';\r\n\r\nclass Home extends Component {\r\n\r\n  constructor(props) {\r\n    super();\r\n    this.AuthService = new AuthService();\r\n    this.logout=this.logout.bind(this);\r\n    \r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const n = this.AuthService.getUser();\r\n    return (<>\r\n    \r\n      <Suspense fallback={ <Loader />}>\r\n        <CargadeDatos data={n} onAuthChange={this.props.onAuthChange} logout={this.logout} />\r\n     </Suspense>\r\n          </>)\r\n  }\r\n  logout(){\r\n    this.AuthService.logout();\r\n    this.props.onAuthChange();\r\n  }\r\n};\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}