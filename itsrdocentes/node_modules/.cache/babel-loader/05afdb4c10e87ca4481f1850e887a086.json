{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\contenedores\\\\docente_calificaciones\\\\tabla_calificaciones.jsx\";\nimport React, { useEffect, useRef } from 'react';\nimport MaterialTable from 'material-table';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport moment from 'moment';\nimport swal from 'sweetalert';\nimport './calificaciones.css';\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\nimport { useStyles } from './dialogos_calificacion';\nimport { getTemas, dataPeriodo, datalista, getAlumnos, getAdmiFechas } from '../../servicios/api';\nimport { datalistaAlumnos, getCriterios, dataCriterios } from '../../servicios/api';\nimport { putCriteriosc1, putCriteriosc2, putCriteriosc3, putCriteriosc4 } from '../../servicios/api';\nimport { crearCalificacion, updateCalificaion, dataFechasCierre } from '../../servicios/api';\nimport { dataMateria } from '../../../home';\nexport var unidad_Tema;\nvar ccx1 = 0,\n    ccx2 = 0,\n    ccx3 = 0,\n    ccx4 = 0,\n    unidadCalificacion,\n    id_criterios;\nvar crt1 = 'criterio_1',\n    crt2 = 'criterio_2',\n    crt3 = 'criterio_3',\n    crt4 = 'criterio_4';\nvar idDocenteActual, idMateriaActual; // fun buscarTtema\n\nvar materia, unidad, grupo;\nexport async function enviarCriteriosc1(porcentageC1, criterio1) {\n  //parametros update periodo, materia, unidad, grupo\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc1(materia, unidad, grupo, porcentageC1, criterio1);\n  await updates();\n} //fin\n\nexport async function enviarCriteriosc2(porcentageC1, criterio1) {\n  //inicio guardar porcentaje 2 y criterio 2\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc2(materia, unidad, grupo, porcentageC1, criterio1);\n  await updates();\n} //fin\n\nexport async function enviarCriteriosc3(porcentageC1, criterio1) {\n  //inicio guardar porcentaje 3 y criterio 3\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc3(materia, unidad, grupo, porcentageC1, criterio1);\n  await updates();\n} //fin\n\nexport async function enviarCriteriosc4(porcentageC4, criterio4) {\n  //inicio guardar porcentaje 3 y criterio 3\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc4(materia, unidad, grupo, porcentageC4, criterio4);\n  await updates();\n} //fin\n\nconst updates = async () => {\n  //actualiza los griterios despues de incertar en la db\n  console.log('actualizar vista');\n  await getCriterios(idMateriaActual, unidadCalificacion); // LISTA DE CRITERIO getTem\n\n  await Promise.all([ccx1 = dataCriterios[0].porcentageC1, ccx2 = dataCriterios[0].porcentageC2, ccx3 = dataCriterios[0].porcentageC3, ccx4 = dataCriterios[0].porcentageC4, crt1 = dataCriterios[0].criterio1, crt2 = dataCriterios[0].criterio2, crt3 = dataCriterios[0].criterio3, crt4 = dataCriterios[0].criterio4]);\n  document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\n\n  document.getElementById('porcentajeC2').value = ccx2;\n  document.getElementById('porcentajeC3').value = ccx3;\n  document.getElementById('porcentajeC4').value = ccx4;\n};\n\nexport const MaterialTableDemo = () => {\n  //inicio del componente\n  const estilos = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [calificaciones, setcalificaciones] = React.useState({\n    datalistaAlumnos\n  });\n  const [listasTemas, setListas] = React.useState([]);\n  const [MATERIA_ID, setMATERIA_ID] = React.useState([]);\n  const [materia, setMateria] = React.useState('');\n  const [unidad, setUnidad] = React.useState('');\n  const [cierre, setCierre] = React.useState(false);\n  const [minimo, setMinimo] = React.useState(false);\n  const [activo, setActivo] = React.useState(true);\n  const BC1 = useRef(); //let get_materia_id;\n\n  const fecha_actual = moment(new Date('2020-03-31')).format('YYYY-MM-DD'); //moment(new Date()).format('DD-MM-YYYY');\n\n  useEffect(() => {\n    console.log(BC1.current.disabled = true); // document.getElementById('porcentajeC1').disabled = true;\n\n    async function fechasGet() {\n      //establese el cieere de acta de acuerdo la fecha actual\n      try {\n        await getAdmiFechas();\n        var primera = moment(dataFechasCierre[0].primera_entrega).format('YYYY-MM-DD');\n        var segunda = moment(dataFechasCierre[0].segunda_entrega).format('YYYY-MM-DD');\n        var tercera = moment(dataFechasCierre[0].tercera_entrega).format('YYYY-MM-DD');\n\n        if (fecha_actual <= primera) {\n          let rest = moment(fecha_actual).subtract(2, 'month');\n          setCierre(primera);\n          setMinimo(moment(rest).format('YYYY-MM-DD'));\n        } else if (fecha_actual <= segunda) {\n          setCierre(segunda);\n          setMinimo(primera);\n        } else if (fecha_actual <= tercera) {\n          setCierre(tercera);\n          setMinimo(segunda);\n        } else {\n          console.log(\"Sin fechas de cierre definidas por el momento \");\n        }\n      } catch (error) {//pendiente\n      }\n    }\n\n    fechasGet();\n  }, []);\n\n  const buscarTema = async materiaid => {\n    //inicio selec materia en la vista\n    setListas([]); //actualiza el la lista de materias actual\n\n    await setcalificaciones({\n      datalistaAlumnos: []\n    });\n    idDocenteActual = dataMateria[0].id_docente;\n    idMateriaActual = materiaid.target.value;\n    setMateria(idMateriaActual);\n    setMATERIA_ID(idMateriaActual); //actualizar al estado\n\n    await getTemas(idDocenteActual, idMateriaActual, minimo, cierre);\n    setListas(datalista); //actualiza el la lista de materias actual\n  }; //fi\n\n\n  const obtenerTema = async tem => {\n    //inico\n    setOpen(true);\n    let numTemas = tem.target.value;\n    setUnidad(numTemas);\n    await getAlumnos(MATERIA_ID, numTemas); //LISTA DE ALUMNOS  Pendiene mandar unidad que es el tema #\n\n    await setcalificaciones({\n      datalistaAlumnos: datalistaAlumnos\n    });\n    await getCriterios(MATERIA_ID, numTemas); // LISTA DE CRITERIO getTem\n\n    await Promise.all([ccx1 = dataCriterios[0].porcentageC1, ccx2 = dataCriterios[0].porcentageC2, ccx3 = dataCriterios[0].porcentageC3, ccx4 = dataCriterios[0].porcentageC4, crt1 = dataCriterios[0].criterio1, crt2 = dataCriterios[0].criterio2, crt3 = dataCriterios[0].criterio3, crt4 = dataCriterios[0].criterio4]);\n    document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\n\n    document.getElementById('porcentajeC2').value = ccx2;\n    document.getElementById('porcentajeC3').value = ccx3;\n    document.getElementById('porcentajeC4').value = ccx4;\n    setOpen(false);\n    BC1.current.disabled = false;\n    unidadCalificacion = dataCriterios[0].numUnidad; //public unidad del criterio seleccinado\n\n    id_criterios = dataCriterios[0].idcat_Unidad; //public id_criterios del criterio seleccinado\n  }; //fin\n\n\n  const guardarPromedio = async datos => {\n    //inicio  enviar el promedio asignado en la tabla captura_calificacion\n    let bandera = datos.materiaDocente_id;\n    let idcalificacion = datos.idcalificaciones;\n\n    if (bandera) {\n      if (datos.calR2 === null && datos.calR3 === null && datos.calR4 === null) {\n        datos.calR2 = 0;\n        datos.calR3 = 0;\n        datos.calR4 = 0;\n      } else if (datos.calR3 === null && datos.calR4 === null) {\n        datos.calR3 = 0;\n        datos.calR4 = 0;\n      } else if (datos.calR4 === null) {\n        datos.calR4 = 0;\n      }\n\n      await updateCalificaion(idcalificacion, datos);\n    } else {\n      //crear registro para el alumno en registro calificacion\n      await crearCalificacion(datos, unidadCalificacion, id_criterios);\n      await getAlumnos(MATERIA_ID, unidadCalificacion); //LISTA DE ALUMNOS\n\n      await setcalificaciones({\n        datalistaAlumnos: datalistaAlumnos\n      });\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c1 = async () => {\n    //inicio\n    var input = document.getElementById('porcentajeC1');\n    input.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input.value <= 100) {\n      if (input.value.length === 2) {\n        swal(\"Describa el nombre del creterio:\", {\n          content: \"input\",\n          closeOnClickOutside: false\n        }).then(comentario => {\n          if (comentario) {\n            //enviar porcentage y comentario\n            enviarCriteriosc1(input.value, comentario).then(res => {\n              console.log(res);\n            });\n          } else {\n            alert(\"No puede estar vacio\");\n          }\n        });\n      }\n    } else {\n      alert(\"no puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c2 = e => {\n    //inicio\n    var input2 = document.getElementById('porcentajeC2'); //inicio 1\n\n    input2.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input2.value <= 100) {\n      if (input2.value.length === 2) {\n        //ejecutar metodo de guardar\n        swal(\"describa el nombre del creterio:\", {\n          content: \"input\",\n          closeOnClickOutside: false\n        }).then(comentario => {\n          if (comentario) {\n            console.log(\"estos es :\" + unidadCalificacion + \"  y \" + idMateriaActual);\n            enviarCriteriosc2(input2.value, comentario);\n          } else {\n            console.log(\"No puede estar vacio\");\n          }\n        });\n      }\n    } else {\n      alert(\"No puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c3 = e => {\n    //inicio\n    var input3 = document.getElementById('porcentajeC3'); //inicio 1\n\n    input3.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input3.value <= 100) {\n      if (input3.value.length === 2) {\n        swal(\"describa el nombre del creterio:\", {\n          content: \"input\",\n          closeOnClickOutside: false\n        }).then(comentario => {\n          if (comentario) {\n            enviarCriteriosc3(input3.value, comentario);\n          } else {\n            alert(\"No puede estar vacio \");\n          }\n        });\n      }\n    } else {\n      alert(\"No puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c4 = e => {\n    //inicio\n    var input4 = document.getElementById('porcentajeC4'); //inicio 1\n\n    input4.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input4.value <= 100) {\n      if (input4.value.length === 2) {\n        swal(\"Describa el nombre del creterio:\", {\n          content: \"input\",\n          closeOnClickOutside: false\n        }).then(comentario => {\n          if (comentario) {\n            enviarCriteriosc4(input4.value, comentario);\n          } else {\n            alert(\"No puede estar vacio \");\n          }\n        });\n      }\n    } else {\n      alert(\"No puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const [alumnos, setAlumnos] = React.useState({\n    // datos de la tabla calificacion\n    columns: [{\n      title: 'NÂª',\n      field: 'nm',\n      editable: 'never'\n    }, {\n      title: 'Control',\n      field: 'control',\n      editable: 'never',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'Nombre',\n      field: 'nameAlumno',\n      editable: 'never',\n      disablePadding: true\n    }, {\n      title: 'Curso',\n      field: 'curso',\n      editable: 'never',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'Opcion',\n      field: 'opcion',\n      editable: 'never',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C1',\n      field: 'calR1',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C2',\n      field: 'calR2',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C3',\n      field: 'calR3',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C4',\n      field: 'calR4',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: '#',\n      field: '#',\n      editable: 'never',\n      size: 'small',\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC1\",\n        placeholder: \"C1\",\n        style: {\n          width: '4ch'\n        },\n        ref: BC1,\n        onChange: guardarPorcentaje_c1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }),\n      field: 'calCriterio1',\n      editable: 'never',\n      minWidth: 10,\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC2\",\n        placeholder: \"C2\",\n        style: {\n          width: '4ch'\n        },\n        ref: BC1,\n        onChange: guardarPorcentaje_c2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }),\n      field: 'calCriterio2',\n      editable: 'never',\n      minWidth: 10,\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC3\",\n        placeholder: \"C3\",\n        style: {\n          width: '4ch'\n        },\n        ref: BC1,\n        onChange: guardarPorcentaje_c3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }),\n      field: 'calCriterio3',\n      editable: 'never',\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC4\",\n        placeholder: \"C4\",\n        style: {\n          width: '4ch'\n        },\n        ref: BC1,\n        onChange: guardarPorcentaje_c4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }),\n      field: 'calCriterio4',\n      editable: 'never',\n      disablePadding: true\n    }, {\n      title: 'Total',\n      field: 'calificaciontotal',\n      editable: 'never',\n      disablePadding: true\n    }]\n  }); //\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }, React.createElement(Backdrop, {\n    className: estilos.backdrop,\n    open: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, React.createElement(CircularProgress, {\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }, \"INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS\")), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.paperperiodos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335\n    },\n    __self: this\n  }, \"PERIODO: \", dataPeriodo[0].rango)), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.paperperiodos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, \"CIERRE DE ACTA: \", cierre)), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: estilos.paperAvatar,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }, React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, ccx1),\n    label: crt1,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, ccx2),\n    label: crt2,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, ccx3),\n    label: crt3,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, ccx4),\n    label: crt4,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.papermaterias,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: estilos.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"InputLabel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }, \"Materia\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined\",\n    id: \"materia\",\n    onChange: buscarTema,\n    label: \"Materia\",\n    value: materia,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352\n    },\n    __self: this\n  }, dataMateria.map(materias => React.createElement(MenuItem, {\n    key: materias.nm,\n    value: materias.idMateria,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358\n    },\n    __self: this\n  }, materias.nombre + ' (' + materias.semestre + \"/\" + materias.nomenclatura + \") \" + materias.nombreCorto)))))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.papermaterias,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: estilos.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"demo-simple-select-outlined-labe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366\n    },\n    __self: this\n  }, \"Unidad\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined-labe\",\n    id: \"unidad\",\n    label: \"Unidad\",\n    value: unidad,\n    onChange: obtenerTema,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367\n    },\n    __self: this\n  }, listasTemas.map((tem, i) => React.createElement(MenuItem, {\n    key: i,\n    value: tem.numUnidad,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373\n    },\n    __self: this\n  }, tem.tema)))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381\n    },\n    __self: this\n  }, React.createElement(MaterialTable, {\n    title: \"Captura de calificaciones\",\n    columns: alumnos.columns //columnas\n    ,\n    data: calificaciones.datalistaAlumnos //filas\n    ,\n    editable: {\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            setcalificaciones(prevState => {\n              const datalistaAlumnos = [...prevState.datalistaAlumnos]; //obtenr data\n\n              console.log(newData.calCriterio1 = newData.calR1 * (ccx1 / 100));\n              console.log(newData.calCriterio2 = newData.calR2 * (ccx2 / 100));\n              console.log(newData.calCriterio3 = newData.calR3 * (ccx3 / 100));\n              console.log(newData.calCriterio4 = newData.calR4 * (ccx4 / 100));\n              console.log(newData.calificaciontotal = parseInt(newData.calCriterio1) + parseInt(newData.calCriterio2) + parseInt(newData.calCriterio3) + parseInt(newData.calCriterio4));\n              console.log(newData); //estado fila modificado\n\n              datalistaAlumnos[datalistaAlumnos.indexOf(oldData)] = newData;\n              guardarPromedio(newData);\n              return { ...prevState,\n                datalistaAlumnos\n              };\n            });\n          }\n        }, 600);\n      })\n    },\n    options: {\n      headerStyle: {\n        backgroundColor: '#01579b',\n        color: '#FFF',\n        size: 'small'\n      },\n      rowStyle: {\n        white: 'pre'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423\n    },\n    __self: this\n  }, \"*O: Ordinario   *1:Primera oportunidad   *NA: No Alcanza\"), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424\n    },\n    __self: this\n  }, \"*R: Repeticion   *2:Segunda oportunidad\"), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }, \"*E: Especial\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    startIcon: React.createElement(SaveIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  }, \"Descargar Reporte de Calificaciones\"))));\n};\nexport default MaterialTableDemo;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/contenedores/docente_calificaciones/tabla_calificaciones.jsx"],"names":["React","useEffect","useRef","MaterialTable","Button","Grid","Paper","SaveIcon","InputLabel","FormControl","Select","MenuItem","Backdrop","CircularProgress","moment","swal","Chip","Avatar","useStyles","getTemas","dataPeriodo","datalista","getAlumnos","getAdmiFechas","datalistaAlumnos","getCriterios","dataCriterios","putCriteriosc1","putCriteriosc2","putCriteriosc3","putCriteriosc4","crearCalificacion","updateCalificaion","dataFechasCierre","dataMateria","unidad_Tema","ccx1","ccx2","ccx3","ccx4","unidadCalificacion","id_criterios","crt1","crt2","crt3","crt4","idDocenteActual","idMateriaActual","materia","unidad","grupo","enviarCriteriosc1","porcentageC1","criterio1","materias_idmaterias","numUnidad","asingnacion_grupo_id","updates","enviarCriteriosc2","enviarCriteriosc3","enviarCriteriosc4","porcentageC4","criterio4","console","log","Promise","all","porcentageC2","porcentageC3","criterio2","criterio3","document","getElementById","value","MaterialTableDemo","estilos","open","setOpen","useState","calificaciones","setcalificaciones","listasTemas","setListas","MATERIA_ID","setMATERIA_ID","setMateria","setUnidad","cierre","setCierre","minimo","setMinimo","activo","setActivo","BC1","fecha_actual","Date","format","current","disabled","fechasGet","primera","primera_entrega","segunda","segunda_entrega","tercera","tercera_entrega","rest","subtract","error","buscarTema","materiaid","id_docente","target","obtenerTema","tem","numTemas","idcat_Unidad","guardarPromedio","datos","bandera","materiaDocente_id","idcalificacion","idcalificaciones","calR2","calR3","calR4","guardarPorcentaje_c1","input","addEventListener","length","slice","content","closeOnClickOutside","then","comentario","res","alert","guardarPorcentaje_c2","e","input2","guardarPorcentaje_c3","input3","guardarPorcentaje_c4","input4","alumnos","setAlumnos","columns","title","field","editable","disablePadding","minWidth","size","width","backdrop","paperperiodos","rango","paperAvatar","papermaterias","formControl","map","materias","nm","idMateria","nombre","semestre","nomenclatura","nombreCorto","i","tema","onRowUpdate","newData","oldData","resolve","setTimeout","prevState","calCriterio1","calR1","calCriterio2","calCriterio3","calCriterio4","calificaciontotal","parseInt","indexOf","headerStyle","backgroundColor","color","rowStyle","white"],"mappings":"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","sourcesContent":["import React, { useEffect,useRef } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport moment from 'moment';\r\nimport swal from 'sweetalert';\r\nimport './calificaciones.css';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { useStyles } from './dialogos_calificacion';\r\nimport { getTemas, dataPeriodo, datalista, getAlumnos, getAdmiFechas } from '../../servicios/api';\r\nimport { datalistaAlumnos, getCriterios, dataCriterios } from '../../servicios/api';\r\nimport { putCriteriosc1, putCriteriosc2, putCriteriosc3, putCriteriosc4 } from '../../servicios/api';\r\nimport { crearCalificacion, updateCalificaion, dataFechasCierre } from '../../servicios/api';\r\nimport { dataMateria } from '../../../home';\r\nexport var unidad_Tema;\r\n\r\nvar ccx1 = 0, ccx2 = 0, ccx3 = 0, ccx4 = 0, unidadCalificacion, id_criterios;\r\nvar crt1 = 'criterio_1', crt2 = 'criterio_2', crt3 = 'criterio_3', crt4 = 'criterio_4';\r\nvar idDocenteActual, idMateriaActual; // fun buscarTtema\r\nvar materia, unidad, grupo;\r\n\r\nexport async function enviarCriteriosc1(porcentageC1, criterio1) {//parametros update periodo, materia, unidad, grupo\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  await putCriteriosc1(materia, unidad, grupo, porcentageC1, criterio1)\r\n  await updates()\r\n}//fin\r\n\r\n\r\nexport async function enviarCriteriosc2(porcentageC1, criterio1) {//inicio guardar porcentaje 2 y criterio 2\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  await putCriteriosc2(materia, unidad, grupo, porcentageC1, criterio1)\r\n  await updates()\r\n}//fin\r\n\r\n\r\nexport async function enviarCriteriosc3(porcentageC1, criterio1) {//inicio guardar porcentaje 3 y criterio 3\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  await putCriteriosc3(materia, unidad, grupo, porcentageC1, criterio1)\r\n  await updates()\r\n}//fin\r\n\r\nexport async function enviarCriteriosc4(porcentageC4, criterio4) {//inicio guardar porcentaje 3 y criterio 3\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n  await putCriteriosc4(materia, unidad, grupo, porcentageC4, criterio4)\r\n  await updates()\r\n}//fin\r\n\r\nconst updates = async () => {//actualiza los griterios despues de incertar en la db\r\n  console.log('actualizar vista')\r\n  await getCriterios(idMateriaActual, unidadCalificacion);// LISTA DE CRITERIO getTem\r\n  await Promise.all([\r\n    ccx1 = dataCriterios[0].porcentageC1,\r\n    ccx2 = dataCriterios[0].porcentageC2,\r\n    ccx3 = dataCriterios[0].porcentageC3,\r\n    ccx4 = dataCriterios[0].porcentageC4,\r\n    crt1 = dataCriterios[0].criterio1,\r\n    crt2 = dataCriterios[0].criterio2,\r\n    crt3 = dataCriterios[0].criterio3,\r\n    crt4 = dataCriterios[0].criterio4]);\r\n\r\n  document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\r\n  document.getElementById('porcentajeC2').value = ccx2;\r\n  document.getElementById('porcentajeC3').value = ccx3;\r\n  document.getElementById('porcentajeC4').value = ccx4;\r\n}\r\n\r\n\r\n\r\nexport const MaterialTableDemo = () => {//inicio del componente\r\n\r\n  const estilos = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [calificaciones, setcalificaciones] = React.useState({ datalistaAlumnos });\r\n  const [listasTemas, setListas] = React.useState([]);\r\n  const [MATERIA_ID, setMATERIA_ID] = React.useState([]);\r\n  const [materia, setMateria] = React.useState('');\r\n  const [unidad, setUnidad] = React.useState('');\r\n  const [cierre, setCierre] = React.useState(false);\r\n  const [minimo, setMinimo] = React.useState(false);\r\n  const [activo, setActivo] = React.useState(true);\r\nconst BC1 =  useRef();\r\n  //let get_materia_id;\r\n  const fecha_actual = moment(new Date('2020-03-31')).format('YYYY-MM-DD'); //moment(new Date()).format('DD-MM-YYYY');\r\n\r\n  useEffect(() => {\r\n    console.log(BC1.current.disabled = true)\r\n   // document.getElementById('porcentajeC1').disabled = true;\r\n    async function fechasGet() {//establese el cieere de acta de acuerdo la fecha actual\r\n      try {\r\n        await getAdmiFechas()\r\n        var primera = moment(dataFechasCierre[0].primera_entrega).format('YYYY-MM-DD');\r\n        var segunda = moment(dataFechasCierre[0].segunda_entrega).format('YYYY-MM-DD');\r\n        var tercera = moment(dataFechasCierre[0].tercera_entrega).format('YYYY-MM-DD');\r\n\r\n        if (fecha_actual <= primera) {\r\n          let rest = moment(fecha_actual).subtract(2, 'month');\r\n          setCierre(primera)\r\n          setMinimo(moment(rest).format('YYYY-MM-DD'))\r\n        } else if (fecha_actual <= segunda) {\r\n          setCierre(segunda)\r\n          setMinimo(primera)\r\n        } else if (fecha_actual <= tercera) {\r\n          setCierre(tercera)\r\n          setMinimo(segunda)\r\n        } else {\r\n          console.log(\"Sin fechas de cierre definidas por el momento \")\r\n        }\r\n      } catch (error) {\r\n        //pendiente\r\n      }\r\n    }\r\n\r\n    fechasGet()\r\n\r\n  }, [])\r\n\r\n\r\n  const buscarTema = async materiaid => {//inicio selec materia en la vista\r\n    setListas([])//actualiza el la lista de materias actual\r\n    await setcalificaciones({ datalistaAlumnos: [] });\r\n    idDocenteActual = dataMateria[0].id_docente;\r\n    idMateriaActual = materiaid.target.value;\r\n    setMateria(idMateriaActual)\r\n    setMATERIA_ID(idMateriaActual);//actualizar al estado\r\n    await getTemas(idDocenteActual, idMateriaActual, minimo, cierre);\r\n    setListas(datalista)//actualiza el la lista de materias actual\r\n  };//fi\r\n\r\n  const obtenerTema = async (tem) => {//inico\r\n    setOpen(true)\r\n    let numTemas = tem.target.value;\r\n    setUnidad(numTemas);\r\n    await getAlumnos(MATERIA_ID, numTemas);//LISTA DE ALUMNOS  Pendiene mandar unidad que es el tema #\r\n    await setcalificaciones({ datalistaAlumnos: datalistaAlumnos });\r\n    await getCriterios(MATERIA_ID, numTemas);// LISTA DE CRITERIO getTem\r\n    await Promise.all([\r\n      ccx1 = dataCriterios[0].porcentageC1,\r\n      ccx2 = dataCriterios[0].porcentageC2,\r\n      ccx3 = dataCriterios[0].porcentageC3,\r\n      ccx4 = dataCriterios[0].porcentageC4,\r\n      crt1 = dataCriterios[0].criterio1,\r\n      crt2 = dataCriterios[0].criterio2,\r\n      crt3 = dataCriterios[0].criterio3,\r\n      crt4 = dataCriterios[0].criterio4]);\r\n\r\n    document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\r\n    document.getElementById('porcentajeC2').value = ccx2;\r\n    document.getElementById('porcentajeC3').value = ccx3;\r\n    document.getElementById('porcentajeC4').value = ccx4;\r\n\r\n    setOpen(false)\r\n    BC1.current.disabled = false\r\n\r\n    unidadCalificacion = dataCriterios[0].numUnidad;//public unidad del criterio seleccinado\r\n    id_criterios = dataCriterios[0].idcat_Unidad;//public id_criterios del criterio seleccinado\r\n  }//fin\r\n\r\n  const guardarPromedio = async (datos) => {//inicio  enviar el promedio asignado en la tabla captura_calificacion\r\n    let bandera = datos.materiaDocente_id;\r\n    let idcalificacion = datos.idcalificaciones;\r\n\r\n    if (bandera) {\r\n      if (datos.calR2 === null && datos.calR3 === null && datos.calR4 === null) {\r\n        datos.calR2 = 0;\r\n        datos.calR3 = 0;\r\n        datos.calR4 = 0;\r\n      } else if (datos.calR3 === null && datos.calR4 === null) {\r\n        datos.calR3 = 0;\r\n        datos.calR4 = 0;\r\n      } else if (datos.calR4 === null) {\r\n        datos.calR4 = 0;\r\n      }\r\n      await updateCalificaion(idcalificacion, datos)\r\n    } else {//crear registro para el alumno en registro calificacion\r\n      await crearCalificacion(datos, unidadCalificacion, id_criterios);\r\n      await getAlumnos(MATERIA_ID, unidadCalificacion);//LISTA DE ALUMNOS\r\n      await setcalificaciones({ datalistaAlumnos: datalistaAlumnos });\r\n    }\r\n  }//fin\r\n\r\n  const guardarPorcentaje_c1 = async () => {//inicio\r\n    var input = document.getElementById('porcentajeC1');\r\n    input.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n    if (input.value <= 100) {\r\n      if (input.value.length === 2) {\r\n        swal(\"Describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n          closeOnClickOutside: false,\r\n        })\r\n          .then((comentario) => {\r\n            if (comentario) {\r\n              //enviar porcentage y comentario\r\n              enviarCriteriosc1(input.value, comentario).then(res => { console.log(res) })\r\n            } else {\r\n              alert(\"No puede estar vacio\")\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      alert(\"no puede exeder de 100 %\")\r\n    }\r\n  }//fin\r\n\r\n\r\n  const guardarPorcentaje_c2 = (e) => {//inicio\r\n    var input2 = document.getElementById('porcentajeC2');//inicio 1\r\n    input2.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n    if (input2.value <= 100) {\r\n      if (input2.value.length === 2) {\r\n        //ejecutar metodo de guardar\r\n        swal(\"describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n          closeOnClickOutside: false,\r\n        })\r\n          .then((comentario) => {\r\n            if (comentario) {\r\n              console.log(\"estos es :\" + unidadCalificacion + \"  y \" + idMateriaActual)\r\n              enviarCriteriosc2(input2.value, comentario)\r\n            } else {\r\n              console.log(\"No puede estar vacio\")\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      alert(\"No puede exeder de 100 %\")\r\n    }\r\n  }//fin\r\n\r\n  const guardarPorcentaje_c3 = (e) => {//inicio\r\n    var input3 = document.getElementById('porcentajeC3');//inicio 1\r\n    input3.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n    if (input3.value <= 100) {\r\n      if (input3.value.length === 2) {\r\n        swal(\"describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n          closeOnClickOutside: false,\r\n        })\r\n          .then((comentario) => {\r\n            if (comentario) {\r\n              enviarCriteriosc3(input3.value, comentario)\r\n            } else {\r\n              alert(\"No puede estar vacio \")\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      alert(\"No puede exeder de 100 %\")\r\n    }\r\n  }//fin\r\n\r\n  const guardarPorcentaje_c4 = (e) => {//inicio\r\n    var input4 = document.getElementById('porcentajeC4');//inicio 1\r\n    input4.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n    if (input4.value <= 100) {\r\n      if (input4.value.length === 2) {\r\n        swal(\"Describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n          closeOnClickOutside: false,\r\n        })\r\n          .then((comentario) => {\r\n            if (comentario) {\r\n              enviarCriteriosc4(input4.value, comentario)\r\n            } else {\r\n              alert(\"No puede estar vacio \")\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      alert(\"No puede exeder de 100 %\")\r\n    }\r\n  }//fin\r\n\r\n\r\n  const [alumnos, setAlumnos] = React.useState({// datos de la tabla calificacion\r\n    columns: [\r\n      { title: 'NÂª', field: 'nm', editable: 'never' },\r\n      { title: 'Control', field: 'control', editable: 'never', disablePadding: true, minWidth: 10 },\r\n      { title: 'Nombre', field: 'nameAlumno', editable: 'never', disablePadding: true },\r\n      { title: 'Curso', field: 'curso', editable: 'never', disablePadding: true, minWidth: 10 },\r\n      { title: 'Opcion', field: 'opcion', editable: 'never', disablePadding: true, minWidth: 10 },\r\n      { title: 'C1', field: 'calR1', disablePadding: true, minWidth: 10 },\r\n      { title: 'C2', field: 'calR2', disablePadding: true, minWidth: 10 },\r\n      { title: 'C3', field: 'calR3', disablePadding: true, minWidth: 10 },\r\n      { title: 'C4', field: 'calR4', disablePadding: true, minWidth: 10 },\r\n      { title: '#', field: '#', editable: 'never', size: 'small', disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC1\" placeholder=\"C1\" style={{ width: '4ch' }} ref={BC1}  onChange={guardarPorcentaje_c1} ></input>, field: 'calCriterio1', editable: 'never', minWidth: 10, disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC2\" placeholder=\"C2\" style={{ width: '4ch' }} ref={BC1}  onChange={guardarPorcentaje_c2} ></input>, field: 'calCriterio2', editable: 'never', minWidth: 10, disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC3\" placeholder=\"C3\" style={{ width: '4ch' }} ref={BC1}  onChange={guardarPorcentaje_c3}  ></input>, field: 'calCriterio3', editable: 'never', disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC4\" placeholder=\"C4\" style={{ width: '4ch' }} ref={BC1}  onChange={guardarPorcentaje_c4}  ></input>, field: 'calCriterio4', editable: 'never', disablePadding: true },\r\n      { title: 'Total', field: 'calificaciontotal', editable: 'never', disablePadding: true },\r\n    ]\r\n  })\r\n\r\n  //\r\n\r\n  return (\r\n    <div>\r\n      <Backdrop className={estilos.backdrop} open={open} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <h3 >INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS</h3>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.paperperiodos}>PERIODO: {dataPeriodo[0].rango}</Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.paperperiodos}>CIERRE DE ACTA: {cierre}</Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper className={estilos.paperAvatar} elevation={0} >\r\n            <Chip size=\"small\" avatar={<Avatar>{ccx1}</Avatar>} label={crt1} color=\"secondary\" />\r\n            <Chip size=\"small\" avatar={<Avatar>{ccx2}</Avatar>} label={crt2} color=\"secondary\" />\r\n            <Chip size=\"small\" avatar={<Avatar>{ccx3}</Avatar>} label={crt3} color=\"secondary\" />\r\n            <Chip size=\"small\" avatar={<Avatar>{ccx4}</Avatar>} label={crt4} color=\"secondary\" />\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.papermaterias}>\r\n            <FormControl variant=\"outlined\" className={estilos.formControl}>\r\n              <InputLabel id=\"InputLabel\">Materia</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-outlined\"\r\n                id=\"materia\"\r\n                onChange={buscarTema}\r\n                label=\"Materia\"\r\n                value={materia}>\r\n                {dataMateria.map((materias) => (<MenuItem key={materias.nm} value={materias.idMateria} >{materias.nombre + ' (' + materias.semestre + \"/\" + materias.nomenclatura + \") \" + materias.nombreCorto}</MenuItem>))}\r\n              </Select>\r\n            </FormControl>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.papermaterias}>\r\n            <FormControl variant=\"outlined\" className={estilos.formControl}>\r\n              <InputLabel id=\"demo-simple-select-outlined-labe\">Unidad</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-outlined-labe\"\r\n                id=\"unidad\"\r\n                label=\"Unidad\"\r\n                value={unidad}\r\n                onChange={obtenerTema}>\r\n                {listasTemas.map((tem, i) => (<MenuItem key={i} value={tem.numUnidad}>{tem.tema}</MenuItem>))}\r\n              </Select>\r\n            </FormControl>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12}>\r\n          <Paper elevation={3} >\r\n            <MaterialTable\r\n              title=\"Captura de calificaciones\"\r\n              columns={alumnos.columns}//columnas\r\n              data={calificaciones.datalistaAlumnos}//filas\r\n              editable={\r\n                {\r\n                  onRowUpdate: (newData, oldData) =>\r\n                    new Promise(resolve => {\r\n                      setTimeout(() => {\r\n                        resolve();\r\n                        if (oldData) {\r\n                          setcalificaciones(prevState => {\r\n                            const datalistaAlumnos = [...prevState.datalistaAlumnos];//obtenr data\r\n                            console.log(newData.calCriterio1 = (newData.calR1 * (ccx1 / 100)))\r\n                            console.log(newData.calCriterio2 = (newData.calR2 * (ccx2 / 100)))\r\n                            console.log(newData.calCriterio3 = (newData.calR3 * (ccx3 / 100)))\r\n                            console.log(newData.calCriterio4 = (newData.calR4 * (ccx4 / 100)))\r\n                            console.log(newData.calificaciontotal = (parseInt(newData.calCriterio1) + parseInt(newData.calCriterio2) + parseInt(newData.calCriterio3) + parseInt(newData.calCriterio4)))\r\n                            console.log(newData)//estado fila modificado\r\n                            datalistaAlumnos[datalistaAlumnos.indexOf(oldData)] = newData;\r\n                            guardarPromedio(newData)\r\n                            return { ...prevState, datalistaAlumnos };\r\n                          });\r\n                        }\r\n                      }, 600);\r\n                    }),\r\n                }\r\n              }\r\n              options={{\r\n                headerStyle: {\r\n                  backgroundColor: '#01579b',\r\n                  color: '#FFF',\r\n                  size: 'small'\r\n                },\r\n                rowStyle: {\r\n                  white: 'pre',\r\n                }\r\n              }} />\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper >*O: Ordinario   *1:Primera oportunidad   *NA: No Alcanza</Paper>\r\n          <Paper >*R: Repeticion   *2:Segunda oportunidad</Paper>\r\n          <Paper >*E: Especial</Paper>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            startIcon={<SaveIcon />}>\r\n            Descargar Reporte de Calificaciones\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default MaterialTableDemo;"]},"metadata":{},"sourceType":"module"}