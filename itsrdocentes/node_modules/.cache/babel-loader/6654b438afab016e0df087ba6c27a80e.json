{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\home.js\";\nimport React, { Component, Suspense } from 'react';\nimport Usuarios from './componentes/menu_usuarios/usuarios';\nimport PageError from './componentes/404';\nimport { materiasD, getPeriodo, dataPeriodo } from './componentes/servicios/api';\nimport Loader from './login/cargaDedatos';\nimport AuthService from './componentes/servicios/AuthService';\nexport var dataMateria = null,\n    ID_USUARIO = 0;\nexport var caches, bandera, perio;\nexport const resetear = () => {\n  console.log(\"ELIMINAR TODOS LOD DATOS TEMPORALES\");\n  caches = null;\n  dataMateria = null;\n  dataPeriodo = [];\n};\n\nfunction CargadeDatos(data) {\n  console.log(' daTA');\n  console.log(\"--------------------------\");\n  console.log(data);\n  console.log(caches);\n  console.log(dataMateria);\n  console.log(\"--------------------------\");\n  console.log(data.data[0].nombreRol);\n  let roles = data.data[0].nombreRol;\n  ID_USUARIO = data.data[0].usuarioID; //validar la ruta\n\n  if (roles === 'Administrador') {\n    //inicio\n    console.log(\"Administrador\");\n\n    if (!caches) {\n      throw getPeriodo().then(res => {\n        console.log(res);\n\n        if (res === 'error') {\n          perio = true;\n          caches = res;\n        } else if (res === 'not') {\n          perio = false;\n          caches = true;\n        } else {\n          caches = res;\n          perio = false;\n        }\n      }).catch(perio = true);\n    } //fint\n\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, perio ? React.createElement(PageError, {\n      onAuthChange: data.onAuthChange,\n      onGenerar: data.logout,\n      resetear: resetear,\n      informacion: \"Informacion no disponible \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }) : React.createElement(Usuarios, {\n      onAuthChange: data.onAuthChange,\n      resetear: resetear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }));\n  } else if (roles === 'Docente') {\n    //inicio\n    console.log('Docente Docente Docente');\n\n    if (!caches) {\n      throw getPeriodo().then(res => {\n        if (res === 'error') {\n          perio = true;\n          caches = res;\n        } else {\n          caches = res;\n          bandera = caches;\n        }\n      }).catch(dataMateria = 'error');\n    }\n\n    if (bandera) {\n      console.log('dataMateria 2');\n      throw materiasD().then(data => {\n        dataMateria = data;\n        bandera = null;\n        console.log(dataMateria);\n      }).catch(dataMateria = 'error');\n    }\n\n    return React.createElement(React.Fragment, null, perio ? React.createElement(PageError, {\n      onAuthChange: data.onAuthChange,\n      onGenerar: data.logout,\n      resetear: resetear,\n      informacion: \"Informacion no disponible \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }) : dataMateria === 'error' ? React.createElement(PageError, {\n      onAuthChange: data.onAuthChange,\n      onGenerar: data.logout,\n      resetear: resetear,\n      informacion: \"No cuenta con materias asignadas en el actual periodo \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }) : React.createElement(Usuarios, {\n      onAuthChange: data.onAuthChange,\n      resetear: resetear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }));\n  } //fin\n\n  /*return (\r\n    <div>\r\n      {dataMateria === 'error' ? <h1>API 404 o Actualmente no cuenta con materias asisgnada...</h1> : <Usuarios />}\r\n    </div>\r\n  );*/\n\n}\n\nexport const dataMaterias = async () => {\n  dataMateria = await materiasD();\n  console.log(dataMateria);\n}; //export var fecha1 = '2020-02-27', fecha2 = '2020-03-27', fecha3 = '2020-04-27';\n\nclass Home extends Component {\n  constructor(props) {\n    super();\n    this.AuthService = new AuthService();\n    this.logout = this.logout.bind(this);\n    this.state = {};\n  }\n\n  render() {\n    const n = this.AuthService.getUser();\n    return React.createElement(React.Fragment, null, React.createElement(Suspense, {\n      fallback: React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(CargadeDatos, {\n      data: n,\n      onAuthChange: this.props.onAuthChange,\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })));\n  }\n\n  logout() {\n    this.AuthService.logout();\n    this.props.onAuthChange();\n  }\n\n}\n\n;\nexport default Home;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/home.js"],"names":["React","Component","Suspense","Usuarios","PageError","materiasD","getPeriodo","dataPeriodo","Loader","AuthService","dataMateria","ID_USUARIO","caches","bandera","perio","resetear","console","log","CargadeDatos","data","nombreRol","roles","usuarioID","then","res","catch","onAuthChange","logout","dataMaterias","Home","constructor","props","bind","state","render","n","getUser"],"mappings":"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","sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport Usuarios from './componentes/menu_usuarios/usuarios';\r\nimport PageError from './componentes/404'\r\nimport { materiasD, getPeriodo,dataPeriodo } from './componentes/servicios/api';\r\nimport Loader from './login/cargaDedatos';\r\nimport AuthService from './componentes/servicios/AuthService';\r\nexport var dataMateria =null, ID_USUARIO = 0;\r\nexport var caches, bandera,perio;\r\n\r\nexport const resetear =()=>{\r\n  console.log(\"ELIMINAR TODOS LOD DATOS TEMPORALES\")\r\n  caches = null\r\n  dataMateria=null;\r\n  dataPeriodo=[]\r\n}\r\n\r\nfunction CargadeDatos(data) {\r\n \r\n  console.log(' daTA')\r\n  console.log(\"--------------------------\")\r\n  console.log(data)\r\n  console.log(caches)\r\n  console.log(dataMateria )\r\n  console.log(\"--------------------------\")\r\n\r\n\r\n  console.log(data.data[0].nombreRol)\r\nlet roles = data.data[0].nombreRol;\r\nID_USUARIO = data.data[0].usuarioID;\r\n//validar la ruta\r\nif(roles === 'Administrador'){//inicio\r\n  console.log(\"Administrador\")\r\n if (!caches) {\r\n    throw  getPeriodo().then(res => {\r\n      console.log(res)\r\n      if(res==='error' ){\r\n        perio = true\r\n        caches = res\r\n      }else if(res==='not'){\r\n        perio = false\r\n        caches = true\r\n      }else{\r\n        caches = res\r\n        perio = false\r\n      }\r\n    }).catch(perio = true)\r\n  }\r\n//fint\r\n\r\n  return (\r\n    <React.Fragment>{\r\n    perio ? <PageError onAuthChange={data.onAuthChange} onGenerar={data.logout} resetear={resetear} informacion=\"Informacion no disponible \"/> :<Usuarios onAuthChange={data.onAuthChange} resetear={resetear} />\r\n  }\r\n  </React.Fragment>)\r\n\r\n\r\n\r\n}else if(roles === 'Docente'){//inicio\r\n  console.log('Docente Docente Docente')\r\n  if (!caches) {\r\n    throw  getPeriodo().then(res => {\r\n      if(res ==='error'){\r\n        perio = true\r\n        caches = res\r\n      }else{\r\n        caches = res\r\n        bandera = caches\r\n      }\r\n       \r\n    }).catch(dataMateria = 'error')\r\n  }\r\n\r\n  if (bandera) {\r\n    console.log('dataMateria 2')\r\n\r\n      throw materiasD().then(data => {\r\n      dataMateria = data\r\n      bandera = null\r\n      console.log(dataMateria)\r\n    }).catch(dataMateria = 'error')\r\n    \r\n  }\r\n\r\nreturn (\r\n  <>\r\n  { perio ? <PageError onAuthChange={data.onAuthChange} onGenerar={data.logout} resetear={resetear} informacion=\"Informacion no disponible \"/> : dataMateria ==='error' ? <PageError onAuthChange={data.onAuthChange} onGenerar={data.logout} resetear={resetear} informacion=\"No cuenta con materias asignadas en el actual periodo \"/>: <Usuarios onAuthChange={data.onAuthChange} resetear={resetear}/>}\r\n  </>\r\n)}//fin\r\n\r\n  /*return (\r\n    <div>\r\n      {dataMateria === 'error' ? <h1>API 404 o Actualmente no cuenta con materias asisgnada...</h1> : <Usuarios />}\r\n    </div>\r\n  );*/\r\n}\r\n\r\n\r\nexport const dataMaterias = async () => {\r\n  dataMateria = await materiasD();\r\n  console.log(dataMateria)\r\n}\r\n\r\n//export var fecha1 = '2020-02-27', fecha2 = '2020-03-27', fecha3 = '2020-04-27';\r\n\r\nclass Home extends Component {\r\n\r\n  constructor(props) {\r\n    super();\r\n    this.AuthService = new AuthService();\r\n    this.logout=this.logout.bind(this);\r\n    \r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const n = this.AuthService.getUser();\r\n    return (<>\r\n    \r\n      <Suspense fallback={ <Loader />}>\r\n        <CargadeDatos data={n} onAuthChange={this.props.onAuthChange} logout={this.logout} />\r\n     </Suspense>\r\n          </>)\r\n  }\r\n  logout(){\r\n    this.AuthService.logout();\r\n    this.props.onAuthChange();\r\n  }\r\n};\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}