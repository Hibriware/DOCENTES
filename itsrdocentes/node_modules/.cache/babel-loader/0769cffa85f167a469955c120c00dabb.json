{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\contenedores\\\\docente_principal\\\\vista_principal.js\";\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { dataMateria } from '../../../home';\nimport { getReporteHorarios, getReporteLista } from '../../servicios/api';\nimport { dataReportHorario, dataReportLista } from '../../servicios/api';\nimport { useStyles } from './dialogos_principal';\nimport moment from 'moment';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nexport default function ComposedTextField() {\n  const informacionPdf = async () => {\n    //http://localhost:4000/api/personal/consultar/reporte/lista/7/403/251/11\n    try {\n      const DOCENTE_ACTUAL = dataMateria[0].nameDocente;\n\n      for (let index = 0; index < dataMateria.length; index++) {\n        console.log(\"1\");\n        console.log(moment().format('L'));\n        const ID_MATERIA = dataMateria[index].idMateria;\n        const PERIODO = dataMateria[index].idnomenclaturaPeriodo;\n        const GRUPO = dataMateria[index].idGrupos;\n        const Materia = dataMateria[index].nombre;\n        await Promise.all([getReporteHorarios(PERIODO, ID_MATERIA, GRUPO), getReporteLista(PERIODO, ID_MATERIA, GRUPO)]);\n        console.log(\"2\");\n        await pdfAsistencia(Materia, DOCENTE_ACTUAL);\n        console.log(\"3\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const pdfAsistencia = (nomMateria, docente_actual) => {\n    const Horas_clases = dataReportHorario[0].semanas;\n    const Grupo = dataReportHorario[0].grupo;\n    const Semestre = dataReportHorario[0].semestre;\n    console.log(\"4\");\n    console.log(Horas_clases);\n    const pdf = new jsPDF('p', 'pt', 'letter');\n    pdf.setFontSize(14);\n    pdf.text(130, 15, 'INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS');\n    pdf.line(100, 17, 500, 17); // horizontal line\n\n    pdf.setFontSize(8);\n    pdf.text(262, 26, \"Lista de asistencia\");\n    pdf.roundedRect(102, 31, 400, 12, 3, 3);\n    pdf.setFontSize(7);\n    pdf.text(122, 40, Horas_clases);\n    pdf.setFontSize(8);\n    pdf.text(100, 56, `MATERIA: ${nomMateria}`);\n    pdf.setFontSize(8);\n    pdf.text(500, 56, `GRUPO: ${Semestre} ${Grupo}`);\n    pdf.setFontSize(8);\n    pdf.text(100, 66, `DOCENTE: ${docente_actual}`);\n    pdf.setFontSize(8);\n    pdf.text(500, 66, `PERRIODO: ${moment().format('L')}`);\n    var columns = [{\n      title: \"Control\",\n      dataKey: \"numeroControl\"\n    }, {\n      title: \"Nombre\",\n      dataKey: \"nombre\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"\",\n      dataKey: \"\"\n    }, {\n      title: \"C\",\n      dataKey: \"modalidad\"\n    }];\n    pdf.autoTable(columns, dataReportLista, {\n      margin: {\n        top: 75\n      },\n      styles: {\n        halign: 'center',\n        cellPadding: 0.5,\n        fontSize: 7\n      },\n      theme: 'grid'\n    }); //piede paginas\n\n    const pageCount = pdf.internal.getNumberOfPages(); // For each page, print the page number and the total pages\n\n    for (var i = 1; i <= pageCount; i++) {\n      // Go to page i\n      pdf.setPage(i);\n      pdf.setFontSize(7);\n      pdf.text(20, 760, \"C (Curso, R:Repetición, E:Especial)\");\n      pdf.line(390, 760, 500, 760);\n      pdf.setFontSize(7);\n      pdf.text(413, 767, \"FIRMA DOCENTE\"); //Print Page 1 of 4 for example\n\n      pdf.text(20, 770, 'Pagina' + String(i) + ' de ' + String(pageCount), null, null, null, null, \"right\");\n    }\n\n    pdf.save(nomMateria + '.pdf');\n    console.log(dataReportLista);\n  };\n\n  const classes = useStyles();\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(Container, {\n    maxWidth: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    src: \"/broken-image.jpg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    variant: \"button\",\n    display: \"block\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Nombre: \", dataMateria[0].nameDocente), React.createElement(Typography, {\n    variant: \"button\",\n    display: \"block\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Clave: \", dataMateria[0].clavePersonal), React.createElement(Typography, {\n    variant: \"button\",\n    display: \"block\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Divicion: \", dataMateria[0].nombreCorto), React.createElement(\"div\", {\n    className: classes.pdfss,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: informacionPdf,\n    variant: \"contained\",\n    color: \"default\",\n    startIcon: React.createElement(GetAppIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Descargar lista de asistencia\"))));\n}","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/contenedores/docente_principal/vista_principal.js"],"names":["React","Avatar","Button","GetAppIcon","CssBaseline","Typography","Container","dataMateria","getReporteHorarios","getReporteLista","dataReportHorario","dataReportLista","useStyles","moment","jsPDF","ComposedTextField","informacionPdf","DOCENTE_ACTUAL","nameDocente","index","length","console","log","format","ID_MATERIA","idMateria","PERIODO","idnomenclaturaPeriodo","GRUPO","idGrupos","Materia","nombre","Promise","all","pdfAsistencia","error","nomMateria","docente_actual","Horas_clases","semanas","Grupo","grupo","Semestre","semestre","pdf","setFontSize","text","line","roundedRect","columns","title","dataKey","autoTable","margin","top","styles","halign","cellPadding","fontSize","theme","pageCount","internal","getNumberOfPages","i","setPage","String","save","classes","avatar","clavePersonal","nombreCorto","pdfss"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { dataMateria } from '../../../home';\r\nimport {getReporteHorarios, getReporteLista} from '../../servicios/api';\r\nimport {dataReportHorario, dataReportLista} from '../../servicios/api';\r\nimport {useStyles} from './dialogos_principal';\r\nimport moment from 'moment';\r\nimport  jsPDF  from  'jspdf'\r\nimport 'jspdf-autotable'\r\n\r\nexport default function ComposedTextField() {\r\n\r\n\r\n  const informacionPdf = async () =>{//http://localhost:4000/api/personal/consultar/reporte/lista/7/403/251/11\r\n    try {\r\n        const DOCENTE_ACTUAL=dataMateria[0].nameDocente;\r\n    for (let index = 0; index < dataMateria.length; index++) {\r\n          console.log(\"1\")\r\n          console.log(moment().format('L'))\r\n\r\n          \r\n          const ID_MATERIA = dataMateria[index].idMateria;\r\n          const PERIODO = dataMateria[index].idnomenclaturaPeriodo;\r\n          const GRUPO = dataMateria[index].idGrupos;\r\n          const Materia = dataMateria[index].nombre;\r\n\r\n\r\n          await Promise.all([getReporteHorarios(PERIODO,ID_MATERIA,GRUPO),getReporteLista(PERIODO,ID_MATERIA,GRUPO)])\r\n          console.log(\"2\")\r\n          await pdfAsistencia(Materia,DOCENTE_ACTUAL)\r\n          console.log(\"3\")\r\n        }\r\n      \r\n\r\n    \r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n      }\r\n \r\n  const pdfAsistencia =(nomMateria,docente_actual)=>{\r\n    const Horas_clases = dataReportHorario[0].semanas;\r\n    const Grupo = dataReportHorario[0].grupo;\r\n    const Semestre = dataReportHorario[0].semestre;\r\n    console.log(\"4\")\r\n\r\n    console.log(Horas_clases)\r\n\r\n    const pdf = new jsPDF('p', 'pt', 'letter')\r\n    pdf.setFontSize(14)\r\n    pdf.text(130, 15, 'INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS')\r\n    pdf.line(100, 17, 500, 17) // horizontal line\r\n    pdf.setFontSize(8)\r\n    pdf.text(262,26,\"Lista de asistencia\");\r\n    pdf.roundedRect(102, 31, 400, 12,3,3)\r\n    pdf.setFontSize(7)\r\n    pdf.text(122,40,Horas_clases);\r\n    pdf.setFontSize(8)\r\n    pdf.text(100,56,`MATERIA: ${nomMateria}`);\r\n    \r\n    pdf.setFontSize(8)\r\n    pdf.text(500,56,`GRUPO: ${Semestre} ${Grupo}` );\r\n    pdf.setFontSize(8)\r\n    pdf.text(100,66,`DOCENTE: ${docente_actual}`);\r\n    pdf.setFontSize(8)\r\n    pdf.text(500,66,`PERRIODO: ${moment().format('L')}`);\r\n    \r\n    var columns = [{ title: \"Control\", dataKey: \"numeroControl\" },{ title: \"Nombre\", dataKey: \"nombre\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"\", dataKey: \"\" },\r\n    { title: \"C\", dataKey: \"modalidad\" },\r\n  ];\r\n    \r\n    pdf.autoTable(columns,dataReportLista,\r\n    { margin:{ top: 75 },\r\n    styles: { halign: 'center', cellPadding: 0.5,fontSize:7},\r\n    theme:'grid',\r\n    \r\n  }   \r\n  \r\n    );\r\n\r\n//piede paginas\r\n    const pageCount = pdf.internal.getNumberOfPages();\r\n// For each page, print the page number and the total pages\r\nfor(var i = 1; i <= pageCount; i++) {\r\n     // Go to page i\r\n    pdf.setPage(i);\r\n    pdf.setFontSize(7)\r\n    pdf.text( 20,760,\"C (Curso, R:Repetición, E:Especial)\");\r\n    \r\n    pdf.line(390, 760, 500, 760) \r\n    pdf.setFontSize(7)\r\n    pdf.text( 413,767,\"FIRMA DOCENTE\");\r\n     //Print Page 1 of 4 for example\r\n    pdf.text( 20,770,'Pagina' + String(i) + ' de ' + String(pageCount),null,null,null,null,\"right\");\r\n}\r\n    \r\n    pdf.save(nomMateria+'.pdf');\r\n    console.log(dataReportLista)\r\n\r\n  }\r\n\r\n\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n    <CssBaseline />\r\n    <Container maxWidth=\"sm\">\r\n    <div className={classes.avatar}>\r\n    <Avatar src=\"/broken-image.jpg\" />\r\n    </div>\r\n      <Typography variant=\"button\" display=\"block\" gutterBottom>\r\n        Nombre: {dataMateria[0].nameDocente}\r\n      </Typography>\r\n      <Typography variant=\"button\" display=\"block\" gutterBottom>\r\n        Clave: {dataMateria[0].clavePersonal}\r\n      </Typography>\r\n      <Typography variant=\"button\" display=\"block\" gutterBottom>\r\n        Divicion: {dataMateria[0].nombreCorto}\r\n      </Typography>\r\n      <div className={classes.pdfss}>\r\n      <Button \r\n       onClick={informacionPdf}\r\n        variant=\"contained\"\r\n        color=\"default\"\r\n        startIcon={<GetAppIcon />}\r\n      >\r\n        Descargar lista de asistencia\r\n      </Button>\r\n      </div>\r\n    </Container>\r\n    \r\n  </React.Fragment>\r\n   \r\n  \r\n      \r\n\r\n   \r\n      \r\n    \r\n      \r\n     \r\n      \r\n    \r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}