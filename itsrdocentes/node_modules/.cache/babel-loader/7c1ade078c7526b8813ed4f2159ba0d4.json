{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\contenedores\\\\docente_calificaciones\\\\tablaprueva.jsx\";\nimport React from 'react';\nimport MaterialTable from 'material-table';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport SaveIcon from '@material-ui/icons/Save';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport moment from 'moment';\nimport swal from 'sweetalert';\nimport './calificaciones.css';\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar'; //variables\n\nimport { useStyles } from './dialogos_calificacion';\nimport { dataMateria } from '../../../home';\nimport { getTemas } from '../../servicios/api';\nimport { datalista } from '../../servicios/api';\nimport { getAlumnos } from '../../servicios/api';\nimport { datalistaAlumnos } from '../../servicios/api';\nimport { getCriterios } from '../../servicios/api';\nimport { dataCriterios } from '../../servicios/api';\nimport { putCriteriosc1 } from '../../servicios/api';\nimport { putCriteriosc2 } from '../../servicios/api';\nimport { putCriteriosc3 } from '../../servicios/api';\nimport { putCriteriosc4 } from '../../servicios/api';\nimport { crearCalificacion } from '../../servicios/api';\nimport { updateCalificaion } from '../../servicios/api';\nimport { fecha1, fecha2, fecha3 } from '../../../home';\nimport { PERIODO_ACTUAL } from '../../../App';\nexport var unidad_Tema;\nlet ccx1 = 0,\n    ccx2 = 0,\n    ccx3 = 0,\n    ccx4 = 0,\n    unidadCalificacion,\n    id_criterios;\nlet periodo, materia, unidad, grupo;\nexport async function enviarCriteriosc1(porcentageC1, criterio1) {\n  //inicio guardar porcentaje 1 y criterio 1\n  // let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc1(periodo, materia, unidad, grupo, porcentageC1, criterio1); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n} //fin\n\nexport async function enviarCriteriosc2(porcentageC1, criterio1) {\n  //inicio guardar porcentaje 2 y criterio 2\n  //  let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc2(periodo, materia, unidad, grupo, porcentageC1, criterio1); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n} //fin\n\nexport async function enviarCriteriosc3(porcentageC1, criterio1) {\n  //inicio guardar porcentaje 3 y criterio 3\n  // let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc3(periodo, materia, unidad, grupo, porcentageC1, criterio1); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n} //fin\n\nexport async function enviarCriteriosc4(porcentageC4, criterio4) {\n  //inicio guardar porcentaje 3 y criterio 3\n  // let periodo, materia, unidad, grupo\n  periodo = dataCriterios[0].periodo;\n  materia = dataCriterios[0].materias_idmaterias;\n  unidad = dataCriterios[0].numUnidad;\n  grupo = dataCriterios[0].asingnacion_grupo_id;\n  await putCriteriosc4(periodo, materia, unidad, grupo, porcentageC4, criterio4); //data  criterio1 porcentageC1\n  //parametros update periodo, materia, unidad, grupo\n} //fin\n\nvar idDocenteActual, idMateriaActual, periodoActual, cierreActual; // fun buscarTtema\n\nexport const MaterialTableDemo = () => {\n  //inicio\n  const estilos = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [calificaciones, setcalificaciones] = React.useState({\n    datalistaAlumnos\n  }); // const [materiaID, setMateriaid] = React.useState('');//id materia para filtrar unidades\n\n  const [listasTemas, setListas] = React.useState([]);\n  const [MATERIA_ID, setMATERIA_ID] = React.useState([]); //let get_materia_id;\n\n  const buscarTema = async materiaid => {\n    //inicio selec materia en la vista\n    setListas([]); //actualiza el la lista de materias actual\n    //obtener datos para la consulta de unidades actuales y antes delcieere actual\n\n    idDocenteActual = dataMateria[0].id_docente;\n    idMateriaActual = materiaid.target.value;\n    periodoActual = 7;\n    cierreActual = fecha1; //esta variable vendra de la db el cierre de acta\n    //fecha1.setMonth(fecha1.getMonth() - 3);\n\n    setMATERIA_ID(idMateriaActual); //actualizar al estado\n\n    let fecha_resta_acta = moment(fecha1).subtract(2, 'months');\n    let getFecha_resta = moment(fecha_resta_acta).format(\"YYYY-MM-DD\");\n    await getTemas(idDocenteActual, idMateriaActual, periodoActual, cierreActual);\n    setListas(datalista); //actualiza el la lista de materias actual\n\n    console.log(\"<<<<\");\n    console.log(datalista);\n    console.log(idMateriaActual + ' _actual id');\n  }; //fin\n\n\n  const [avatarc1, setAvatarC1] = React.useState();\n  const [criterio_avatarc1, setCriterio_avatarC1] = React.useState();\n  const [avatarc2, setAvatarC2] = React.useState();\n  const [criterio_avatarc2, setCriterio_avatarC2] = React.useState();\n  const [avatarc3, setAvatarC3] = React.useState();\n  const [criterio_avatarc3, setCriterio_avatarC3] = React.useState();\n  const [avatarc4, setAvatarC4] = React.useState();\n  const [criterio_avatarc4, setCriterio_avatarC4] = React.useState();\n\n  const obtenerTema = async tem => {\n    //inico\n    setOpen(true);\n    let numTemas = tem.target.value; //buscar lista alumnos  idMateria, idDocente\n\n    await getAlumnos(MATERIA_ID, numTemas); //LISTA DE ALUMNOS  Pendiene mandar unidad que es el tema #\n\n    await setcalificaciones({\n      datalistaAlumnos: datalistaAlumnos\n    });\n    await getCriterios(PERIODO_ACTUAL, MATERIA_ID, numTemas); // LISTA DE CRITERIO getTem\n    //await setCRITERIOS(dataCriterios);\n\n    ccx1 = await dataCriterios[0].porcentageC1;\n    ccx2 = await dataCriterios[0].porcentageC2;\n    ccx3 = await dataCriterios[0].porcentageC3;\n    ccx4 = await dataCriterios[0].porcentageC4;\n    document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\n\n    document.getElementById('porcentajeC2').value = ccx2;\n    document.getElementById('porcentajeC3').value = ccx3;\n    document.getElementById('porcentajeC4').value = ccx4;\n    setAvatarC1(ccx1);\n    setCriterio_avatarC1(dataCriterios[0].criterio1);\n    setAvatarC2(ccx2);\n    setCriterio_avatarC2(dataCriterios[0].criterio2);\n    setAvatarC3(ccx3);\n    setCriterio_avatarC3(dataCriterios[0].criterio3);\n    setAvatarC4(ccx4);\n    setCriterio_avatarC4(dataCriterios[0].criterio4);\n    unidadCalificacion = dataCriterios[0].numUnidad; //public unidad del criterio seleccinado\n\n    id_criterios = dataCriterios[0].idcat_Unidad; //public id_criterios del criterio seleccinado\n\n    setOpen(false);\n    console.log(\"dataCriterios\");\n    console.log(dataCriterios);\n  }; //fin\n\n\n  const guardarPromedio = async datos => {\n    //inicio  enviar el promedio asignado en la tabla captura_calificacion\n    let bandera = datos.materiaDocente_id;\n    let idcalificacion = datos.idcalificaciones;\n\n    if (bandera) {\n      console.log(\"Actualizar datos del alumno....\");\n\n      if (datos.calR2 === null && datos.calR3 === null && datos.calR4 === null) {\n        console.log(\"inicializar en cero r2 y r3\");\n        datos.calR2 = 0;\n        datos.calR3 = 0;\n        datos.calR4 = 0;\n      } else if (datos.calR3 === null && datos.calR4 === null) {\n        console.log(\"inicializar en cero r3\");\n        datos.calR3 = 0;\n        datos.calR4 = 0;\n      } else if (datos.calR4 === null) {\n        datos.calR4 = 0;\n      }\n\n      await updateCalificaion(idcalificacion, datos);\n    } else {\n      console.log(\"crear registro para el alumno en registro calificacion\");\n      await crearCalificacion(datos, unidadCalificacion, id_criterios); //actualizar data alumnos ##  materia_Tema  PERIODO_ACTUAL\n\n      await getAlumnos(MATERIA_ID, unidadCalificacion); //LISTA DE ALUMNOS\n\n      await setcalificaciones({\n        datalistaAlumnos: datalistaAlumnos\n      });\n    }\n\n    console.log(datos);\n  }; //fin\n\n\n  const updates = async () => {\n    await getCriterios(PERIODO_ACTUAL, idMateriaActual, unidadCalificacion); // LISTA DE CRITERIO getTem\n\n    ccx1 = dataCriterios[0].porcentageC1;\n    ccx2 = dataCriterios[0].porcentageC2;\n    ccx3 = dataCriterios[0].porcentageC3;\n    ccx4 = dataCriterios[0].porcentageC4;\n    document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\n\n    document.getElementById('porcentajeC2').value = ccx2;\n    document.getElementById('porcentajeC3').value = ccx3;\n    document.getElementById('porcentajeC4').value = ccx4;\n    setAvatarC1(ccx1);\n    setCriterio_avatarC1(dataCriterios[0].criterio1);\n    setAvatarC2(ccx2);\n    setCriterio_avatarC2(dataCriterios[0].criterio2);\n    setAvatarC3(ccx3);\n    setCriterio_avatarC3(dataCriterios[0].criterio3);\n    setAvatarC4(ccx4);\n    setCriterio_avatarC4(dataCriterios[0].criterio4);\n    return true;\n  };\n\n  const guardarPorcentaje_c1 = async () => {\n    //inicio\n    var input = document.getElementById('porcentajeC1');\n    input.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input.value <= 100) {\n      if (input.value.length === 2) {\n        //ejecutar metodo de guardar\n        swal(\"describa el nombre del creterio:\", {\n          content: \"input\"\n        }).then(comentario => {\n          if (comentario) {\n            //enviar porcentage y comentario\n            enviarCriteriosc1(input.value, comentario);\n            console.log(input.value);\n            updates().then(up => {\n              console.log(up);\n            });\n          } else {\n            console.log(input.value + \"no pupede estar vacio \" + comentario);\n          } //swal(`You typed: ${comentario}`);\n\n        });\n      }\n    } else {\n      alert(\"no puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c2 = e => {\n    //inicio\n    var input2 = document.getElementById('porcentajeC2'); //inicio 1\n\n    input2.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input2.value <= 100) {\n      if (input2.value.length === 2) {\n        //ejecutar metodo de guardar\n        swal(\"describa el nombre del creterio:\", {\n          content: \"input\"\n        }).then(comentario => {\n          if (comentario) {\n            //enviar porcentage y comentario\n            console.log(\"estos es :\" + unidadCalificacion + \"  y \" + idMateriaActual);\n            enviarCriteriosc2(input2.value, comentario);\n            updates().then(up => {\n              console.log(up);\n            });\n            console.log(input2.value);\n          } else {\n            console.log(input2.value + \"noupede estar vacio \" + comentario);\n          } //swal(`You typed: ${comentario}`);\n\n        });\n        console.log(\"ejecutar metodo de guardar 1\");\n      }\n    } else {\n      alert(\"no puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c3 = e => {\n    //inicio\n    var input3 = document.getElementById('porcentajeC3'); //inicio 1\n\n    input3.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input3.value <= 100) {\n      if (input3.value.length === 2) {\n        //ejecutar metodo de guardar\n        swal(\"describa el nombre del creterio:\", {\n          content: \"input\"\n        }).then(comentario => {\n          if (comentario) {\n            //enviar porcentage y comentario\n            enviarCriteriosc3(input3.value, comentario);\n            updates().then(up => {\n              console.log(up);\n            });\n            console.log(input3.value);\n          } else {\n            console.log(input3.value + \"noupede estar vacio \" + comentario);\n          } //swal(`You typed: ${comentario}`);\n\n        });\n        console.log(\"ejecutar metodo de guardar 1\");\n      }\n    } else {\n      alert(\"no puede exeder de 100 %\");\n    }\n  }; //fin\n\n\n  const guardarPorcentaje_c4 = e => {\n    //inicio\n    var input4 = document.getElementById('porcentajeC4'); //inicio 1\n\n    input4.addEventListener('input', function () {\n      if (this.value.length > 2) this.value = this.value.slice(0, 2);\n    });\n\n    if (input4.value <= 100) {\n      if (input4.value.length === 2) {\n        //ejecutar metodo de guardar\n        swal(\"describa el nombre del creterio:\", {\n          content: \"input\"\n        }).then(comentario => {\n          if (comentario) {\n            //enviar porcentage y comentario\n            enviarCriteriosc4(input4.value, comentario);\n            updates().then(up => {\n              console.log(up);\n            });\n            console.log(input4.value);\n          } else {\n            console.log(input4.value + \"noupede estar vacio \" + comentario);\n          } //swal(`You typed: ${comentario}`);\n\n        });\n        console.log(\"ejecutar metodo de guardar 1\");\n      }\n    } else {\n      alert(\"no puede exeder de 100 %\");\n    }\n  }; //fin\n\n  /*const manejador = (cc1, cc2, cc3) => {//creador de table\r\n    console.log(\"imprimiendo.....\" + tema1X)\r\n    console.log(\"datos new.....\" + cc1 + cc2 + cc3)\r\n  };*/\n  //const [ac, setAc] = React.useState('none');//guardar porcentaje #########\n\n\n  const [alumnos, setAlumnos] = React.useState({\n    // datos de la tabla calificacion\n    columns: [{\n      title: 'NÂª',\n      field: 'id',\n      editable: 'never'\n    }, {\n      title: 'Control',\n      field: 'control',\n      editable: 'never',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'Nombre',\n      field: 'nameAlumno',\n      editable: 'never',\n      disablePadding: true\n    }, {\n      title: 'Curso',\n      field: 'curso',\n      editable: 'never',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'Opcion',\n      field: 'opcion',\n      editable: 'never',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C1',\n      field: 'calR1',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C2',\n      field: 'calR2',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C3',\n      field: 'calR3',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: 'C4',\n      field: 'calR4',\n      disablePadding: true,\n      minWidth: 10\n    }, {\n      title: '#',\n      field: '#',\n      editable: 'never',\n      size: 'small',\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        type: \"number\",\n        id: \"porcentajeC1\",\n        placeholder: \"C1\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }),\n      field: 'calCriterio1',\n      editable: 'never',\n      minWidth: 10,\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC2\",\n        placeholder: \"C2\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }),\n      field: 'calCriterio2',\n      editable: 'never',\n      minWidth: 10,\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC3\",\n        placeholder: \"C3\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }),\n      field: 'calCriterio3',\n      editable: 'never',\n      disablePadding: true\n    }, {\n      title: React.createElement(\"input\", {\n        className: \"inputTemas\",\n        id: \"porcentajeC4\",\n        placeholder: \"C4\",\n        style: {\n          width: '4ch'\n        },\n        onChange: guardarPorcentaje_c4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }),\n      field: 'calCriterio4',\n      editable: 'never',\n      disablePadding: true\n    }, {\n      title: 'Total',\n      field: 'calificaciontotal',\n      editable: 'never',\n      disablePadding: true\n    }]\n  }); //\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  }, React.createElement(Backdrop, {\n    className: estilos.backdrop,\n    open: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427\n    },\n    __self: this\n  }, React.createElement(CircularProgress, {\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432\n    },\n    __self: this\n  }, \"INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS\")), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.paperperiodos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435\n    },\n    __self: this\n  }, \"PERIODO: \", dataMateria[0].idnomenclaturaPeriodo)), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.paperperiodos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438\n    },\n    __self: this\n  }, \"CIERRE DE ACTA: \", fecha1)), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441\n    },\n    __self: this\n  }, React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, avatarc1),\n    label: criterio_avatarc1,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, avatarc2),\n    label: criterio_avatarc2,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, avatarc3),\n    label: criterio_avatarc3,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }), React.createElement(Chip, {\n    size: \"small\",\n    avatar: React.createElement(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, avatarc4),\n    label: criterio_avatarc4,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.papermaterias,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: estilos.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"InputLabel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453\n    },\n    __self: this\n  }, \"Materia\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined\",\n    id: \"materia\",\n    onChange: buscarTema,\n    label: \"Materia\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454\n    },\n    __self: this\n  }, dataMateria.map(materias => React.createElement(MenuItem, {\n    key: materias.nm,\n    value: materias.idMateria,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461\n    },\n    __self: this\n  }, materias.nombre + ' (' + materias.semestre + \"/\" + materias.nomenclatura + \") \" + materias.nombreCorto)))))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    sm: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    className: estilos.papermaterias,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: estilos.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    id: \"demo-simple-select-outlined-labe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471\n    },\n    __self: this\n  }, \"Unidad\"), React.createElement(Select, {\n    labelId: \"demo-simple-select-outlined-labe\",\n    id: \"unidad\",\n    label: \"Unidad\",\n    onChange: obtenerTema,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472\n    },\n    __self: this\n  }, listasTemas.map((tem, i) => React.createElement(MenuItem, {\n    key: i,\n    value: tem.numUnidad,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479\n    },\n    __self: this\n  }, tem.tema)))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496\n    },\n    __self: this\n  }, React.createElement(MaterialTable, {\n    title: \"Captura de calificaciones\",\n    columns: alumnos.columns //columnas\n    ,\n    data: calificaciones.datalistaAlumnos //filas\n\n    /*   actions={[\r\n         {\r\n           icon: 'save',\r\n           tooltip: 'Save User',\r\n           onClick: (event, rowData) => alert(\"You saved \" + rowData.control + \" c1=\" + rowData.calR1)\r\n         }\r\n       ]}*/\n    ,\n    editable: {\n      // filsa: rowData => rowData.id === '1',\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            //actualizacion del estado\n            setcalificaciones(prevState => {\n              const datalistaAlumnos = [...prevState.datalistaAlumnos]; //obtenr data\n              //console.log(newData.nombre = 'sam')//estado fila modificado\n\n              console.log(newData.calCriterio1 = newData.calR1 * (ccx1 / 100));\n              console.log(newData.calCriterio2 = newData.calR2 * (ccx2 / 100));\n              console.log(newData.calCriterio3 = newData.calR3 * (ccx3 / 100));\n              console.log(newData.calCriterio4 = newData.calR4 * (ccx4 / 100));\n              console.log(newData.calificaciontotal = parseInt(newData.calCriterio1) + parseInt(newData.calCriterio2) + parseInt(newData.calCriterio3) + parseInt(newData.calCriterio4));\n              console.log(newData); //estado fila modificado\n\n              datalistaAlumnos[datalistaAlumnos.indexOf(oldData)] = newData; // manejador(newData.c1, newData.c2, newData.c3)\n\n              guardarPromedio(newData);\n              return { ...prevState,\n                datalistaAlumnos\n              };\n            });\n          }\n        }, 600);\n      })\n    },\n    options: {\n      headerStyle: {\n        backgroundColor: '#01579b',\n        color: '#FFF',\n        size: 'small'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552\n    },\n    __self: this\n  }, \"*O: Ordinario   *1:Primera oportunidad   *NA: No Alcanza\"), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553\n    },\n    __self: this\n  }, \"*R: Repeticion   *2:Segunda oportunidad\"), React.createElement(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554\n    },\n    __self: this\n  }, \"*E: Especial\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    startIcon: React.createElement(SaveIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557\n    },\n    __self: this\n  }, \"Descargar Reporte de Calificaciones\"))));\n};\nexport default MaterialTableDemo;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/contenedores/docente_calificaciones/tablaprueva.jsx"],"names":["React","MaterialTable","Button","Grid","Paper","SaveIcon","InputLabel","FormControl","Select","MenuItem","Backdrop","CircularProgress","moment","swal","Chip","Avatar","useStyles","dataMateria","getTemas","datalista","getAlumnos","datalistaAlumnos","getCriterios","dataCriterios","putCriteriosc1","putCriteriosc2","putCriteriosc3","putCriteriosc4","crearCalificacion","updateCalificaion","fecha1","fecha2","fecha3","PERIODO_ACTUAL","unidad_Tema","ccx1","ccx2","ccx3","ccx4","unidadCalificacion","id_criterios","periodo","materia","unidad","grupo","enviarCriteriosc1","porcentageC1","criterio1","materias_idmaterias","numUnidad","asingnacion_grupo_id","enviarCriteriosc2","enviarCriteriosc3","enviarCriteriosc4","porcentageC4","criterio4","idDocenteActual","idMateriaActual","periodoActual","cierreActual","MaterialTableDemo","estilos","open","setOpen","useState","calificaciones","setcalificaciones","listasTemas","setListas","MATERIA_ID","setMATERIA_ID","buscarTema","materiaid","id_docente","target","value","fecha_resta_acta","subtract","getFecha_resta","format","console","log","avatarc1","setAvatarC1","criterio_avatarc1","setCriterio_avatarC1","avatarc2","setAvatarC2","criterio_avatarc2","setCriterio_avatarC2","avatarc3","setAvatarC3","criterio_avatarc3","setCriterio_avatarC3","avatarc4","setAvatarC4","criterio_avatarc4","setCriterio_avatarC4","obtenerTema","tem","numTemas","porcentageC2","porcentageC3","document","getElementById","criterio2","criterio3","idcat_Unidad","guardarPromedio","datos","bandera","materiaDocente_id","idcalificacion","idcalificaciones","calR2","calR3","calR4","updates","guardarPorcentaje_c1","input","addEventListener","length","slice","content","then","comentario","up","alert","guardarPorcentaje_c2","e","input2","guardarPorcentaje_c3","input3","guardarPorcentaje_c4","input4","alumnos","setAlumnos","columns","title","field","editable","disablePadding","minWidth","size","width","backdrop","paperperiodos","idnomenclaturaPeriodo","papermaterias","formControl","map","materias","nm","idMateria","nombre","semestre","nomenclatura","nombreCorto","i","tema","onRowUpdate","newData","oldData","Promise","resolve","setTimeout","prevState","calCriterio1","calR1","calCriterio2","calCriterio3","calCriterio4","calificaciontotal","parseInt","indexOf","headerStyle","backgroundColor","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport moment from 'moment';\r\nimport swal from 'sweetalert';\r\nimport './calificaciones.css';\r\n\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\n//variables\r\nimport { useStyles } from './dialogos_calificacion';\r\nimport { dataMateria } from '../../../home';\r\nimport { getTemas } from '../../servicios/api';\r\nimport { datalista } from '../../servicios/api';\r\nimport { getAlumnos } from '../../servicios/api';\r\nimport { datalistaAlumnos } from '../../servicios/api';\r\nimport { getCriterios } from '../../servicios/api';\r\nimport { dataCriterios } from '../../servicios/api';\r\nimport { putCriteriosc1 } from '../../servicios/api';\r\nimport { putCriteriosc2 } from '../../servicios/api';\r\nimport { putCriteriosc3 } from '../../servicios/api';\r\nimport { putCriteriosc4 } from '../../servicios/api';\r\n\r\nimport { crearCalificacion } from '../../servicios/api';\r\nimport { updateCalificaion } from '../../servicios/api';\r\nimport { fecha1, fecha2, fecha3 } from '../../../home';\r\nimport { PERIODO_ACTUAL } from '../../../App';\r\n\r\n\r\nexport var unidad_Tema;\r\nlet ccx1 = 0, ccx2 = 0, ccx3 = 0, ccx4 = 0, unidadCalificacion, id_criterios;\r\nlet periodo, materia, unidad, grupo;\r\n\r\nexport async function enviarCriteriosc1(porcentageC1, criterio1) {//inicio guardar porcentaje 1 y criterio 1\r\n  // let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n\r\n  await putCriteriosc1(periodo, materia, unidad, grupo, porcentageC1, criterio1)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}//fin\r\n\r\n\r\nexport async function enviarCriteriosc2(porcentageC1, criterio1) {//inicio guardar porcentaje 2 y criterio 2\r\n  //  let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n\r\n  await putCriteriosc2(periodo, materia, unidad, grupo, porcentageC1, criterio1)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}//fin\r\n\r\n\r\nexport async function enviarCriteriosc3(porcentageC1, criterio1) {//inicio guardar porcentaje 3 y criterio 3\r\n  // let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n\r\n  await putCriteriosc3(periodo, materia, unidad, grupo, porcentageC1, criterio1)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}//fin\r\n\r\n\r\nexport async function enviarCriteriosc4(porcentageC4, criterio4) {//inicio guardar porcentaje 3 y criterio 3\r\n  // let periodo, materia, unidad, grupo\r\n  periodo = dataCriterios[0].periodo;\r\n  materia = dataCriterios[0].materias_idmaterias;\r\n  unidad = dataCriterios[0].numUnidad;\r\n  grupo = dataCriterios[0].asingnacion_grupo_id;\r\n\r\n  await putCriteriosc4(periodo, materia, unidad, grupo, porcentageC4, criterio4)\r\n  //data  criterio1 porcentageC1\r\n  //parametros update periodo, materia, unidad, grupo\r\n}//fin\r\n\r\n\r\nvar idDocenteActual, idMateriaActual, periodoActual, cierreActual; // fun buscarTtema\r\n\r\nexport const MaterialTableDemo = () => {//inicio\r\n\r\n  const estilos = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [calificaciones, setcalificaciones] = React.useState({ datalistaAlumnos });\r\n  // const [materiaID, setMateriaid] = React.useState('');//id materia para filtrar unidades\r\n  const [listasTemas, setListas] = React.useState([]);\r\n  const [MATERIA_ID, setMATERIA_ID] = React.useState([]);\r\n  //let get_materia_id;\r\n\r\n\r\n\r\n  const buscarTema = async materiaid => {//inicio selec materia en la vista\r\n    setListas([])//actualiza el la lista de materias actual\r\n    //obtener datos para la consulta de unidades actuales y antes delcieere actual\r\n    idDocenteActual = dataMateria[0].id_docente;\r\n    idMateriaActual = materiaid.target.value;\r\n    periodoActual = 7;\r\n    cierreActual = fecha1; //esta variable vendra de la db el cierre de acta\r\n    //fecha1.setMonth(fecha1.getMonth() - 3);\r\n    setMATERIA_ID(idMateriaActual);//actualizar al estado\r\n    let fecha_resta_acta = moment(fecha1).subtract(2, 'months');\r\n    let getFecha_resta = moment(fecha_resta_acta).format(\"YYYY-MM-DD\");\r\n\r\n    await getTemas(idDocenteActual, idMateriaActual, periodoActual, cierreActual);\r\n    setListas(datalista)//actualiza el la lista de materias actual\r\n\r\n    console.log(\"<<<<\")\r\n    console.log(datalista)\r\n    console.log(idMateriaActual + ' _actual id')\r\n\r\n  };//fin\r\n\r\n  const [avatarc1, setAvatarC1] = React.useState();\r\n  const [criterio_avatarc1, setCriterio_avatarC1] = React.useState();\r\n  const [avatarc2, setAvatarC2] = React.useState();\r\n  const [criterio_avatarc2, setCriterio_avatarC2] = React.useState();\r\n  const [avatarc3, setAvatarC3] = React.useState();\r\n  const [criterio_avatarc3, setCriterio_avatarC3] = React.useState();\r\n  const [avatarc4, setAvatarC4] = React.useState();\r\n  const [criterio_avatarc4, setCriterio_avatarC4] = React.useState();\r\n\r\n\r\n\r\n  const obtenerTema = async (tem) => {//inico\r\n    setOpen(true)\r\n    let numTemas = tem.target.value;\r\n    //buscar lista alumnos  idMateria, idDocente\r\n    await getAlumnos(MATERIA_ID, numTemas);//LISTA DE ALUMNOS  Pendiene mandar unidad que es el tema #\r\n    await setcalificaciones({ datalistaAlumnos: datalistaAlumnos });\r\n    await getCriterios(PERIODO_ACTUAL, MATERIA_ID, numTemas);// LISTA DE CRITERIO getTem\r\n    //await setCRITERIOS(dataCriterios);\r\n    \r\n     ccx1 = await dataCriterios[0].porcentageC1;\r\n     ccx2 = await dataCriterios[0].porcentageC2;\r\n    ccx3 = await dataCriterios[0].porcentageC3;\r\n    ccx4 = await dataCriterios[0].porcentageC4;\r\n\r\n    document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\r\n    document.getElementById('porcentajeC2').value = ccx2;\r\n    document.getElementById('porcentajeC3').value = ccx3;\r\n    document.getElementById('porcentajeC4').value = ccx4;\r\n\r\n    setAvatarC1(ccx1)\r\n    setCriterio_avatarC1(dataCriterios[0].criterio1)\r\n    setAvatarC2(ccx2)\r\n    setCriterio_avatarC2(dataCriterios[0].criterio2)\r\n    setAvatarC3(ccx3)\r\n    setCriterio_avatarC3(dataCriterios[0].criterio3)\r\n    setAvatarC4(ccx4)\r\n    setCriterio_avatarC4(dataCriterios[0].criterio4)\r\n\r\n    unidadCalificacion = dataCriterios[0].numUnidad;//public unidad del criterio seleccinado\r\n    id_criterios = dataCriterios[0].idcat_Unidad;//public id_criterios del criterio seleccinado\r\n    setOpen(false)\r\n\r\n    console.log(\"dataCriterios\")\r\n\r\n    console.log(dataCriterios)\r\n  }//fin\r\n\r\n\r\n  const guardarPromedio = async (datos) => {//inicio  enviar el promedio asignado en la tabla captura_calificacion\r\n\r\n    let bandera = datos.materiaDocente_id;\r\n    let idcalificacion = datos.idcalificaciones;\r\n\r\n    if (bandera) {\r\n      console.log(\"Actualizar datos del alumno....\");\r\n\r\n      if (datos.calR2 === null && datos.calR3 === null && datos.calR4 === null) {\r\n        console.log(\"inicializar en cero r2 y r3\");\r\n        datos.calR2 = 0;\r\n        datos.calR3 = 0;\r\n        datos.calR4 = 0;\r\n      } else if (datos.calR3 === null && datos.calR4 === null) {\r\n        console.log(\"inicializar en cero r3\");\r\n        datos.calR3 = 0;\r\n        datos.calR4 = 0;\r\n      }else if(datos.calR4 === null){\r\n        datos.calR4 = 0;\r\n      }\r\n\r\n      await updateCalificaion(idcalificacion, datos)\r\n\r\n    } else {\r\n\r\n      console.log(\"crear registro para el alumno en registro calificacion\")\r\n      await crearCalificacion(datos, unidadCalificacion, id_criterios);\r\n      //actualizar data alumnos ##  materia_Tema  PERIODO_ACTUAL\r\n      await getAlumnos(MATERIA_ID, unidadCalificacion);//LISTA DE ALUMNOS\r\n      await setcalificaciones({ datalistaAlumnos: datalistaAlumnos });\r\n    }\r\n    console.log(datos)\r\n\r\n  }//fin\r\n\r\n\r\n  const updates = async () => {\r\n    await getCriterios(PERIODO_ACTUAL, idMateriaActual, unidadCalificacion);// LISTA DE CRITERIO getTem\r\n    ccx1 = dataCriterios[0].porcentageC1;\r\n    ccx2 = dataCriterios[0].porcentageC2;\r\n    ccx3 = dataCriterios[0].porcentageC3;\r\n    ccx4 = dataCriterios[0].porcentageC4;\r\n    document.getElementById('porcentajeC1').value = ccx1; //actualizar los campos c1, c2, c3\r\n    document.getElementById('porcentajeC2').value = ccx2;\r\n    document.getElementById('porcentajeC3').value = ccx3;\r\n    document.getElementById('porcentajeC4').value = ccx4;\r\n\r\n    setAvatarC1(ccx1)\r\n    setCriterio_avatarC1(dataCriterios[0].criterio1)\r\n    setAvatarC2(ccx2)\r\n    setCriterio_avatarC2(dataCriterios[0].criterio2)\r\n    setAvatarC3(ccx3)\r\n    setCriterio_avatarC3(dataCriterios[0].criterio3)\r\n    setAvatarC4(ccx4)\r\n    setCriterio_avatarC4(dataCriterios[0].criterio4)\r\n    return true;\r\n  }\r\n\r\n\r\n\r\n  const guardarPorcentaje_c1 = async () => {//inicio\r\n    var input = document.getElementById('porcentajeC1');\r\n    input.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n    if (input.value <= 100) {\r\n      if (input.value.length === 2) {\r\n\r\n        //ejecutar metodo de guardar\r\n        swal(\"describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n        })\r\n          .then((comentario) => {\r\n            if (comentario) {\r\n\r\n              //enviar porcentage y comentario\r\n              enviarCriteriosc1(input.value, comentario);\r\n\r\n              console.log(input.value)\r\n              updates().then(up => { console.log(up) })\r\n            } else {\r\n              console.log(input.value + \"no pupede estar vacio \" + comentario)\r\n            }\r\n\r\n\r\n            //swal(`You typed: ${comentario}`);\r\n          });\r\n      }\r\n    } else {\r\n      alert(\"no puede exeder de 100 %\")\r\n    }\r\n  }//fin\r\n\r\n\r\n  const guardarPorcentaje_c2 = (e) => {//inicio\r\n\r\n    var input2 = document.getElementById('porcentajeC2');//inicio 1\r\n    input2.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n\r\n    if (input2.value <= 100) {\r\n      if (input2.value.length === 2) {\r\n\r\n        //ejecutar metodo de guardar\r\n        swal(\"describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n        })\r\n          .then((comentario) => {\r\n\r\n            if (comentario) {\r\n              //enviar porcentage y comentario\r\n              console.log(\"estos es :\" + unidadCalificacion + \"  y \" + idMateriaActual)\r\n              enviarCriteriosc2(input2.value, comentario)\r\n              updates().then(up => { console.log(up) })\r\n              console.log(input2.value)\r\n            } else {\r\n              console.log(input2.value + \"noupede estar vacio \" + comentario)\r\n            }\r\n            //swal(`You typed: ${comentario}`);\r\n          });\r\n\r\n        console.log(\"ejecutar metodo de guardar 1\")\r\n\r\n      }\r\n\r\n    } else {\r\n      alert(\"no puede exeder de 100 %\")\r\n    }\r\n\r\n  }//fin\r\n\r\n\r\n\r\n  const guardarPorcentaje_c3 = (e) => {//inicio\r\n\r\n    var input3 = document.getElementById('porcentajeC3');//inicio 1\r\n    input3.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n\r\n    if (input3.value <= 100) {\r\n      if (input3.value.length === 2) {\r\n        //ejecutar metodo de guardar\r\n        swal(\"describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n        })\r\n          .then((comentario) => {\r\n\r\n            if (comentario) {\r\n              //enviar porcentage y comentario\r\n              enviarCriteriosc3(input3.value, comentario)\r\n              updates().then(up => { console.log(up) })\r\n              console.log(input3.value)\r\n            } else {\r\n              console.log(input3.value + \"noupede estar vacio \" + comentario)\r\n            }\r\n            //swal(`You typed: ${comentario}`);\r\n          });\r\n\r\n        console.log(\"ejecutar metodo de guardar 1\")\r\n      }\r\n    } else {\r\n      alert(\"no puede exeder de 100 %\")\r\n    }\r\n\r\n  }//fin\r\n\r\n  const guardarPorcentaje_c4 = (e) => {//inicio\r\n\r\n    var input4 = document.getElementById('porcentajeC4');//inicio 1\r\n    input4.addEventListener('input', function () {\r\n      if (this.value.length > 2)\r\n        this.value = this.value.slice(0, 2);\r\n    })\r\n\r\n    if (input4.value <= 100) {\r\n      if (input4.value.length === 2) {\r\n        //ejecutar metodo de guardar\r\n        swal(\"describa el nombre del creterio:\", {\r\n          content: \"input\",\r\n        })\r\n          .then((comentario) => {\r\n\r\n            if (comentario) {\r\n              //enviar porcentage y comentario\r\n              enviarCriteriosc4(input4.value, comentario)\r\n              updates().then(up => { console.log(up) })\r\n              console.log(input4.value)\r\n            } else {\r\n              console.log(input4.value + \"noupede estar vacio \" + comentario)\r\n            }\r\n            //swal(`You typed: ${comentario}`);\r\n          });\r\n\r\n        console.log(\"ejecutar metodo de guardar 1\")\r\n      }\r\n    } else {\r\n      alert(\"no puede exeder de 100 %\")\r\n    }\r\n\r\n  }//fin\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /*const manejador = (cc1, cc2, cc3) => {//creador de table\r\n    console.log(\"imprimiendo.....\" + tema1X)\r\n    console.log(\"datos new.....\" + cc1 + cc2 + cc3)\r\n  };*/\r\n\r\n  //const [ac, setAc] = React.useState('none');//guardar porcentaje #########\r\n\r\n  const [alumnos, setAlumnos] = React.useState({// datos de la tabla calificacion\r\n\r\n    columns: [\r\n      { title: 'NÂª', field: 'id', editable: 'never' , \r\n    \r\n\r\n\r\n      },\r\n      { title: 'Control', field: 'control', editable: 'never',disablePadding: true ,minWidth: 10},\r\n      { title: 'Nombre', field: 'nameAlumno', editable: 'never',disablePadding: true },\r\n      { title: 'Curso', field: 'curso', editable: 'never',disablePadding: true ,minWidth: 10},\r\n      { title: 'Opcion', field: 'opcion', editable: 'never',disablePadding: true ,minWidth: 10},\r\n      { title: 'C1', field: 'calR1',disablePadding: true ,minWidth: 10},\r\n      { title: 'C2', field: 'calR2',disablePadding: true ,minWidth: 10},\r\n      { title: 'C3', field: 'calR3',disablePadding: true ,minWidth: 10},\r\n      { title: 'C4', field: 'calR4',disablePadding: true ,minWidth: 10},\r\n      { title: '#', field: '#', editable: 'never' , size:'small',disablePadding: true},\r\n      { title: <input className=\"inputTemas\" type=\"number\" id=\"porcentajeC1\" placeholder=\"C1\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c1} ></input>, field: 'calCriterio1', editable: 'never', minWidth: 10,disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC2\" placeholder=\"C2\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c2} ></input>, field: 'calCriterio2', editable: 'never', minWidth: 10,disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC3\" placeholder=\"C3\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c3}  ></input>, field: 'calCriterio3', editable: 'never', disablePadding: true },\r\n      { title: <input className=\"inputTemas\" id=\"porcentajeC4\" placeholder=\"C4\" style={{ width: '4ch' }} onChange={guardarPorcentaje_c4}  ></input>, field: 'calCriterio4', editable: 'never', disablePadding: true },\r\n      { title: 'Total', field: 'calificaciontotal', editable: 'never' ,disablePadding: true},\r\n    ]\r\n  })\r\n\r\n  //\r\n\r\n  return (\r\n    <div>\r\n      <Backdrop className={estilos.backdrop} open={open} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <h3 >INSTITUTO TECNOLOGICO SUPERIOR DE LOS RIOS</h3>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.paperperiodos}>PERIODO: {dataMateria[0].idnomenclaturaPeriodo}</Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.paperperiodos}>CIERRE DE ACTA: {fecha1}</Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper elevation={0} >\r\n            <Chip size=\"small\" avatar={<Avatar>{avatarc1}</Avatar>} label={criterio_avatarc1} color=\"secondary\" />\r\n            <Chip size=\"small\" avatar={<Avatar>{avatarc2}</Avatar>} label={criterio_avatarc2} color=\"secondary\" />\r\n            <Chip size=\"small\" avatar={<Avatar>{avatarc3}</Avatar>} label={criterio_avatarc3} color=\"secondary\" />\r\n            <Chip size=\"small\" avatar={<Avatar>{avatarc4}</Avatar>} label={criterio_avatarc4} color=\"secondary\" />\r\n\r\n\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.papermaterias}>\r\n            <FormControl variant=\"outlined\" className={estilos.formControl}>\r\n              <InputLabel id=\"InputLabel\">Materia</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-outlined\"\r\n                id=\"materia\"\r\n                onChange={buscarTema}\r\n                label=\"Materia\"\r\n              >\r\n                {\r\n                  dataMateria.map((materias) => (<MenuItem key={materias.nm} value={materias.idMateria} >{materias.nombre + ' (' + materias.semestre + \"/\" + materias.nomenclatura + \") \" + materias.nombreCorto}</MenuItem>))\r\n                }\r\n              </Select>\r\n            </FormControl>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item xs={6} sm={3}>\r\n          <Paper elevation={0} className={estilos.papermaterias}>\r\n            <FormControl variant=\"outlined\" className={estilos.formControl}>\r\n              <InputLabel id=\"demo-simple-select-outlined-labe\">Unidad</InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-outlined-labe\"\r\n                id=\"unidad\"\r\n                label=\"Unidad\"\r\n                onChange={obtenerTema}\r\n              >\r\n                {\r\n                  listasTemas.map((tem, i) => (<MenuItem key={i} value={tem.numUnidad}>{tem.tema}</MenuItem>))\r\n\r\n                }\r\n              </Select>\r\n            </FormControl>\r\n\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n\r\n        </Grid>\r\n\r\n\r\n        <Grid item xs={12} sm={12}>\r\n\r\n          {/*   <Paper > <Paper className={classes.root}>\r\n    <TableContainer className={classes.container}>*/}\r\n          <Paper elevation={3} >\r\n\r\n            <MaterialTable\r\n              title=\"Captura de calificaciones\"\r\n              columns={alumnos.columns}//columnas\r\n              data={calificaciones.datalistaAlumnos}//filas\r\n\r\n              /*   actions={[\r\n                   {\r\n                     icon: 'save',\r\n                     tooltip: 'Save User',\r\n                     onClick: (event, rowData) => alert(\"You saved \" + rowData.control + \" c1=\" + rowData.calR1)\r\n                   }\r\n                 ]}*/\r\n\r\n              editable={\r\n                {\r\n                  // filsa: rowData => rowData.id === '1',\r\n                  onRowUpdate: (newData, oldData) =>\r\n                    new Promise(resolve => {\r\n                      setTimeout(() => {\r\n                        resolve();\r\n                        if (oldData) {\r\n                          //actualizacion del estado\r\n                          setcalificaciones(prevState => {\r\n                            const datalistaAlumnos = [...prevState.datalistaAlumnos];//obtenr data\r\n                            //console.log(newData.nombre = 'sam')//estado fila modificado\r\n                            console.log(newData.calCriterio1 = (newData.calR1 * (ccx1 / 100)))\r\n                            console.log(newData.calCriterio2 = (newData.calR2 * (ccx2 / 100)))\r\n                            console.log(newData.calCriterio3 = (newData.calR3 * (ccx3 / 100)))\r\n                            console.log(newData.calCriterio4 = (newData.calR4 * (ccx4 / 100)))\r\n\r\n                            console.log(newData.calificaciontotal = (parseInt(newData.calCriterio1) + parseInt(newData.calCriterio2) + parseInt(newData.calCriterio3) +parseInt(newData.calCriterio4)))\r\n                            console.log(newData)//estado fila modificado\r\n                            datalistaAlumnos[datalistaAlumnos.indexOf(oldData)] = newData;\r\n                            // manejador(newData.c1, newData.c2, newData.c3)\r\n                            guardarPromedio(newData)\r\n                            return { ...prevState, datalistaAlumnos };\r\n                          });\r\n                        }\r\n                      }, 600);\r\n                    }),\r\n                }\r\n              }\r\n              options={{\r\n                headerStyle: {\r\n                  backgroundColor: '#01579b',\r\n                  color: '#FFF',\r\n                  size:'small'\r\n                }\r\n              }}\r\n            />\r\n\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper >*O: Ordinario   *1:Primera oportunidad   *NA: No Alcanza</Paper>\r\n          <Paper >*R: Repeticion   *2:Segunda oportunidad</Paper>\r\n          <Paper >*E: Especial</Paper>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            startIcon={<SaveIcon />}\r\n          >\r\n            Descargar Reporte de Calificaciones\r\n          </Button>\r\n\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default MaterialTableDemo;"]},"metadata":{},"sourceType":"module"}