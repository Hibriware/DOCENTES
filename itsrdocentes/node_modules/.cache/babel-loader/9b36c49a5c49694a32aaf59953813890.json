{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\administrador\\\\acta_entregas.js\";\nimport 'date-fns';\nimport React, { useEffect } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport moment from 'moment';\nimport Lista_Periodos from './selectPeriodos';\nimport Editar from './btnEditar';\nimport Status from './status';\nimport ActivarTemas from './activaTemas';\nimport { Btn_evaluar } from './funciones';\nimport { useStyles } from './styles';\nimport { EXISTNCIA_ACTA, getPeriodo, dataPeriodo, getStatusPeriodo, getAdmiFechas, dataFechasCierre, getListaPeriodo } from '../servicios/api';\nimport { FechaDate } from './dates';\n\nconst Entregas = () => {\n  const classes = useStyles();\n  const fecha_Defaul = moment(new Date()).format('YYYY-MM-DD, h:mm:ss a');\n  const [entrega1, setEntrega1] = React.useState(fecha_Defaul);\n  const [entrega2, setEntrega2] = React.useState(fecha_Defaul);\n  const [entrega3, setEntrega3] = React.useState(fecha_Defaul);\n  const [entregaFinal, setFinal] = React.useState(fecha_Defaul);\n  const [periodos, setPeriodos] = React.useState(false);\n  const [temas, setActivaTemas] = React.useState({\n    temas: false,\n    disabled: true\n  });\n  const [recargar, setRecargar] = React.useState(false);\n  const [status, setStatus] = React.useState(false);\n  const [save, setSave] = React.useState(false);\n  const [isperiodo, setIsperiodo] = React.useState(false);\n  const [isStatus, setIsStatus] = React.useState(false);\n  const [PERIODO, setPeriodo] = React.useState(false);\n  /*useEffect(() => {\r\n  \tasync function statusDate() {\r\n  \t\tif (EXISTNCIA_ACTA) {\r\n  \t\t\tsetStatus(true);\r\n  \t\t\tif(dataFechasCierre.length === 0){\r\n  \t\t\t\tawait getAdmiFechas()\r\n  \t\t\t}\r\n  \t\tsetEntrega1(dataFechasCierre[0].primera_entrega)\r\n  \t\tsetEntrega2(dataFechasCierre[0].segunda_entrega)\r\n  \t\tsetEntrega3(dataFechasCierre[0].tercera_entrega)\r\n  \t\tsetFinal(dataFechasCierre[0].entrega_final)\r\n  \t\tconsole.log(dataFechasCierre)\r\n  \t\t}\r\n  \t}\r\n  \tasync function getPeri() {\r\n  \t\ttry {\r\n  \t\t\tawait getPeriodo();\r\n  \t\t\tsetPeriodo(dataPeriodo[0].rango);\r\n  \t\t} catch (error) {\r\n  \t\t\tsetStatus(true);\r\n  \t\t\tconsole.log(error);\r\n  \t\t}\r\n  \t}\r\n  \n  \tstatusDate();\r\n  \tgetPeri();\r\n  }, [recargar]);*/\n\n  useEffect(() => {\n    async function actualizar() {\n      let RANGO_PERIODO = await getStatusPeriodo();\n      setPeriodo(RANGO_PERIODO);\n\n      if (RANGO_PERIODO.periodo) {\n        await buscar_cierre_de_acta(RANGO_PERIODO.periodo);\n        setActivaTemas({ ...temas,\n          disabled: false\n        });\n        console.log(\"cargar fechas\");\n      } else {\n        await buscar_cierre_de_acta(periodos);\n      }\n\n      console.log('RANGO_PERIODO');\n      console.log(RANGO_PERIODO);\n    }\n\n    actualizar();\n    console.log('actualizar pantalla');\n  }, [recargar]);\n\n  const handleChange = event => {\n    console.log(event);\n    setActivaTemas({ ...temas,\n      temas: event\n    });\n  };\n\n  const handleDisables = event => {\n    setActivaTemas({ ...temas,\n      disabled: event\n    });\n  };\n\n  const buscar_cierre_de_acta = async evt => {\n    await getAdmiFechas(evt);\n    setPeriodos(evt);\n    console.log(dataFechasCierre);\n\n    if (dataFechasCierre.length) {\n      //\n      setStatus(true);\n      setSave(false);\n      setIsStatus(true);\n      setEntrega1(dataFechasCierre[0].primera_entrega);\n      setEntrega2(dataFechasCierre[0].segunda_entrega);\n      setEntrega3(dataFechasCierre[0].tercera_entrega);\n      setFinal(dataFechasCierre[0].entrega_final);\n      setIsperiodo(dataFechasCierre[0].status === 0 ? false : true); //0:false,1:true\n\n      setActivaTemas({ ...temas,\n        temas: dataFechasCierre[0].habilitar_todas === 0 ? false : true,\n        disabled: true\n      });\n    } else {\n      setStatus(false);\n      setSave(true);\n      setActivaTemas({ ...temas,\n        disabled: true\n      });\n      setIsStatus(true);\n      console.log('habilitar el mensaje de no hay fechas registre fechas nuevas');\n    }\n\n    console.log('dataFechasCierre..');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"CALENDARIO DE ENTREGA DE CALIFICACIONES\"), React.createElement(\"h4\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"PERIODO:\", PERIODO ? PERIODO.rango + PERIODO.anio : 'NO DISPONIBLE'), React.createElement(ActivarTemas, {\n    disabled: temas.disabled,\n    isTemas: temas.temas,\n    handleChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(Card, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega1,\n    status: status,\n    onGuardar: date => setEntrega1(date),\n    info: \"Primera entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega2,\n    status: status,\n    onGuardar: date => setEntrega2(date),\n    info: \"Segunda entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega3,\n    status: status,\n    onGuardar: date => setEntrega3(date),\n    info: \"Tercera entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entregaFinal,\n    status: status,\n    onGuardar: date => setFinal(date),\n    info: \"Entrega Final\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(Btn_evaluar, {\n    setRecargar: setRecargar,\n    recargar: recargar,\n    primera: entrega1,\n    segunda: entrega2,\n    tercera: entrega3,\n    final: entregaFinal,\n    periodo: periodos,\n    status: isperiodo ? '1' : '0',\n    temas: temas.temas ? '1' : '0',\n    isDisable: save,\n    isdisabled: status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(Lista_Periodos, {\n    onBuscar: buscar_cierre_de_acta,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(Editar, {\n    disabled: !status,\n    isDisable: setStatus,\n    periodos: periodos,\n    setIsStatus: setIsStatus,\n    handleDisables: handleDisables,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }), React.createElement(Status, {\n    isPeriodo: setIsperiodo,\n    isperiodo: isperiodo,\n    isdisabled: isStatus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }))))))));\n};\n\nexport default Entregas;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/administrador/acta_entregas.js"],"names":["React","useEffect","CssBaseline","Container","Card","Paper","Grid","moment","Lista_Periodos","Editar","Status","ActivarTemas","Btn_evaluar","useStyles","EXISTNCIA_ACTA","getPeriodo","dataPeriodo","getStatusPeriodo","getAdmiFechas","dataFechasCierre","getListaPeriodo","FechaDate","Entregas","classes","fecha_Defaul","Date","format","entrega1","setEntrega1","useState","entrega2","setEntrega2","entrega3","setEntrega3","entregaFinal","setFinal","periodos","setPeriodos","temas","setActivaTemas","disabled","recargar","setRecargar","status","setStatus","save","setSave","isperiodo","setIsperiodo","isStatus","setIsStatus","PERIODO","setPeriodo","actualizar","RANGO_PERIODO","periodo","buscar_cierre_de_acta","console","log","handleChange","event","handleDisables","evt","length","primera_entrega","segunda_entrega","tercera_entrega","entrega_final","habilitar_todas","textAlign","rango","anio","root","paper","date"],"mappings":"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","sourcesContent":["import 'date-fns';\r\nimport React, { useEffect } from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport Lista_Periodos from './selectPeriodos';\r\nimport Editar from './btnEditar';\r\nimport Status from './status';\r\nimport ActivarTemas from './activaTemas';\r\nimport { Btn_evaluar } from './funciones';\r\nimport { useStyles } from './styles';\r\nimport {\r\n\tEXISTNCIA_ACTA,\r\n\tgetPeriodo,\r\n\tdataPeriodo,\r\n\tgetStatusPeriodo,\r\n\tgetAdmiFechas,\r\n\tdataFechasCierre,\r\n\tgetListaPeriodo\r\n} from '../servicios/api';\r\nimport { FechaDate } from './dates';\r\n\r\nconst Entregas = () => {\r\n\tconst classes = useStyles();\r\n\tconst fecha_Defaul = moment(new Date()).format('YYYY-MM-DD, h:mm:ss a');\r\n\tconst [ entrega1, setEntrega1 ] = React.useState(fecha_Defaul);\r\n\tconst [ entrega2, setEntrega2 ] = React.useState(fecha_Defaul);\r\n\tconst [ entrega3, setEntrega3 ] = React.useState(fecha_Defaul);\r\n\tconst [ entregaFinal, setFinal ] = React.useState(fecha_Defaul);\r\n\tconst [ periodos, setPeriodos ] = React.useState(false);\r\n\tconst [ temas, setActivaTemas ] = React.useState({temas:false,disabled:true});\r\n\r\n\r\n\tconst [ recargar, setRecargar ] = React.useState(false);\r\n\tconst [ status, setStatus ] = React.useState(false);\r\n\tconst [ save, setSave ] = React.useState(false);\r\n\tconst [ isperiodo, setIsperiodo ] = React.useState(false);\r\n\tconst [ isStatus, setIsStatus ] = React.useState(false);\r\n\r\n\r\n\tconst [ PERIODO, setPeriodo ] = React.useState(false);\r\n\r\n\t/*useEffect(() => {\r\n\t\tasync function statusDate() {\r\n\t\t\tif (EXISTNCIA_ACTA) {\r\n\t\t\t\tsetStatus(true);\r\n\t\t\t\tif(dataFechasCierre.length === 0){\r\n\t\t\t\t\tawait getAdmiFechas()\r\n\t\t\t\t}\r\n\t\t\tsetEntrega1(dataFechasCierre[0].primera_entrega)\r\n\t\t\tsetEntrega2(dataFechasCierre[0].segunda_entrega)\r\n\t\t\tsetEntrega3(dataFechasCierre[0].tercera_entrega)\r\n\t\t\tsetFinal(dataFechasCierre[0].entrega_final)\r\n\t\t\tconsole.log(dataFechasCierre)\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function getPeri() {\r\n\t\t\ttry {\r\n\t\t\t\tawait getPeriodo();\r\n\t\t\t\tsetPeriodo(dataPeriodo[0].rango);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetStatus(true);\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatusDate();\r\n\t\tgetPeri();\r\n\t}, [recargar]);*/\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function actualizar() {\r\n\t\t\tlet RANGO_PERIODO = await getStatusPeriodo();\r\n\t\t\t\tsetPeriodo(RANGO_PERIODO)\r\n\t\t\t\tif(RANGO_PERIODO.periodo){\r\n\t\t\t\tawait\tbuscar_cierre_de_acta(RANGO_PERIODO.periodo)\r\n\t\t\t\t\tsetActivaTemas({...temas,disabled:false})\r\n\t\t\t\t\tconsole.log(\"cargar fechas\")\r\n\t\t\t\t}else{\r\n\t\t\t\r\n\t\t\t\tawait buscar_cierre_de_acta(periodos)\r\n\t\t\t\t}\r\n\t\t\tconsole.log('RANGO_PERIODO')\r\n\r\n\t\t\tconsole.log(RANGO_PERIODO)\r\n\t\t\t}\r\n\r\n\t\t\tactualizar();\r\n\r\n\t\t\tconsole.log('actualizar pantalla');\r\n\t\t},\r\n\t\t[ recargar ]\r\n\t);\r\n\r\n\tconst handleChange = event => {\r\n       console.log(event)\r\n        setActivaTemas({...temas, temas:event})\r\n\t  }\r\n\t  const handleDisables = event => {\r\n        \r\n        setActivaTemas({...temas,disabled:event })\r\n\t  }\r\n\t  \r\n\tconst buscar_cierre_de_acta = async (evt) => {\r\n\t\tawait getAdmiFechas(evt);\r\n\t\tsetPeriodos(evt);\r\n\t\tconsole.log(dataFechasCierre);\r\n\t\tif (dataFechasCierre.length) {//\r\n\t\t\tsetStatus(true);\r\n\t\t\tsetSave(false);\r\n\t\t\tsetIsStatus(true);\r\n\t\t\tsetEntrega1(dataFechasCierre[0].primera_entrega);\r\n\t\t\tsetEntrega2(dataFechasCierre[0].segunda_entrega);\r\n\t\t\tsetEntrega3(dataFechasCierre[0].tercera_entrega);\r\n\t\t\tsetFinal(dataFechasCierre[0].entrega_final);\r\n\t\t\tsetIsperiodo(dataFechasCierre[0].status === 0 ? false : true);//0:false,1:true\r\n\t\t\tsetActivaTemas({\r\n\t\t\t\t...temas, temas:dataFechasCierre[0].habilitar_todas === 0 ? false : true,\r\n\t\t\t\tdisabled:true\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tsetStatus(false);\r\n\t\t\tsetSave(true);\r\n\t\t\tsetActivaTemas({...temas,disabled:true})\r\n\t\t\tsetIsStatus(true)\r\n\t\t\tconsole.log('habilitar el mensaje de no hay fechas registre fechas nuevas');\r\n\t\t}\r\n\r\n\t\tconsole.log('dataFechasCierre..');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3 style={{ textAlign: 'center' }}>CALENDARIO DE ENTREGA DE CALIFICACIONES</h3>\r\n\t\t\t<h4 style={{ textAlign: 'center' }}>PERIODO:{PERIODO ? PERIODO.rango + PERIODO.anio: 'NO DISPONIBLE'}</h4>\r\n\t\t\t\t\t<ActivarTemas disabled={temas.disabled} isTemas={temas.temas} handleChange={handleChange}/>\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Card elevation={3}>\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Grid container spacing={5}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega1}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega1(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Primera entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega2}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega2(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Segunda entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega3}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega3(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Tercera entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entregaFinal}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setFinal(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Entrega Final\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Btn_evaluar\r\n\t\t\t\t\t\t\t\t\t\tsetRecargar={setRecargar}\r\n\t\t\t\t\t\t\t\t\t\trecargar={recargar}\r\n\t\t\t\t\t\t\t\t\t\tprimera={entrega1}\r\n\t\t\t\t\t\t\t\t\t\tsegunda={entrega2}\r\n\t\t\t\t\t\t\t\t\t\ttercera={entrega3}\r\n\t\t\t\t\t\t\t\t\t\tfinal={entregaFinal}\r\n\t\t\t\t\t\t\t\t\t\tperiodo={periodos}\r\n\t\t\t\t\t\t\t\t\t\tstatus={isperiodo ? '1' : '0'}\r\n\t\t\t\t\t\t\t\t\t\ttemas={temas.temas ? '1':'0'}\r\n\t\t\t\t\t\t\t\t\t\tisDisable={save}\r\n\t\t\t\t\t\t\t\t\t\tisdisabled={status}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Lista_Periodos onBuscar={buscar_cierre_de_acta} />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Editar disabled={!status} isDisable={setStatus} periodos={periodos} setIsStatus={setIsStatus} handleDisables={handleDisables}/>\r\n\t\t\t\t\t\t\t\t\t<Status isPeriodo={setIsperiodo} isperiodo={isperiodo} isdisabled={isStatus} />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Entregas;\r\n"]},"metadata":{},"sourceType":"module"}