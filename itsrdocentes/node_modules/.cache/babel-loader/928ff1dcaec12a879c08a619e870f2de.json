{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\administrador\\\\acta_entregas.js\";\nimport 'date-fns';\nimport React, { useEffect } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport moment from 'moment';\nimport Lista_Periodos from './selectPeriodos';\nimport Editar from './btnEditar';\nimport Status from './status';\nimport { Btn_evaluar } from './funciones';\nimport { useStyles } from './styles';\nimport { EXISTNCIA_ACTA, getPeriodo, dataPeriodo, getStatusPeriodo, getAdmiFechas, dataFechasCierre, getListaPeriodo } from '../servicios/api';\nimport { FechaDate } from './dates';\n\nconst Entregas = () => {\n  const classes = useStyles();\n  const fecha_Defaul = moment(new Date()).format('YYYY-MM-DD, h:mm:ss a');\n  const [entrega1, setEntrega1] = React.useState(fecha_Defaul);\n  const [entrega2, setEntrega2] = React.useState(fecha_Defaul);\n  const [entrega3, setEntrega3] = React.useState(fecha_Defaul);\n  const [entregaFinal, setFinal] = React.useState(fecha_Defaul);\n  const [periodos, setPeriodos] = React.useState(false);\n  const [recargar, setRecargar] = React.useState(false);\n  const [status, setStatus] = React.useState(false);\n  const [save, setSave] = React.useState(false);\n  const [isperiodo, setIsperiodo] = React.useState(false); //const [ isperiodo, setIsperiodo ] = React.useState(false);\n\n  const [PERIODO, setPeriodo] = React.useState(false);\n  /*useEffect(() => {\r\n  \tasync function statusDate() {\r\n  \t\tif (EXISTNCIA_ACTA) {\r\n  \t\t\tsetStatus(true);\r\n  \t\t\tif(dataFechasCierre.length === 0){\r\n  \t\t\t\tawait getAdmiFechas()\r\n  \t\t\t}\r\n  \t\tsetEntrega1(dataFechasCierre[0].primera_entrega)\r\n  \t\tsetEntrega2(dataFechasCierre[0].segunda_entrega)\r\n  \t\tsetEntrega3(dataFechasCierre[0].tercera_entrega)\r\n  \t\tsetFinal(dataFechasCierre[0].entrega_final)\r\n  \t\tconsole.log(dataFechasCierre)\r\n  \t\t}\r\n  \t}\r\n  \tasync function getPeri() {\r\n  \t\ttry {\r\n  \t\t\tawait getPeriodo();\r\n  \t\t\tsetPeriodo(dataPeriodo[0].rango);\r\n  \t\t} catch (error) {\r\n  \t\t\tsetStatus(true);\r\n  \t\t\tconsole.log(error);\r\n  \t\t}\r\n  \t}\r\n  \n  \tstatusDate();\r\n  \tgetPeri();\r\n  }, [recargar]);*/\n\n  useEffect(() => {\n    async function actualizar() {\n      let RANGO_PERIODO = await getStatusPeriodo();\n      setPeriodo(RANGO_PERIODO);\n\n      if (RANGO_PERIODO.periodo) {\n        buscar_cierre_de_acta(RANGO_PERIODO.periodo);\n        console.log(\"cargar fechas\");\n      } else {\n        let _Periodos = await getListaPeriodo();\n\n        await buscar_cierre_de_acta(_Periodos.idnomenclaturaPeriodo);\n      }\n\n      console.log('RANGO_PERIODO');\n      console.log(RANGO_PERIODO);\n    }\n\n    actualizar();\n    console.log('actualizar pantalla');\n  }, [recargar]);\n\n  const buscar_cierre_de_acta = async evt => {\n    await getAdmiFechas(evt);\n    setPeriodos(evt);\n    console.log(dataFechasCierre);\n\n    if (dataFechasCierre.length) {\n      setStatus(true);\n      setSave(false);\n      setEntrega1(dataFechasCierre[0].primera_entrega);\n      setEntrega2(dataFechasCierre[0].segunda_entrega);\n      setEntrega3(dataFechasCierre[0].tercera_entrega);\n      setFinal(dataFechasCierre[0].entrega_final);\n      setIsperiodo(dataFechasCierre[0].status === 0 ? false : true);\n    } else {\n      setStatus(false);\n      setSave(true);\n      console.log('habilitar el mensaje de no hay fechas registre fechas nuevas');\n    }\n\n    console.log('dataFechasCierre..');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"CALENDARIO DE ENTREGA DE CALIFICACIONES\"), React.createElement(\"h4\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"PERIODO:\", PERIODO ? PERIODO.rango + PERIODO.anio : 'NO DISPONIBLE'), React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Card, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega1,\n    status: status,\n    onGuardar: date => setEntrega1(date),\n    info: \"Primera entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega2,\n    status: status,\n    onGuardar: date => setEntrega2(date),\n    info: \"Segunda entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega3,\n    status: status,\n    onGuardar: date => setEntrega3(date),\n    info: \"Tercera entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entregaFinal,\n    status: status,\n    onGuardar: date => setFinal(date),\n    info: \"Entrega Final\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(Btn_evaluar, {\n    setRecargar: setRecargar,\n    recargar: recargar,\n    primera: entrega1,\n    segunda: entrega2,\n    tercera: entrega3,\n    final: entregaFinal,\n    periodo: periodos,\n    status: isperiodo ? '1' : '0',\n    isDisable: save,\n    isdisabled: status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(Lista_Periodos, {\n    onBuscar: buscar_cierre_de_acta,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(Editar, {\n    disabled: !status,\n    isDisable: setStatus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), React.createElement(Status, {\n    isPeriodo: setIsperiodo,\n    isperiodo: isperiodo,\n    isdisabled: status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }))))))));\n};\n\nexport default Entregas;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/administrador/acta_entregas.js"],"names":["React","useEffect","CssBaseline","Container","Card","Paper","Grid","moment","Lista_Periodos","Editar","Status","Btn_evaluar","useStyles","EXISTNCIA_ACTA","getPeriodo","dataPeriodo","getStatusPeriodo","getAdmiFechas","dataFechasCierre","getListaPeriodo","FechaDate","Entregas","classes","fecha_Defaul","Date","format","entrega1","setEntrega1","useState","entrega2","setEntrega2","entrega3","setEntrega3","entregaFinal","setFinal","periodos","setPeriodos","recargar","setRecargar","status","setStatus","save","setSave","isperiodo","setIsperiodo","PERIODO","setPeriodo","actualizar","RANGO_PERIODO","periodo","buscar_cierre_de_acta","console","log","_Periodos","idnomenclaturaPeriodo","evt","length","primera_entrega","segunda_entrega","tercera_entrega","entrega_final","textAlign","rango","anio","root","paper","date"],"mappings":";AAAA,OAAO,UAAP;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SACCC,cADD,EAECC,UAFD,EAGCC,WAHD,EAICC,gBAJD,EAKCC,aALD,EAMCC,gBAND,EAOCC,eAPD,QAQO,kBARP;AASA,SAASC,SAAT,QAA0B,SAA1B;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACtB,QAAMC,OAAO,GAAGV,SAAS,EAAzB;AACA,QAAMW,YAAY,GAAGhB,MAAM,CAAC,IAAIiB,IAAJ,EAAD,CAAN,CAAmBC,MAAnB,CAA0B,uBAA1B,CAArB;AACA,QAAM,CAAEC,QAAF,EAAYC,WAAZ,IAA4B3B,KAAK,CAAC4B,QAAN,CAAeL,YAAf,CAAlC;AACA,QAAM,CAAEM,QAAF,EAAYC,WAAZ,IAA4B9B,KAAK,CAAC4B,QAAN,CAAeL,YAAf,CAAlC;AACA,QAAM,CAAEQ,QAAF,EAAYC,WAAZ,IAA4BhC,KAAK,CAAC4B,QAAN,CAAeL,YAAf,CAAlC;AACA,QAAM,CAAEU,YAAF,EAAgBC,QAAhB,IAA6BlC,KAAK,CAAC4B,QAAN,CAAeL,YAAf,CAAnC;AACA,QAAM,CAAEY,QAAF,EAAYC,WAAZ,IAA4BpC,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAAlC;AAEA,QAAM,CAAES,QAAF,EAAYC,WAAZ,IAA4BtC,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAAlC;AACA,QAAM,CAAEW,MAAF,EAAUC,SAAV,IAAwBxC,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAA9B;AACA,QAAM,CAAEa,IAAF,EAAQC,OAAR,IAAoB1C,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAA1B;AACA,QAAM,CAAEe,SAAF,EAAaC,YAAb,IAA8B5C,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAApC,CAZsB,CAatB;;AAGA,QAAM,CAAEiB,OAAF,EAAWC,UAAX,IAA0B9C,KAAK,CAAC4B,QAAN,CAAe,KAAf,CAAhC;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA3B,EAAAA,SAAS,CACR,MAAM;AACL,mBAAe8C,UAAf,GAA4B;AAC5B,UAAIC,aAAa,GAAG,MAAMhC,gBAAgB,EAA1C;AACC8B,MAAAA,UAAU,CAACE,aAAD,CAAV;;AACA,UAAGA,aAAa,CAACC,OAAjB,EAAyB;AACxBC,QAAAA,qBAAqB,CAACF,aAAa,CAACC,OAAf,CAArB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,OAHD,MAGK;AACL,YAAIC,SAAS,GAAG,MAAMlC,eAAe,EAArC;;AACA,cAAM+B,qBAAqB,CAACG,SAAS,CAACC,qBAAX,CAA3B;AACC;;AACFH,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEAD,MAAAA,OAAO,CAACC,GAAR,CAAYJ,aAAZ;AACC;;AAEDD,IAAAA,UAAU;AAEVI,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,GApBO,EAqBR,CAAEf,QAAF,CArBQ,CAAT;;AAwBA,QAAMa,qBAAqB,GAAG,MAAOK,GAAP,IAAe;AAC5C,UAAMtC,aAAa,CAACsC,GAAD,CAAnB;AACAnB,IAAAA,WAAW,CAACmB,GAAD,CAAX;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYlC,gBAAZ;;AACA,QAAIA,gBAAgB,CAACsC,MAArB,EAA6B;AAC5BhB,MAAAA,SAAS,CAAC,IAAD,CAAT;AACAE,MAAAA,OAAO,CAAC,KAAD,CAAP;AACAf,MAAAA,WAAW,CAACT,gBAAgB,CAAC,CAAD,CAAhB,CAAoBuC,eAArB,CAAX;AACA3B,MAAAA,WAAW,CAACZ,gBAAgB,CAAC,CAAD,CAAhB,CAAoBwC,eAArB,CAAX;AACA1B,MAAAA,WAAW,CAACd,gBAAgB,CAAC,CAAD,CAAhB,CAAoByC,eAArB,CAAX;AACAzB,MAAAA,QAAQ,CAAChB,gBAAgB,CAAC,CAAD,CAAhB,CAAoB0C,aAArB,CAAR;AACAhB,MAAAA,YAAY,CAAC1B,gBAAgB,CAAC,CAAD,CAAhB,CAAoBqB,MAApB,KAA+B,CAA/B,GAAmC,KAAnC,GAA2C,IAA5C,CAAZ;AACA,KARD,MAQO;AACNC,MAAAA,SAAS,CAAC,KAAD,CAAT;AACAE,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,8DAAZ;AACA;;AAEDD,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,GAnBD;;AAqBA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAI,IAAA,KAAK,EAAE;AAAES,MAAAA,SAAS,EAAE;AAAb,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADD,EAEC;AAAI,IAAA,KAAK,EAAE;AAAEA,MAAAA,SAAS,EAAE;AAAb,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA6ChB,OAAO,GAAGA,OAAO,CAACiB,KAAR,GAAgBjB,OAAO,CAACkB,IAA3B,GAAiC,eAArF,CAFD,EAIC;AAAK,IAAA,SAAS,EAAEzC,OAAO,CAAC0C,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE1C,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,SAAD;AACC,IAAA,OAAO,EAAEvC,QADV;AAEC,IAAA,MAAM,EAAEa,MAFT;AAGC,IAAA,SAAS,EAAG2B,IAAD,IAAUvC,WAAW,CAACuC,IAAD,CAHjC;AAIC,IAAA,IAAI,EAAC,iBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CADD,EAWC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE5C,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,SAAD;AACC,IAAA,OAAO,EAAEpC,QADV;AAEC,IAAA,MAAM,EAAEU,MAFT;AAGC,IAAA,SAAS,EAAG2B,IAAD,IAAUpC,WAAW,CAACoC,IAAD,CAHjC;AAIC,IAAA,IAAI,EAAC,iBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CAXD,EAqBC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE5C,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,SAAD;AACC,IAAA,OAAO,EAAElC,QADV;AAEC,IAAA,MAAM,EAAEQ,MAFT;AAGC,IAAA,SAAS,EAAG2B,IAAD,IAAUlC,WAAW,CAACkC,IAAD,CAHjC;AAIC,IAAA,IAAI,EAAC,iBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CArBD,EA+BC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE5C,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,SAAD;AACC,IAAA,OAAO,EAAEhC,YADV;AAEC,IAAA,MAAM,EAAEM,MAFT;AAGC,IAAA,SAAS,EAAG2B,IAAD,IAAUhC,QAAQ,CAACgC,IAAD,CAH9B;AAIC,IAAA,IAAI,EAAC,eAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CA/BD,EAyCC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE5C,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,WAAD;AACC,IAAA,WAAW,EAAE3B,WADd;AAEC,IAAA,QAAQ,EAAED,QAFX;AAGC,IAAA,OAAO,EAAEX,QAHV;AAIC,IAAA,OAAO,EAAEG,QAJV;AAKC,IAAA,OAAO,EAAEE,QALV;AAMC,IAAA,KAAK,EAAEE,YANR;AAOC,IAAA,OAAO,EAAEE,QAPV;AAQC,IAAA,MAAM,EAAEQ,SAAS,GAAG,GAAH,GAAS,GAR3B;AASC,IAAA,SAAS,EAAEF,IATZ;AAUC,IAAA,UAAU,EAAEF,MAVb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CAzCD,EAyDC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAEjB,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,cAAD;AAAgB,IAAA,QAAQ,EAAEf,qBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CAzDD,EA+DC,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE5B,OAAO,CAAC2C,KAA1B;AAAiC,IAAA,SAAS,EAAE,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE,CAAC1B,MAAnB;AAA2B,IAAA,SAAS,EAAEC,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEI,YAAnB;AAAiC,IAAA,SAAS,EAAED,SAA5C;AAAuD,IAAA,UAAU,EAAEJ,MAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,CA/DD,CADD,CAFD,CADD,CAJD,CADD;AAoFA,CA/KD;;AAgLA,eAAelB,QAAf","sourcesContent":["import 'date-fns';\r\nimport React, { useEffect } from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport Lista_Periodos from './selectPeriodos';\r\nimport Editar from './btnEditar';\r\nimport Status from './status';\r\nimport { Btn_evaluar } from './funciones';\r\nimport { useStyles } from './styles';\r\nimport {\r\n\tEXISTNCIA_ACTA,\r\n\tgetPeriodo,\r\n\tdataPeriodo,\r\n\tgetStatusPeriodo,\r\n\tgetAdmiFechas,\r\n\tdataFechasCierre,\r\n\tgetListaPeriodo\r\n} from '../servicios/api';\r\nimport { FechaDate } from './dates';\r\n\r\nconst Entregas = () => {\r\n\tconst classes = useStyles();\r\n\tconst fecha_Defaul = moment(new Date()).format('YYYY-MM-DD, h:mm:ss a');\r\n\tconst [ entrega1, setEntrega1 ] = React.useState(fecha_Defaul);\r\n\tconst [ entrega2, setEntrega2 ] = React.useState(fecha_Defaul);\r\n\tconst [ entrega3, setEntrega3 ] = React.useState(fecha_Defaul);\r\n\tconst [ entregaFinal, setFinal ] = React.useState(fecha_Defaul);\r\n\tconst [ periodos, setPeriodos ] = React.useState(false);\r\n\r\n\tconst [ recargar, setRecargar ] = React.useState(false);\r\n\tconst [ status, setStatus ] = React.useState(false);\r\n\tconst [ save, setSave ] = React.useState(false);\r\n\tconst [ isperiodo, setIsperiodo ] = React.useState(false);\r\n\t//const [ isperiodo, setIsperiodo ] = React.useState(false);\r\n\r\n\r\n\tconst [ PERIODO, setPeriodo ] = React.useState(false);\r\n\r\n\t/*useEffect(() => {\r\n\t\tasync function statusDate() {\r\n\t\t\tif (EXISTNCIA_ACTA) {\r\n\t\t\t\tsetStatus(true);\r\n\t\t\t\tif(dataFechasCierre.length === 0){\r\n\t\t\t\t\tawait getAdmiFechas()\r\n\t\t\t\t}\r\n\t\t\tsetEntrega1(dataFechasCierre[0].primera_entrega)\r\n\t\t\tsetEntrega2(dataFechasCierre[0].segunda_entrega)\r\n\t\t\tsetEntrega3(dataFechasCierre[0].tercera_entrega)\r\n\t\t\tsetFinal(dataFechasCierre[0].entrega_final)\r\n\t\t\tconsole.log(dataFechasCierre)\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function getPeri() {\r\n\t\t\ttry {\r\n\t\t\t\tawait getPeriodo();\r\n\t\t\t\tsetPeriodo(dataPeriodo[0].rango);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetStatus(true);\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatusDate();\r\n\t\tgetPeri();\r\n\t}, [recargar]);*/\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function actualizar() {\r\n\t\t\tlet RANGO_PERIODO = await getStatusPeriodo();\r\n\t\t\t\tsetPeriodo(RANGO_PERIODO)\r\n\t\t\t\tif(RANGO_PERIODO.periodo){\r\n\t\t\t\t\tbuscar_cierre_de_acta(RANGO_PERIODO.periodo)\r\n\t\t\t\t\tconsole.log(\"cargar fechas\")\r\n\t\t\t\t}else{\r\n\t\t\t\tlet _Periodos = await\tgetListaPeriodo()\r\n\t\t\t\tawait buscar_cierre_de_acta(_Periodos.idnomenclaturaPeriodo)\r\n\t\t\t\t}\r\n\t\t\tconsole.log('RANGO_PERIODO')\r\n\r\n\t\t\tconsole.log(RANGO_PERIODO)\r\n\t\t\t}\r\n\r\n\t\t\tactualizar();\r\n\r\n\t\t\tconsole.log('actualizar pantalla');\r\n\t\t},\r\n\t\t[ recargar ]\r\n\t);\r\n\r\n\tconst buscar_cierre_de_acta = async (evt) => {\r\n\t\tawait getAdmiFechas(evt);\r\n\t\tsetPeriodos(evt);\r\n\t\tconsole.log(dataFechasCierre);\r\n\t\tif (dataFechasCierre.length) {\r\n\t\t\tsetStatus(true);\r\n\t\t\tsetSave(false);\r\n\t\t\tsetEntrega1(dataFechasCierre[0].primera_entrega);\r\n\t\t\tsetEntrega2(dataFechasCierre[0].segunda_entrega);\r\n\t\t\tsetEntrega3(dataFechasCierre[0].tercera_entrega);\r\n\t\t\tsetFinal(dataFechasCierre[0].entrega_final);\r\n\t\t\tsetIsperiodo(dataFechasCierre[0].status === 0 ? false : true);\r\n\t\t} else {\r\n\t\t\tsetStatus(false);\r\n\t\t\tsetSave(true);\r\n\t\t\tconsole.log('habilitar el mensaje de no hay fechas registre fechas nuevas');\r\n\t\t}\r\n\r\n\t\tconsole.log('dataFechasCierre..');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3 style={{ textAlign: 'center' }}>CALENDARIO DE ENTREGA DE CALIFICACIONES</h3>\r\n\t\t\t<h4 style={{ textAlign: 'center' }}>PERIODO:{PERIODO ? PERIODO.rango + PERIODO.anio: 'NO DISPONIBLE'}</h4>\r\n\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Card elevation={3}>\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Grid container spacing={5}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega1}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega1(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Primera entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega2}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega2(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Segunda entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega3}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega3(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Tercera entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entregaFinal}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setFinal(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Entrega Final\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Btn_evaluar\r\n\t\t\t\t\t\t\t\t\t\tsetRecargar={setRecargar}\r\n\t\t\t\t\t\t\t\t\t\trecargar={recargar}\r\n\t\t\t\t\t\t\t\t\t\tprimera={entrega1}\r\n\t\t\t\t\t\t\t\t\t\tsegunda={entrega2}\r\n\t\t\t\t\t\t\t\t\t\ttercera={entrega3}\r\n\t\t\t\t\t\t\t\t\t\tfinal={entregaFinal}\r\n\t\t\t\t\t\t\t\t\t\tperiodo={periodos}\r\n\t\t\t\t\t\t\t\t\t\tstatus={isperiodo ? '1' : '0'}\r\n\t\t\t\t\t\t\t\t\t\tisDisable={save}\r\n\t\t\t\t\t\t\t\t\t\tisdisabled={status}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Lista_Periodos onBuscar={buscar_cierre_de_acta} />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Editar disabled={!status} isDisable={setStatus} />\r\n\t\t\t\t\t\t\t\t\t<Status isPeriodo={setIsperiodo} isperiodo={isperiodo} isdisabled={status} />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Entregas;\r\n"]},"metadata":{},"sourceType":"module"}