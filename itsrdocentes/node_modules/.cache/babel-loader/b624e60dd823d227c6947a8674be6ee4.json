{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\contenedores\\\\docente_calificaciones\\\\reportes\\\\parciales\\\\parciales.js\";\nimport React from 'react';\nimport { Buttons } from '../button/button';\nimport moment from 'moment';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport Itsr from '../../../../img/Logo-Tec.png';\nimport { dataMateria } from '../../../../../home';\nimport { getReporteHorarios, getReporteLista, dataReportHorario, dataPeriodo } from '../../../../servicios/api';\nexport const ReportParciales = () => {\n  const infPdf = async () => {\n    try {\n      const DOCENTE_ACTUAL = dataMateria[0].nameDocente;\n\n      for (let index = 0; index < dataMateria.length; index++) {\n        const ID_MATERIA = dataMateria[index].idMateria;\n        const PERIODO = dataMateria[index].idnomenclaturaPeriodo;\n        const GRUPO = dataMateria[index].idGrupos;\n        const Materia = dataMateria[index].nombre;\n        await Promise.all([getReporteHorarios(PERIODO, ID_MATERIA, GRUPO), getReporteLista(PERIODO, ID_MATERIA, GRUPO)]);\n        await pdf(Materia, DOCENTE_ACTUAL);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const pdf = (nomMateria, docente_actual) => {\n    const Horas_clases = dataReportHorario[0].semanas;\n    const Grupo = dataReportHorario[0].grupo;\n    const Semestre = dataReportHorario[0].semestre;\n    var img = new Image();\n    img.src = Itsr;\n    const pdf = new jsPDF('p', 'pt', 'letter'); //piede paginas\n\n    const pageCount = pdf.internal.getNumberOfPages();\n\n    for (var i = 1; i <= pageCount; i++) {\n      pdf.setPage(i);\n      pdf.setFontSize(14); //encabezado\n\n      pdf.text(130, 15, 'INSTITUTO TECNOLÓGICO SUPERIOR DE LOS RÍOS');\n      pdf.line(100, 17, 500, 17); // horizontal line\n\n      pdf.setFontSize(8);\n      pdf.text(262, 26, \"PRELISTA CON PARCIALES\");\n      pdf.roundedRect(102, 45, 400, 12, 3, 3);\n      pdf.setFontSize(8);\n      pdf.text(100, 40, `MATERIA: ${nomMateria}`);\n      pdf.setFontSize(8);\n      pdf.text(500, 31, `PERIODO: ${dataPeriodo[0].rango}`);\n      pdf.setFontSize(8);\n      pdf.text(500, 40, `FECHA: ${moment().format('L')}`);\n      pdf.setFontSize(7);\n      pdf.text(122, 54, Horas_clases);\n      pdf.setFontSize(8);\n      pdf.text(500, 66, `GRUPO: ${Semestre} ${Grupo}`);\n      pdf.setFontSize(8);\n      pdf.text(100, 66, `DOCENTE: ${docente_actual}`);\n      pdf.addImage(img, 'PNG', 13, 10, 63, 63);\n      pdf.setFontSize(7); //pie de pagina\n\n      pdf.text(20, 760, \"C (Curso, R:Repetición, E:Especial)\");\n      pdf.setLineWidth(1.6);\n      pdf.line(390, 760, 500, 760);\n      pdf.setFontSize(7);\n      pdf.text(413, 767, \"FIRMA DOCENTE\");\n      pdf.text(20, 770, 'Pagina' + String(i) + ' de ' + String(pageCount), null, null, null, null, \"right\");\n    }\n\n    pdf.save(nomMateria + '.pdf');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Buttons, {\n    texto: \"Calificaciones Parciales\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/contenedores/docente_calificaciones/reportes/parciales/parciales.js"],"names":["React","Buttons","moment","jsPDF","Itsr","dataMateria","getReporteHorarios","getReporteLista","dataReportHorario","dataPeriodo","ReportParciales","infPdf","DOCENTE_ACTUAL","nameDocente","index","length","ID_MATERIA","idMateria","PERIODO","idnomenclaturaPeriodo","GRUPO","idGrupos","Materia","nombre","Promise","all","pdf","error","console","log","nomMateria","docente_actual","Horas_clases","semanas","Grupo","grupo","Semestre","semestre","img","Image","src","pageCount","internal","getNumberOfPages","i","setPage","setFontSize","text","line","roundedRect","rango","format","addImage","setLineWidth","String","save"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,kBAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,SAAQC,WAAR,QAA0B,qBAA1B;AACA,SAAQC,kBAAR,EAA4BC,eAA5B,EAA4CC,iBAA5C,EAA8DC,WAA9D,QAAgF,2BAAhF;AAGA,OAAO,MAAMC,eAAe,GAAG,MAAM;AAEjC,QAAMC,MAAM,GAAG,YAAY;AACvB,QAAI;AACA,YAAMC,cAAc,GAAGP,WAAW,CAAC,CAAD,CAAX,CAAeQ,WAAtC;;AACA,WAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGT,WAAW,CAACU,MAAxC,EAAgDD,KAAK,EAArD,EAAyD;AACvD,cAAME,UAAU,GAAGX,WAAW,CAACS,KAAD,CAAX,CAAmBG,SAAtC;AACA,cAAMC,OAAO,GAAGb,WAAW,CAACS,KAAD,CAAX,CAAmBK,qBAAnC;AACA,cAAMC,KAAK,GAAGf,WAAW,CAACS,KAAD,CAAX,CAAmBO,QAAjC;AACA,cAAMC,OAAO,GAAGjB,WAAW,CAACS,KAAD,CAAX,CAAmBS,MAAnC;AAEA,cAAMC,OAAO,CAACC,GAAR,CAAY,CAACnB,kBAAkB,CAACY,OAAD,EAAUF,UAAV,EAAsBI,KAAtB,CAAnB,EAAiDb,eAAe,CAACW,OAAD,EAAUF,UAAV,EAAsBI,KAAtB,CAAhE,CAAZ,CAAN;AACA,cAAMM,GAAG,CAACJ,OAAD,EAAUV,cAAV,CAAT;AACD;AACF,KAXH,CAWI,OAAOe,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACN,GAfD;;AAiBA,QAAMD,GAAG,GAAG,CAACI,UAAD,EAAaC,cAAb,KAAgC;AACxC,UAAMC,YAAY,GAAGxB,iBAAiB,CAAC,CAAD,CAAjB,CAAqByB,OAA1C;AACA,UAAMC,KAAK,GAAG1B,iBAAiB,CAAC,CAAD,CAAjB,CAAqB2B,KAAnC;AACA,UAAMC,QAAQ,GAAG5B,iBAAiB,CAAC,CAAD,CAAjB,CAAqB6B,QAAtC;AAEA,QAAIC,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACAD,IAAAA,GAAG,CAACE,GAAJ,GAAUpC,IAAV;AAEA,UAAMsB,GAAG,GAAG,IAAIvB,KAAJ,CAAU,GAAV,EAAe,IAAf,EAAqB,QAArB,CAAZ,CARwC,CAUxC;;AACJ,UAAMsC,SAAS,GAAGf,GAAG,CAACgB,QAAJ,CAAaC,gBAAb,EAAlB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIH,SAArB,EAAgCG,CAAC,EAAjC,EAAqC;AACnClB,MAAAA,GAAG,CAACmB,OAAJ,CAAYD,CAAZ;AAGFlB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,EAAhB,EAJqC,CAIlB;;AACnBpB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAkB,4CAAlB;AACArB,MAAAA,GAAG,CAACsB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAkB,GAAlB,EAAuB,EAAvB,EANqC,CAMV;;AAC3BtB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAkB,wBAAlB;AACArB,MAAAA,GAAG,CAACuB,WAAJ,CAAgB,GAAhB,EAAqB,EAArB,EAAyB,GAAzB,EAA8B,EAA9B,EAAkC,CAAlC,EAAqC,CAArC;AACAvB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAmB,YAAWjB,UAAW,EAAzC;AACAJ,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAmB,YAAWtC,WAAW,CAAC,CAAD,CAAX,CAAeyC,KAAM,EAAnD;AACAxB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAmB,UAAS7C,MAAM,GAAGiD,MAAT,CAAgB,GAAhB,CAAqB,EAAjD;AACAzB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAkBf,YAAlB;AACAN,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAmB,UAASX,QAAS,IAAGF,KAAM,EAA9C;AACAR,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,EAAd,EAAmB,YAAWhB,cAAe,EAA7C;AACAL,MAAAA,GAAG,CAAC0B,QAAJ,CAAad,GAAb,EAAkB,KAAlB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC;AAGEZ,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB,EAzBmC,CAyBjB;;AAClBpB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,EAAT,EAAa,GAAb,EAAkB,qCAAlB;AACArB,MAAAA,GAAG,CAAC2B,YAAJ,CAAiB,GAAjB;AACA3B,MAAAA,GAAG,CAACsB,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB;AACAtB,MAAAA,GAAG,CAACoB,WAAJ,CAAgB,CAAhB;AACApB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,GAAT,EAAc,GAAd,EAAmB,eAAnB;AACArB,MAAAA,GAAG,CAACqB,IAAJ,CAAS,EAAT,EAAa,GAAb,EAAkB,WAAWO,MAAM,CAACV,CAAD,CAAjB,GAAuB,MAAvB,GAAgCU,MAAM,CAACb,SAAD,CAAxD,EAAqE,IAArE,EAA2E,IAA3E,EAAiF,IAAjF,EAAuF,IAAvF,EAA6F,OAA7F;AACD;;AACDf,IAAAA,GAAG,CAAC6B,IAAJ,CAASzB,UAAU,GAAG,MAAtB;AAEC,GA/CD;;AAiDA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,0BAAf;AAA0C,IAAA,KAAK,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAKH,CAzEM","sourcesContent":["import React from 'react';\r\nimport {Buttons} from '../button/button';\r\nimport moment from 'moment';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport Itsr from '../../../../img/Logo-Tec.png';\r\nimport {dataMateria} from '../../../../../home';\r\nimport {getReporteHorarios, getReporteLista,dataReportHorario,dataPeriodo} from '../../../../servicios/api';\r\n\r\n\r\nexport const ReportParciales = () => {\r\n\r\n    const infPdf = async () => {\r\n        try {\r\n            const DOCENTE_ACTUAL = dataMateria[0].nameDocente;\r\n            for (let index = 0; index < dataMateria.length; index++) {\r\n              const ID_MATERIA = dataMateria[index].idMateria;\r\n              const PERIODO = dataMateria[index].idnomenclaturaPeriodo;\r\n              const GRUPO = dataMateria[index].idGrupos;\r\n              const Materia = dataMateria[index].nombre;\r\n      \r\n              await Promise.all([getReporteHorarios(PERIODO, ID_MATERIA, GRUPO), getReporteLista(PERIODO, ID_MATERIA, GRUPO)])\r\n              await pdf(Materia, DOCENTE_ACTUAL)\r\n            }\r\n          } catch (error) {\r\n            console.log(error)\r\n          }\r\n    }\r\n\r\n    const pdf = (nomMateria, docente_actual) => {\r\n        const Horas_clases = dataReportHorario[0].semanas;\r\n        const Grupo = dataReportHorario[0].grupo;\r\n        const Semestre = dataReportHorario[0].semestre;\r\n\r\n        var img = new Image();\r\n        img.src = Itsr;\r\n\r\n        const pdf = new jsPDF('p', 'pt', 'letter')\r\n\r\n        //piede paginas\r\n    const pageCount = pdf.internal.getNumberOfPages();\r\n    for (var i = 1; i <= pageCount; i++) {\r\n      pdf.setPage(i);\r\n\r\n\r\n    pdf.setFontSize(14)//encabezado\r\n    pdf.text(130, 15, 'INSTITUTO TECNOLÓGICO SUPERIOR DE LOS RÍOS')\r\n    pdf.line(100, 17, 500, 17) // horizontal line\r\n    pdf.setFontSize(8)\r\n    pdf.text(262, 26, \"PRELISTA CON PARCIALES\");\r\n    pdf.roundedRect(102, 45, 400, 12, 3, 3)\r\n    pdf.setFontSize(8)\r\n    pdf.text(100, 40, `MATERIA: ${nomMateria}`);\r\n    pdf.setFontSize(8)\r\n    pdf.text(500, 31, `PERIODO: ${dataPeriodo[0].rango}`);\r\n    pdf.setFontSize(8)\r\n    pdf.text(500, 40, `FECHA: ${moment().format('L')}`);\r\n    pdf.setFontSize(7)\r\n    pdf.text(122, 54, Horas_clases);\r\n    pdf.setFontSize(8)\r\n    pdf.text(500, 66, `GRUPO: ${Semestre} ${Grupo}`);\r\n    pdf.setFontSize(8)\r\n    pdf.text(100, 66, `DOCENTE: ${docente_actual}`);\r\n    pdf.addImage(img, 'PNG', 13, 10, 63, 63)\r\n\r\n\r\n      pdf.setFontSize(7)//pie de pagina\r\n      pdf.text(20, 760, \"C (Curso, R:Repetición, E:Especial)\");\r\n      pdf.setLineWidth(1.6)\r\n      pdf.line(390, 760, 500, 760)\r\n      pdf.setFontSize(7)\r\n      pdf.text(413, 767, \"FIRMA DOCENTE\");\r\n      pdf.text(20, 770, 'Pagina' + String(i) + ' de ' + String(pageCount), null, null, null, null, \"right\");\r\n    }\r\n    pdf.save(nomMateria + '.pdf');\r\n\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Buttons texto=\"Calificaciones Parciales\" color=\"primary\"/>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}