{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\home.js\";\nimport React, { Component, Suspense } from 'react';\nimport Usuarios from './componentes/menu_usuarios/usuarios';\nimport PageError from './componentes/404';\nimport { materiasD, getPeriodo } from './componentes/servicios/api';\nimport Loader from './login/cargaDedatos';\nimport AuthService from './componentes/servicios/AuthService';\nexport var dataMateria = null,\n    ID_USUARIO = 0;\nexport var caches, bandera, perio;\nexport const resetear = () => {\n  console.log('ELIMINAR TODOS LOD DATOS TEMPORALES');\n  caches = null;\n  dataMateria = null;\n};\n\nfunction CargadeDatos(data) {\n  let roles = data.data[0].nombreRol;\n  ID_USUARIO = data.data[0].usuarioID; //validar la ruta\n\n  if (roles === 'Administrador') {\n    //inicio\n    console.log('Administrador');\n\n    if (!caches) {\n      throw getPeriodo().then(res => {\n        if (res === 'error') {\n          perio = true;\n          caches = res;\n        } else if (res === 'not') {\n          perio = false;\n          caches = true;\n        } else {\n          caches = res;\n          perio = false;\n        }\n      }).catch(perio = true);\n    } //fint\n\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, perio ? React.createElement(PageError, {\n      onAuthChange: data.onAuthChange,\n      onGenerar: data.logout,\n      resetear: resetear,\n      informacion: \"Informacion no disponible \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }) : React.createElement(Usuarios, {\n      onAuthChange: data.onAuthChange,\n      resetear: resetear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }));\n  } else if (roles === 'Docente') {\n    //inicio\n    console.log('Docente Docente Docente');\n\n    if (!caches) {\n      throw getPeriodo().then(res => {\n        console.log(res);\n\n        if (res === 'error') {\n          perio = true;\n          caches = res;\n        } else if (res === 'not') {\n          dataMateria = 'error';\n          caches = res;\n        } else {\n          caches = res;\n          bandera = caches;\n        }\n      }).catch(dataMateria = 'error');\n    }\n\n    if (bandera) {\n      throw materiasD().then(data => {\n        dataMateria = data;\n        bandera = null;\n      }).catch(dataMateria = 'error');\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, perio ? React.createElement(PageError, {\n      onAuthChange: data.onAuthChange,\n      onGenerar: data.logout,\n      resetear: resetear,\n      informacion: \"Informacion no disponible \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }) : dataMateria === 'error' ? React.createElement(PageError, {\n      onAuthChange: data.onAuthChange,\n      onGenerar: data.logout,\n      resetear: resetear,\n      informacion: \"No cuenta con materias asignadas en el actual periodo \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }) : React.createElement(Usuarios, {\n      onAuthChange: data.onAuthChange,\n      resetear: resetear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }));\n  } //fin\n\n  /*return (\r\n     <div>\r\n       {dataMateria === 'error' ? <h1>API 404 o Actualmente no cuenta con materias asisgnada...</h1> : <Usuarios />}\r\n     </div>\r\n   );*/\n\n}\n\nexport const dataMaterias = async () => {\n  dataMateria = await materiasD();\n}; //export var fecha1 = '2020-02-27', fecha2 = '2020-03-27', fecha3 = '2020-04-27';\n\nclass Home extends Component {\n  constructor(props) {\n    super();\n    this.AuthService = new AuthService();\n    this.logout = this.logout.bind(this);\n    this.state = {};\n  }\n\n  render() {\n    const n = this.AuthService.getUser();\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Suspense, {\n      fallback: React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(CargadeDatos, {\n      data: n,\n      onAuthChange: this.props.onAuthChange,\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })));\n  }\n\n  logout() {\n    this.AuthService.logout();\n    this.props.onAuthChange();\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/home.js"],"names":["React","Component","Suspense","Usuarios","PageError","materiasD","getPeriodo","Loader","AuthService","dataMateria","ID_USUARIO","caches","bandera","perio","resetear","console","log","CargadeDatos","data","roles","nombreRol","usuarioID","then","res","catch","onAuthChange","logout","dataMaterias","Home","constructor","props","bind","state","render","n","getUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,sCAArB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,6BAAtC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAO,IAAIC,WAAW,GAAG,IAAlB;AAAA,IACNC,UAAU,GAAG,CADP;AAEP,OAAO,IAAIC,MAAJ,EAAYC,OAAZ,EAAqBC,KAArB;AAEP,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACAL,EAAAA,MAAM,GAAG,IAAT;AACAF,EAAAA,WAAW,GAAG,IAAd;AACA,CAJM;;AAMP,SAASQ,YAAT,CAAsBC,IAAtB,EAA4B;AAC3B,MAAIC,KAAK,GAAGD,IAAI,CAACA,IAAL,CAAU,CAAV,EAAaE,SAAzB;AACAV,EAAAA,UAAU,GAAGQ,IAAI,CAACA,IAAL,CAAU,CAAV,EAAaG,SAA1B,CAF2B,CAG3B;;AACA,MAAIF,KAAK,KAAK,eAAd,EAA+B;AAC9B;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;;AACA,QAAI,CAACL,MAAL,EAAa;AACZ,YAAML,UAAU,GACdgB,IADI,CACEC,GAAD,IAAS;AACd,YAAIA,GAAG,KAAK,OAAZ,EAAqB;AACpBV,UAAAA,KAAK,GAAG,IAAR;AACAF,UAAAA,MAAM,GAAGY,GAAT;AACA,SAHD,MAGO,IAAIA,GAAG,KAAK,KAAZ,EAAmB;AACzBV,UAAAA,KAAK,GAAG,KAAR;AACAF,UAAAA,MAAM,GAAG,IAAT;AACA,SAHM,MAGA;AACNA,UAAAA,MAAM,GAAGY,GAAT;AACAV,UAAAA,KAAK,GAAG,KAAR;AACA;AACD,OAZI,EAaJW,KAbI,CAaGX,KAAK,GAAG,IAbX,CAAN;AAcA,KAlB6B,CAmB9B;;;AAEA,WACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEA,KAAK,GACL,oBAAC,SAAD;AACC,MAAA,YAAY,EAAEK,IAAI,CAACO,YADpB;AAEC,MAAA,SAAS,EAAEP,IAAI,CAACQ,MAFjB;AAGC,MAAA,QAAQ,EAAEZ,QAHX;AAIC,MAAA,WAAW,EAAC,4BAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADK,GAQL,oBAAC,QAAD;AAAU,MAAA,YAAY,EAAEI,IAAI,CAACO,YAA7B;AAA2C,MAAA,QAAQ,EAAEX,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADD;AAcA,GAnCD,MAmCO,IAAIK,KAAK,KAAK,SAAd,EAAyB;AAC/B;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;;AACA,QAAI,CAACL,MAAL,EAAa;AACZ,YAAML,UAAU,GACdgB,IADI,CACEC,GAAD,IAAS;AACdR,QAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;;AACA,YAAIA,GAAG,KAAK,OAAZ,EAAqB;AACpBV,UAAAA,KAAK,GAAG,IAAR;AACAF,UAAAA,MAAM,GAAGY,GAAT;AACA,SAHD,MAGO,IAAIA,GAAG,KAAK,KAAZ,EAAmB;AACzBd,UAAAA,WAAW,GAAG,OAAd;AACAE,UAAAA,MAAM,GAAGY,GAAT;AACA,SAHM,MAGA;AACNZ,UAAAA,MAAM,GAAGY,GAAT;AACAX,UAAAA,OAAO,GAAGD,MAAV;AACA;AACD,OAbI,EAcJa,KAdI,CAcGf,WAAW,GAAG,OAdjB,CAAN;AAeA;;AAED,QAAIG,OAAJ,EAAa;AACZ,YAAMP,SAAS,GACbiB,IADI,CACEJ,IAAD,IAAU;AACfT,QAAAA,WAAW,GAAGS,IAAd;AACAN,QAAAA,OAAO,GAAG,IAAV;AACA,OAJI,EAKJY,KALI,CAKGf,WAAW,GAAG,OALjB,CAAN;AAMA;;AAED,WACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEI,KAAK,GACL,oBAAC,SAAD;AACC,MAAA,YAAY,EAAEK,IAAI,CAACO,YADpB;AAEC,MAAA,SAAS,EAAEP,IAAI,CAACQ,MAFjB;AAGC,MAAA,QAAQ,EAAEZ,QAHX;AAIC,MAAA,WAAW,EAAC,4BAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADK,GAOFL,WAAW,KAAK,OAAhB,GACH,oBAAC,SAAD;AACC,MAAA,YAAY,EAAES,IAAI,CAACO,YADpB;AAEC,MAAA,SAAS,EAAEP,IAAI,CAACQ,MAFjB;AAGC,MAAA,QAAQ,EAAEZ,QAHX;AAIC,MAAA,WAAW,EAAC,wDAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADG,GAQH,oBAAC,QAAD;AAAU,MAAA,YAAY,EAAEI,IAAI,CAACO,YAA7B;AAA2C,MAAA,QAAQ,EAAEX,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,CADD;AAqBA,GA1F0B,CA0FzB;;AAEF;;;;;;AAMA;;AAED,OAAO,MAAMa,YAAY,GAAG,YAAY;AACvClB,EAAAA,WAAW,GAAG,MAAMJ,SAAS,EAA7B;AACA,CAFM,C,CAIP;;AAEA,MAAMuB,IAAN,SAAmB3B,SAAnB,CAA6B;AAC5B4B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB;AACA,SAAKtB,WAAL,GAAmB,IAAIA,WAAJ,EAAnB;AACA,SAAKkB,MAAL,GAAc,KAAKA,MAAL,CAAYK,IAAZ,CAAiB,IAAjB,CAAd;AAEA,SAAKC,KAAL,GAAa,EAAb;AACA;;AAEDC,EAAAA,MAAM,GAAG;AACR,UAAMC,CAAC,GAAG,KAAK1B,WAAL,CAAiB2B,OAAjB,EAAV;AACA,WACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAED,CAApB;AAAuB,MAAA,YAAY,EAAE,KAAKJ,KAAL,CAAWL,YAAhD;AAA8D,MAAA,MAAM,EAAE,KAAKC,MAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,CADD;AAOA;;AACDA,EAAAA,MAAM,GAAG;AACR,SAAKlB,WAAL,CAAiBkB,MAAjB;AACA,SAAKI,KAAL,CAAWL,YAAX;AACA;;AAtB2B;;AAyB7B,eAAeG,IAAf","sourcesContent":["import React, { Component, Suspense } from 'react';\r\nimport Usuarios from './componentes/menu_usuarios/usuarios';\r\nimport PageError from './componentes/404';\r\nimport { materiasD, getPeriodo } from './componentes/servicios/api';\r\nimport Loader from './login/cargaDedatos';\r\nimport AuthService from './componentes/servicios/AuthService';\r\nexport var dataMateria = null,\r\n\tID_USUARIO = 0;\r\nexport var caches, bandera, perio;\r\n\r\nexport const resetear = () => {\r\n\tconsole.log('ELIMINAR TODOS LOD DATOS TEMPORALES');\r\n\tcaches = null;\r\n\tdataMateria = null;\r\n};\r\n\r\nfunction CargadeDatos(data) {\r\n\tlet roles = data.data[0].nombreRol;\r\n\tID_USUARIO = data.data[0].usuarioID;\r\n\t//validar la ruta\r\n\tif (roles === 'Administrador') {\r\n\t\t//inicio\r\n\t\tconsole.log('Administrador');\r\n\t\tif (!caches) {\r\n\t\t\tthrow getPeriodo()\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res === 'error') {\r\n\t\t\t\t\t\tperio = true;\r\n\t\t\t\t\t\tcaches = res;\r\n\t\t\t\t\t} else if (res === 'not') {\r\n\t\t\t\t\t\tperio = false;\r\n\t\t\t\t\t\tcaches = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcaches = res;\r\n\t\t\t\t\t\tperio = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((perio = true));\r\n\t\t}\r\n\t\t//fint\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{perio ? (\r\n\t\t\t\t\t<PageError\r\n\t\t\t\t\t\tonAuthChange={data.onAuthChange}\r\n\t\t\t\t\t\tonGenerar={data.logout}\r\n\t\t\t\t\t\tresetear={resetear}\r\n\t\t\t\t\t\tinformacion=\"Informacion no disponible \"\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Usuarios onAuthChange={data.onAuthChange} resetear={resetear} />\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t} else if (roles === 'Docente') {\r\n\t\t//inicio\r\n\t\tconsole.log('Docente Docente Docente');\r\n\t\tif (!caches) {\r\n\t\t\tthrow getPeriodo()\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tif (res === 'error') {\r\n\t\t\t\t\t\tperio = true;\r\n\t\t\t\t\t\tcaches = res;\r\n\t\t\t\t\t} else if (res === 'not') {\r\n\t\t\t\t\t\tdataMateria = 'error';\r\n\t\t\t\t\t\tcaches = res;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcaches = res;\r\n\t\t\t\t\t\tbandera = caches;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((dataMateria = 'error'));\r\n\t\t}\r\n\r\n\t\tif (bandera) {\r\n\t\t\tthrow materiasD()\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tdataMateria = data;\r\n\t\t\t\t\tbandera = null;\r\n\t\t\t\t})\r\n\t\t\t\t.catch((dataMateria = 'error'));\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{perio ? (\r\n\t\t\t\t\t<PageError\r\n\t\t\t\t\t\tonAuthChange={data.onAuthChange}\r\n\t\t\t\t\t\tonGenerar={data.logout}\r\n\t\t\t\t\t\tresetear={resetear}\r\n\t\t\t\t\t\tinformacion=\"Informacion no disponible \"\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : dataMateria === 'error' ? (\r\n\t\t\t\t\t<PageError\r\n\t\t\t\t\t\tonAuthChange={data.onAuthChange}\r\n\t\t\t\t\t\tonGenerar={data.logout}\r\n\t\t\t\t\t\tresetear={resetear}\r\n\t\t\t\t\t\tinformacion=\"No cuenta con materias asignadas en el actual periodo \"\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Usuarios onAuthChange={data.onAuthChange} resetear={resetear} />\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t} //fin\r\n\r\n\t/*return (\r\n    <div>\r\n      {dataMateria === 'error' ? <h1>API 404 o Actualmente no cuenta con materias asisgnada...</h1> : <Usuarios />}\r\n    </div>\r\n  );*/\r\n\r\n}\r\n\r\nexport const dataMaterias = async () => {\r\n\tdataMateria = await materiasD();\r\n};\r\n\r\n//export var fecha1 = '2020-02-27', fecha2 = '2020-03-27', fecha3 = '2020-04-27';\r\n\r\nclass Home extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper();\r\n\t\tthis.AuthService = new AuthService();\r\n\t\tthis.logout = this.logout.bind(this);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst n = this.AuthService.getUser();\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Suspense fallback={<Loader />}>\r\n\t\t\t\t\t<CargadeDatos data={n} onAuthChange={this.props.onAuthChange} logout={this.logout} />\r\n\t\t\t\t</Suspense>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\tlogout() {\r\n\t\tthis.AuthService.logout();\r\n\t\tthis.props.onAuthChange();\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}