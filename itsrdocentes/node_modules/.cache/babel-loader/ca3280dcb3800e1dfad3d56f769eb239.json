{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\administrador\\\\acta_entregas.js\";\nimport 'date-fns';\nimport React, { useEffect } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport moment from 'moment';\nimport Lista_Periodos from './selectPeriodos';\nimport Editar from './btnEditar';\nimport Status from './status';\nimport { Btn_evaluar } from './funciones';\nimport { useStyles } from './styles';\nimport { EXISTNCIA_ACTA, getPeriodo, dataPeriodo, getStatusPeriodo, getAdmiFechas, dataFechasCierre } from '../servicios/api';\nimport { FechaDate } from './dates';\n\nconst Entregas = () => {\n  const classes = useStyles();\n  const fecha_Defaul = moment(new Date()).format('YYYY-MM-DD, h:mm:ss a');\n  const [entrega1, setEntrega1] = React.useState(fecha_Defaul);\n  const [entrega2, setEntrega2] = React.useState(fecha_Defaul);\n  const [entrega3, setEntrega3] = React.useState(fecha_Defaul);\n  const [entregaFinal, setFinal] = React.useState(fecha_Defaul);\n  const [periodos, setPeriodos] = React.useState(fecha_Defaul);\n  const [recargar, setRecargar] = React.useState(false);\n  const [status, setStatus] = React.useState(false);\n  const [save, setSave] = React.useState(false);\n  const [isperiodo, setIsperiodo] = React.useState(false);\n  const [PERIODO, setPeriodo] = React.useState(false);\n  /*useEffect(() => {\r\n  \tasync function statusDate() {\r\n  \t\tif (EXISTNCIA_ACTA) {\r\n  \t\t\tsetStatus(true);\r\n  \t\t\tif(dataFechasCierre.length === 0){\r\n  \t\t\t\tawait getAdmiFechas()\r\n  \t\t\t}\r\n  \t\tsetEntrega1(dataFechasCierre[0].primera_entrega)\r\n  \t\tsetEntrega2(dataFechasCierre[0].segunda_entrega)\r\n  \t\tsetEntrega3(dataFechasCierre[0].tercera_entrega)\r\n  \t\tsetFinal(dataFechasCierre[0].entrega_final)\r\n  \t\tconsole.log(dataFechasCierre)\r\n  \t\t}\r\n  \t}\r\n  \tasync function getPeri() {\r\n  \t\ttry {\r\n  \t\t\tawait getPeriodo();\r\n  \t\t\tsetPeriodo(dataPeriodo[0].rango);\r\n  \t\t} catch (error) {\r\n  \t\t\tsetStatus(true);\r\n  \t\t\tconsole.log(error);\r\n  \t\t}\r\n  \t}\r\n  \n  \tstatusDate();\r\n  \tgetPeri();\r\n  }, [recargar]);*/\n\n  useEffect(() => {\n    async function actualizar() {\n      let RANGO_PERIODO = await getStatusPeriodo();\n      console.log(RANGO_PERIODO);\n    }\n\n    actualizar();\n    console.log('actualizar pantalla');\n  }, [recargar]);\n\n  const buscar_cierre_de_acta = async evt => {\n    await getAdmiFechas(evt);\n    setPeriodos(evt);\n    console.log(dataFechasCierre);\n\n    if (dataFechasCierre.length) {\n      setStatus(true);\n      setSave(false);\n      setEntrega1(dataFechasCierre[0].primera_entrega);\n      setEntrega2(dataFechasCierre[0].segunda_entrega);\n      setEntrega3(dataFechasCierre[0].tercera_entrega);\n      setFinal(dataFechasCierre[0].entrega_final);\n      setIsperiodo(dataFechasCierre[0].status === 0 ? false : true);\n    } else {\n      setStatus(false);\n      setSave(true);\n      console.log('habilitar el mensaje de no hay fechas registre fechas nuevas');\n    }\n\n    console.log('dataFechasCierre..');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"CALENDARIO DE ENTREGA DE CALIFICACIONES\"), React.createElement(\"h4\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"PERIODO:\", PERIODO ? PERIODO : 'NO DISPONIBLE'), React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Card, {\n    elevation: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega1,\n    status: status,\n    onGuardar: date => setEntrega1(date),\n    info: \"Primera entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega2,\n    status: status,\n    onGuardar: date => setEntrega2(date),\n    info: \"Segunda entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entrega3,\n    status: status,\n    onGuardar: date => setEntrega3(date),\n    info: \"Tercera entrega\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(FechaDate, {\n    entrega: entregaFinal,\n    status: status,\n    onGuardar: date => setFinal(date),\n    info: \"Entrega Final\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(Btn_evaluar, {\n    setRecargar: setRecargar,\n    primera: entrega1,\n    segunda: entrega2,\n    tercera: entrega3,\n    final: entregaFinal,\n    periodo: periodos,\n    status: isperiodo ? '1' : '0',\n    isDisable: save,\n    isdisabled: status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(Lista_Periodos, {\n    onBuscar: buscar_cierre_de_acta,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), React.createElement(Editar, {\n    disabled: !status,\n    isDisable: setStatus,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), React.createElement(Status, {\n    isPeriodo: setIsperiodo,\n    isperiodo: isperiodo,\n    isdisabled: status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }))))))));\n};\n\nexport default Entregas;","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/administrador/acta_entregas.js"],"names":["React","useEffect","CssBaseline","Container","Card","Paper","Grid","moment","Lista_Periodos","Editar","Status","Btn_evaluar","useStyles","EXISTNCIA_ACTA","getPeriodo","dataPeriodo","getStatusPeriodo","getAdmiFechas","dataFechasCierre","FechaDate","Entregas","classes","fecha_Defaul","Date","format","entrega1","setEntrega1","useState","entrega2","setEntrega2","entrega3","setEntrega3","entregaFinal","setFinal","periodos","setPeriodos","recargar","setRecargar","status","setStatus","save","setSave","isperiodo","setIsperiodo","PERIODO","setPeriodo","actualizar","RANGO_PERIODO","console","log","buscar_cierre_de_acta","evt","length","primera_entrega","segunda_entrega","tercera_entrega","entrega_final","textAlign","root","paper","date"],"mappings":"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","sourcesContent":["import 'date-fns';\r\nimport React, { useEffect } from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport moment from 'moment';\r\nimport Lista_Periodos from './selectPeriodos';\r\nimport Editar from './btnEditar';\r\nimport Status from './status';\r\nimport { Btn_evaluar } from './funciones';\r\nimport { useStyles } from './styles';\r\nimport {\r\n\tEXISTNCIA_ACTA,\r\n\tgetPeriodo,\r\n\tdataPeriodo,\r\n\tgetStatusPeriodo,\r\n\tgetAdmiFechas,\r\n\tdataFechasCierre\r\n} from '../servicios/api';\r\nimport { FechaDate } from './dates';\r\n\r\nconst Entregas = () => {\r\n\tconst classes = useStyles();\r\n\tconst fecha_Defaul = moment(new Date()).format('YYYY-MM-DD, h:mm:ss a');\r\n\tconst [ entrega1, setEntrega1 ] = React.useState(fecha_Defaul);\r\n\tconst [ entrega2, setEntrega2 ] = React.useState(fecha_Defaul);\r\n\tconst [ entrega3, setEntrega3 ] = React.useState(fecha_Defaul);\r\n\tconst [ entregaFinal, setFinal ] = React.useState(fecha_Defaul);\r\n\tconst [ periodos, setPeriodos ] = React.useState(fecha_Defaul);\r\n\r\n\tconst [ recargar, setRecargar ] = React.useState(false);\r\n\tconst [ status, setStatus ] = React.useState(false);\r\n\tconst [ save, setSave ] = React.useState(false);\r\n\tconst [ isperiodo, setIsperiodo ] = React.useState(false);\r\n\r\n\tconst [ PERIODO, setPeriodo ] = React.useState(false);\r\n\r\n\t/*useEffect(() => {\r\n\t\tasync function statusDate() {\r\n\t\t\tif (EXISTNCIA_ACTA) {\r\n\t\t\t\tsetStatus(true);\r\n\t\t\t\tif(dataFechasCierre.length === 0){\r\n\t\t\t\t\tawait getAdmiFechas()\r\n\t\t\t\t}\r\n\t\t\tsetEntrega1(dataFechasCierre[0].primera_entrega)\r\n\t\t\tsetEntrega2(dataFechasCierre[0].segunda_entrega)\r\n\t\t\tsetEntrega3(dataFechasCierre[0].tercera_entrega)\r\n\t\t\tsetFinal(dataFechasCierre[0].entrega_final)\r\n\t\t\tconsole.log(dataFechasCierre)\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function getPeri() {\r\n\t\t\ttry {\r\n\t\t\t\tawait getPeriodo();\r\n\t\t\t\tsetPeriodo(dataPeriodo[0].rango);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetStatus(true);\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatusDate();\r\n\t\tgetPeri();\r\n\t}, [recargar]);*/\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function actualizar() {\r\n\t\t\tlet RANGO_PERIODO = await getStatusPeriodo();\r\n\t\t\tconsole.log(RANGO_PERIODO)\r\n\t\t\t}\r\n\r\n\t\t\tactualizar();\r\n\r\n\t\t\tconsole.log('actualizar pantalla');\r\n\t\t},\r\n\t\t[ recargar ]\r\n\t);\r\n\r\n\tconst buscar_cierre_de_acta = async (evt) => {\r\n\t\tawait getAdmiFechas(evt);\r\n\t\tsetPeriodos(evt);\r\n\t\tconsole.log(dataFechasCierre);\r\n\t\tif (dataFechasCierre.length) {\r\n\t\t\tsetStatus(true);\r\n\t\t\tsetSave(false);\r\n\t\t\tsetEntrega1(dataFechasCierre[0].primera_entrega);\r\n\t\t\tsetEntrega2(dataFechasCierre[0].segunda_entrega);\r\n\t\t\tsetEntrega3(dataFechasCierre[0].tercera_entrega);\r\n\t\t\tsetFinal(dataFechasCierre[0].entrega_final);\r\n\t\t\tsetIsperiodo(dataFechasCierre[0].status === 0 ? false : true);\r\n\t\t} else {\r\n\t\t\tsetStatus(false);\r\n\t\t\tsetSave(true);\r\n\t\t\tconsole.log('habilitar el mensaje de no hay fechas registre fechas nuevas');\r\n\t\t}\r\n\r\n\t\tconsole.log('dataFechasCierre..');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3 style={{ textAlign: 'center' }}>CALENDARIO DE ENTREGA DE CALIFICACIONES</h3>\r\n\t\t\t<h4 style={{ textAlign: 'center' }}>PERIODO:{PERIODO ? PERIODO : 'NO DISPONIBLE'}</h4>\r\n\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Card elevation={3}>\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t<Grid container spacing={5}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega1}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega1(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Primera entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega2}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega2(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Segunda entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entrega3}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setEntrega3(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Tercera entrega\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<FechaDate\r\n\t\t\t\t\t\t\t\t\t\tentrega={entregaFinal}\r\n\t\t\t\t\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\t\t\t\t\tonGuardar={(date) => setFinal(date)}\r\n\t\t\t\t\t\t\t\t\t\tinfo=\"Entrega Final\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Btn_evaluar\r\n\t\t\t\t\t\t\t\t\t\tsetRecargar={setRecargar}\r\n\t\t\t\t\t\t\t\t\t\tprimera={entrega1}\r\n\t\t\t\t\t\t\t\t\t\tsegunda={entrega2}\r\n\t\t\t\t\t\t\t\t\t\ttercera={entrega3}\r\n\t\t\t\t\t\t\t\t\t\tfinal={entregaFinal}\r\n\t\t\t\t\t\t\t\t\t\tperiodo={periodos}\r\n\t\t\t\t\t\t\t\t\t\tstatus={isperiodo ? '1' : '0'}\r\n\t\t\t\t\t\t\t\t\t\tisDisable={save}\r\n\t\t\t\t\t\t\t\t\t\tisdisabled={status}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} elevation={0}>\r\n\t\t\t\t\t\t\t\t\t<Lista_Periodos onBuscar={buscar_cierre_de_acta} />\r\n\t\t\t\t\t\t\t\t\t<Editar disabled={!status} isDisable={setStatus} />\r\n\t\t\t\t\t\t\t\t\t<Status isPeriodo={setIsperiodo} isperiodo={isperiodo} isdisabled={status} />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default Entregas;\r\n"]},"metadata":{},"sourceType":"module"}