{"ast":null,"code":"var _jsxFileName = \"E:\\\\Certificados\\\\itsrdocentes\\\\itsrdocentes\\\\src\\\\componentes\\\\administrador\\\\funciones.js\";\nimport React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport moment from 'moment';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport swal from 'sweetalert';\nimport { crearRegistrosfechas, updateRegistrosfechas, restablecerStatus, dataFechasCierre, EXISTNCIA_ACTA, getPeriodo } from '../servicios/api';\nimport { useStyles } from './styles';\nexport const Btn_evaluar = fechas => {\n  console.log(fechas);\n  const classes = useStyles();\n  const [loading, setLoading] = React.useState(false);\n\n  const enviar = async () => {\n    //  if (!EXISTNCIA_ACTA) {\n    if (moment(fechas.segunda).format('YYYY-MM-DD') > moment(fechas.primera).format('YYYY-MM-DD') && moment(fechas.tercera).format('YYYY-MM-DD') > moment(fechas.segunda).format('YYYY-MM-DD') && moment(fechas.final).format('YYYY-MM-DD') > moment(fechas.tercera).format('YYYY-MM-DD')) {\n      setLoading(true);\n\n      if (fechas.isDisable) {\n        console.log('creando fechas');\n        await crearRegistrosfechas(fechas);\n      } else {\n        let STATUS_ACTUAL = dataFechasCierre[0].status;\n        console.log(fechas.status);\n        console.log(STATUS_ACTUAL);\n\n        if (fechas.status != STATUS_ACTUAL) {\n          console.log(\"BORRAR__STATUS__Y__ASIGNAR_NEW\");\n          await restablecerStatus();\n        }\n\n        console.log('actualizando fechas NORMAL');\n        await updateRegistrosfechas(fechas);\n      } //await getPeriodo();\n\n\n      fechas.setRecargar(true);\n      setLoading(false);\n    } else {\n      swal(\"Verifique la cronología de fechas, la segunda entrega no puede ser antes que la primera\", {\n        button: false\n      });\n    }\n    /* } else {\r\n         swal(\"Disponible hasta el siguiente periodo\", {\r\n             button: false,\r\n           });\r\n         \r\n     }*/\n\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, loading), React.createElement(Backdrop, {\n    className: classes.backdrop,\n    open: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(CircularProgress, {\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), React.createElement(Button, {\n    disabled: fechas.isdisabled,\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: enviar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \" Guardar\"));\n};\nexport default {\n  Btn_evaluar\n};","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/src/componentes/administrador/funciones.js"],"names":["React","Backdrop","moment","CircularProgress","Button","swal","crearRegistrosfechas","updateRegistrosfechas","restablecerStatus","dataFechasCierre","EXISTNCIA_ACTA","getPeriodo","useStyles","Btn_evaluar","fechas","console","log","classes","loading","setLoading","useState","enviar","segunda","format","primera","tercera","final","isDisable","STATUS_ACTUAL","status","setRecargar","button","backdrop","isdisabled"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,oBAAT,EAA8BC,qBAA9B,EAAoDC,iBAApD,EAAsEC,gBAAtE,EAAwFC,cAAxF,EAAwGC,UAAxG,QAA0H,kBAA1H;AACA,SAASC,SAAT,QAA0B,UAA1B;AAIA,OAAO,MAAMC,WAAW,GAAIC,MAAD,IAAY;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACI,QAAMG,OAAO,GAAGL,SAAS,EAAzB;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBnB,KAAK,CAACoB,QAAN,CAAe,KAAf,CAA9B;;AAEA,QAAMC,MAAM,GAAG,YAAY;AACzB;AACM,QAAKnB,MAAM,CAACY,MAAM,CAACQ,OAAR,CAAN,CAAuBC,MAAvB,CAA8B,YAA9B,IAA8CrB,MAAM,CAACY,MAAM,CAACU,OAAR,CAAN,CAAuBD,MAAvB,CAA8B,YAA9B,CAA/C,IAAgGrB,MAAM,CAACY,MAAM,CAACW,OAAR,CAAN,CAAuBF,MAAvB,CAA8B,YAA9B,IAA8CrB,MAAM,CAACY,MAAM,CAACQ,OAAR,CAAN,CAAuBC,MAAvB,CAA8B,YAA9B,CAA9I,IAA+LrB,MAAM,CAACY,MAAM,CAACY,KAAR,CAAN,CAAqBH,MAArB,CAA4B,YAA5B,IAA4CrB,MAAM,CAACY,MAAM,CAACW,OAAR,CAAN,CAAuBF,MAAvB,CAA8B,YAA9B,CAA/O,EAA6R;AAEzRJ,MAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,UAAGL,MAAM,CAACa,SAAV,EAAoB;AAChBZ,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,cAAMV,oBAAoB,CAACQ,MAAD,CAA1B;AACH,OAHD,MAGK;AACL,YAAIc,aAAa,GAAGnB,gBAAgB,CAAC,CAAD,CAAhB,CAAoBoB,MAAxC;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACe,MAAnB;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAYY,aAAZ;;AAEI,YAAGd,MAAM,CAACe,MAAP,IAAiBD,aAApB,EAAkC;AAC9Bb,UAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,gBAAMR,iBAAiB,EAAvB;AACH;;AACDO,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AAEA,cAAMT,qBAAqB,CAACO,MAAD,CAA3B;AACH,OAlBwR,CAmBzR;;;AACAA,MAAAA,MAAM,CAACgB,WAAP,CAAmB,IAAnB;AACAX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAtBD,MAsBO;AACHd,MAAAA,IAAI,CAAC,yFAAD,EAA4F;AAC5F0B,QAAAA,MAAM,EAAE;AADoF,OAA5F,CAAJ;AAGH;AACN;;;;;;;AAMF,GAnCD;;AAqCA,SACI,0CAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIb,OAAJ,CAFJ,EAGI,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAED,OAAO,CAACe,QAA7B;AAAuC,IAAA,IAAI,EAAEd,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAC,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHJ,EAMI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEJ,MAAM,CAACmB,UAAzB;AAAqC,IAAA,OAAO,EAAC,UAA7C;AAAwD,IAAA,KAAK,EAAC,SAA9D;AAAwE,IAAA,OAAO,EAAEZ,MAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,CADJ;AAUH,CApDM;AAsDP,eAAe;AAAER,EAAAA;AAAF,CAAf","sourcesContent":["import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport moment from 'moment';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport swal from 'sweetalert';\r\nimport { crearRegistrosfechas,updateRegistrosfechas,restablecerStatus,dataFechasCierre, EXISTNCIA_ACTA, getPeriodo } from '../servicios/api';\r\nimport { useStyles } from './styles';\r\n\r\n\r\n\r\nexport const Btn_evaluar = (fechas) => {\r\nconsole.log(fechas)\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const enviar = async () => {\r\n      //  if (!EXISTNCIA_ACTA) {\r\n            if ((moment(fechas.segunda).format('YYYY-MM-DD') > moment(fechas.primera).format('YYYY-MM-DD')) && (moment(fechas.tercera).format('YYYY-MM-DD') > moment(fechas.segunda).format('YYYY-MM-DD')) && (moment(fechas.final).format('YYYY-MM-DD') > moment(fechas.tercera).format('YYYY-MM-DD'))) {\r\n               \r\n                setLoading(true)\r\n                if(fechas.isDisable){\r\n                    console.log('creando fechas')\r\n                    await crearRegistrosfechas(fechas);\r\n                }else{\r\n                let STATUS_ACTUAL = dataFechasCierre[0].status;\r\n                console.log(fechas.status )\r\n                console.log(STATUS_ACTUAL )\r\n\r\n                    if(fechas.status != STATUS_ACTUAL){\r\n                        console.log(\"BORRAR__STATUS__Y__ASIGNAR_NEW\")\r\n                        await restablecerStatus()\r\n                    }\r\n                    console.log('actualizando fechas NORMAL')\r\n\r\n                    await updateRegistrosfechas(fechas)\r\n                }\r\n                //await getPeriodo();\r\n                fechas.setRecargar(true)\r\n                setLoading(false)\r\n            } else {\r\n                swal(\"Verifique la cronología de fechas, la segunda entrega no puede ser antes que la primera\", {\r\n                    button: false,\r\n                  });\r\n            }\r\n       /* } else {\r\n            swal(\"Disponible hasta el siguiente periodo\", {\r\n                button: false,\r\n              });\r\n            \r\n        }*/\r\n    }\r\n\r\n    return (\r\n        <>\r\n            \r\n            <p>{loading}</p>\r\n            <Backdrop className={classes.backdrop} open={loading} >\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n            <Button disabled={fechas.isdisabled} variant=\"outlined\" color=\"primary\" onClick={enviar} > Guardar</Button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default { Btn_evaluar }\r\n"]},"metadata":{},"sourceType":"module"}