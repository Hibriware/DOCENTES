{"ast":null,"code":"/*!\n * \n *             jsPDF AutoTable plugin v3.3.2\n *             \n *             Copyright (c) 2014 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable\n *             Licensed under the MIT License.\n *             http://opensource.org/licenses/mit-license\n *         \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(function webpackLoadOptionalExternalModule() {\n    try {\n      return require(\"jspdf\");\n    } catch (e) {}\n  }());else if (typeof define === 'function' && define.amd) define([\"jspdf\"], factory);else {\n    var a = typeof exports === 'object' ? factory(function webpackLoadOptionalExternalModule() {\n      try {\n        return require(\"jspdf\");\n      } catch (e) {}\n    }()) : factory(root[\"jsPDF\"]);\n\n    for (var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n  }\n})(this, function (__WEBPACK_EXTERNAL_MODULE__17__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 8);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var defaultsDocument = null;\n      var previousTableState;\n      var tableState = null;\n      exports.globalDefaults = {};\n      exports.documentDefaults = {};\n\n      function default_1() {\n        return tableState;\n      }\n\n      exports.default = default_1;\n\n      function getGlobalOptions() {\n        return exports.globalDefaults;\n      }\n\n      exports.getGlobalOptions = getGlobalOptions;\n\n      function getDocumentOptions() {\n        return exports.documentDefaults;\n      }\n\n      exports.getDocumentOptions = getDocumentOptions;\n\n      var TableState =\n      /** @class */\n      function () {\n        function TableState(doc) {\n          this.doc = doc;\n        }\n\n        TableState.prototype.pageHeight = function () {\n          return this.pageSize().height;\n        };\n\n        TableState.prototype.pageWidth = function () {\n          return this.pageSize().width;\n        };\n\n        TableState.prototype.pageSize = function () {\n          var pageSize = this.doc.internal.pageSize; // JSPDF 1.4 uses get functions instead of properties on pageSize\n\n          if (pageSize.width == null) {\n            pageSize = {\n              width: pageSize.getWidth(),\n              height: pageSize.getHeight()\n            };\n          }\n\n          return pageSize;\n        };\n\n        TableState.prototype.scaleFactor = function () {\n          return this.doc.internal.scaleFactor;\n        };\n\n        TableState.prototype.pageNumber = function () {\n          var pageInfo = this.doc.internal.getCurrentPageInfo();\n\n          if (!pageInfo) {\n            // Only recent versions of jspdf has pageInfo\n            return this.doc.internal.getNumberOfPages();\n          }\n\n          return pageInfo.pageNumber;\n        };\n\n        return TableState;\n      }();\n\n      function setupState(doc) {\n        previousTableState = tableState;\n        tableState = new TableState(doc);\n\n        if (doc !== defaultsDocument) {\n          defaultsDocument = doc;\n          exports.documentDefaults = {};\n        }\n      }\n\n      exports.setupState = setupState;\n\n      function resetState() {\n        tableState = previousTableState;\n      }\n\n      exports.resetState = resetState;\n\n      function setDefaults(defaults, doc) {\n        if (doc === void 0) {\n          doc = null;\n        }\n\n        if (doc) {\n          exports.documentDefaults = defaults || {};\n          defaultsDocument = doc;\n        } else {\n          exports.globalDefaults = defaults || {};\n        }\n      }\n\n      exports.setDefaults = setDefaults;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __spreadArrays = this && this.__spreadArrays || function () {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n        for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n        return r;\n      };\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var config_1 = __webpack_require__(2);\n\n      var state_1 = __webpack_require__(0);\n\n      var polyfills_1 = __webpack_require__(5);\n\n      function getStringWidth(text, styles) {\n        applyStyles(styles);\n        var textArr = Array.isArray(text) ? text : [text];\n        var widestLineWidth = textArr.map(function (text) {\n          return state_1.default().doc.getTextWidth(text);\n        }) // Shave off a few digits for potential improvement in width calculation\n        .map(function (val) {\n          return Math.floor(val * 10000) / 10000;\n        }).reduce(function (a, b) {\n          return Math.max(a, b);\n        }, 0);\n        var fontSize = styles.fontSize / state_1.default().scaleFactor();\n        return widestLineWidth;\n      }\n\n      exports.getStringWidth = getStringWidth;\n      /**\n       * Ellipsize the text to fit in the width\n       */\n\n      function ellipsize(text, width, styles, ellipsizeStr) {\n        if (ellipsizeStr === void 0) {\n          ellipsizeStr = '...';\n        }\n\n        if (Array.isArray(text)) {\n          var value_1 = [];\n          text.forEach(function (str, i) {\n            value_1[i] = ellipsize(str, width, styles, ellipsizeStr);\n          });\n          return value_1;\n        }\n\n        var precision = 10000 * state_1.default().scaleFactor();\n        width = Math.ceil(width * precision) / precision;\n\n        if (width >= getStringWidth(text, styles)) {\n          return text;\n        }\n\n        while (width < getStringWidth(text + ellipsizeStr, styles)) {\n          if (text.length <= 1) {\n            break;\n          }\n\n          text = text.substring(0, text.length - 1);\n        }\n\n        return text.trim() + ellipsizeStr;\n      }\n\n      exports.ellipsize = ellipsize;\n\n      function addTableBorder() {\n        var table = state_1.default().table;\n        var styles = {\n          lineWidth: table.settings.tableLineWidth,\n          lineColor: table.settings.tableLineColor\n        };\n        applyStyles(styles);\n        var fs = getFillStyle(styles);\n\n        if (fs) {\n          state_1.default().doc.rect(table.pageStartX, table.pageStartY, table.width, table.cursor.y - table.pageStartY, fs);\n        }\n      }\n\n      exports.addTableBorder = addTableBorder;\n\n      function getFillStyle(styles) {\n        var drawLine = styles.lineWidth > 0;\n        var drawBackground = styles.fillColor || styles.fillColor === 0;\n\n        if (drawLine && drawBackground) {\n          return 'DF'; // Fill then stroke\n        } else if (drawLine) {\n          return 'S'; // Only stroke (transparent background)\n        } else if (drawBackground) {\n          return 'F'; // Only fill, no stroke\n        } else {\n          return false;\n        }\n      }\n\n      exports.getFillStyle = getFillStyle;\n\n      function applyUserStyles() {\n        applyStyles(state_1.default().table.userStyles);\n      }\n\n      exports.applyUserStyles = applyUserStyles;\n\n      function applyStyles(styles) {\n        var doc = state_1.default().doc;\n        var styleModifiers = {\n          fillColor: doc.setFillColor,\n          textColor: doc.setTextColor,\n          fontStyle: doc.setFontStyle,\n          lineColor: doc.setDrawColor,\n          lineWidth: doc.setLineWidth,\n          font: doc.setFont,\n          fontSize: doc.setFontSize\n        };\n        Object.keys(styleModifiers).forEach(function (name) {\n          var style = styles[name];\n          var modifier = styleModifiers[name];\n\n          if (typeof style !== 'undefined') {\n            if (Array.isArray(style)) {\n              modifier.apply(this, style);\n            } else {\n              modifier(style);\n            }\n          }\n        });\n      }\n\n      exports.applyStyles = applyStyles; // This is messy, only keep array and number format the next major version\n\n      function marginOrPadding(value, defaultValue) {\n        var newValue = {};\n\n        if (Array.isArray(value)) {\n          if (value.length >= 4) {\n            newValue = {\n              top: value[0],\n              right: value[1],\n              bottom: value[2],\n              left: value[3]\n            };\n          } else if (value.length === 3) {\n            newValue = {\n              top: value[0],\n              right: value[1],\n              bottom: value[2],\n              left: value[1]\n            };\n          } else if (value.length === 2) {\n            newValue = {\n              top: value[0],\n              right: value[1],\n              bottom: value[0],\n              left: value[1]\n            };\n          } else if (value.length === 1) {\n            value = value[0];\n          } else {\n            value = defaultValue;\n          }\n        } else if (typeof value === 'object') {\n          if (value['vertical']) {\n            value['top'] = value['vertical'];\n            value['bottom'] = value['vertical'];\n          }\n\n          if (value['horizontal']) {\n            value['right'] = value['horizontal'];\n            value['left'] = value['horizontal'];\n          }\n\n          for (var _i = 0, _a = ['top', 'right', 'bottom', 'left']; _i < _a.length; _i++) {\n            var side = _a[_i];\n            newValue[side] = value[side] || value[side] === 0 ? value[side] : defaultValue;\n          }\n        }\n\n        if (typeof value === 'number') {\n          newValue = {\n            top: value,\n            right: value,\n            bottom: value,\n            left: value\n          };\n        }\n\n        return newValue;\n      }\n\n      exports.marginOrPadding = marginOrPadding;\n\n      function styles(styles) {\n        styles = Array.isArray(styles) ? styles : [styles];\n        return polyfills_1.assign.apply(void 0, __spreadArrays([config_1.defaultStyles()], styles));\n      }\n\n      exports.styles = styles; // core-js etc increases jspdf-autotable bundle size by 50%\n      // even though only the Object.entries method is imported\n      // Until better solution we can use this polyfill:\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries#Polyfill\n\n      function entries(obj) {\n        var ownProps = Object.keys(obj),\n            i = ownProps.length,\n            resArray = new Array(i);\n\n        while (i--) resArray[i] = [ownProps[i], obj[ownProps[i]]];\n\n        return resArray;\n      }\n\n      exports.entries = entries;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /**\n       * Ratio between font size and font height. The number comes from jspdf's source code\n       */\n\n      exports.FONT_ROW_RATIO = 1.15;\n\n      var state_1 = __webpack_require__(0);\n\n      function defaultConfig() {\n        return {\n          // Html content\n          html: null,\n          // Custom content\n          head: null,\n          body: null,\n          foot: null,\n          // Properties\n          includeHiddenHtml: false,\n          startY: null,\n          margin: 40 / state_1.default().scaleFactor(),\n          pageBreak: 'auto',\n          rowPageBreak: 'auto',\n          tableWidth: 'auto',\n          showHead: 'everyPage',\n          showFoot: 'everyPage',\n          tableLineWidth: 0,\n          tableLineColor: 200,\n          tableId: null,\n          // Styling\n          theme: 'striped',\n          useCss: false,\n          styles: {},\n          headStyles: {},\n          bodyStyles: {},\n          footStyles: {},\n          alternateRowStyles: {},\n          columnStyles: {},\n          // Hooks\n          // Use to change the content of the cell before width calculations etc are performed\n          didParseCell: function (data) {},\n          willDrawCell: function (data) {},\n          // Use to draw additional content such as images in table cells\n          didDrawCell: function (data) {},\n          // Use to draw additional content to each page such as headers and footers\n          didDrawPage: function (data) {}\n        };\n      }\n\n      exports.defaultConfig = defaultConfig; // Base style for all themes\n\n      function defaultStyles() {\n        return {\n          font: 'helvetica',\n          fontStyle: 'normal',\n          overflow: 'linebreak',\n          fillColor: false,\n          textColor: 20,\n          halign: 'left',\n          valign: 'top',\n          fontSize: 10,\n          cellPadding: 5 / state_1.default().scaleFactor(),\n          lineColor: 200,\n          lineWidth: 0 / state_1.default().scaleFactor(),\n          cellWidth: 'auto',\n          minCellHeight: 0\n        };\n      }\n\n      exports.defaultStyles = defaultStyles;\n      /**\n       * Styles for the themes (overriding the default styles)\n       */\n\n      function getTheme(name) {\n        var themes = {\n          striped: {\n            table: {\n              fillColor: 255,\n              textColor: 80,\n              fontStyle: 'normal'\n            },\n            head: {\n              textColor: 255,\n              fillColor: [41, 128, 185],\n              fontStyle: 'bold'\n            },\n            body: {},\n            foot: {\n              textColor: 255,\n              fillColor: [41, 128, 185],\n              fontStyle: 'bold'\n            },\n            alternateRow: {\n              fillColor: 245\n            }\n          },\n          grid: {\n            table: {\n              fillColor: 255,\n              textColor: 80,\n              fontStyle: 'normal',\n              lineWidth: 0.1\n            },\n            head: {\n              textColor: 255,\n              fillColor: [26, 188, 156],\n              fontStyle: 'bold',\n              lineWidth: 0\n            },\n            body: {},\n            foot: {\n              textColor: 255,\n              fillColor: [26, 188, 156],\n              fontStyle: 'bold',\n              lineWidth: 0\n            },\n            alternateRow: {}\n          },\n          plain: {\n            head: {\n              fontStyle: 'bold'\n            },\n            foot: {\n              fontStyle: 'bold'\n            }\n          }\n        };\n        return themes[name];\n      }\n\n      exports.getTheme = getTheme;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /**\n       * Improved text function with halign and valign support\n       * Inspiration from: http://stackoverflow.com/questions/28327510/align-text-right-using-jspdf/28433113#28433113\n       */\n\n      function default_1(text, x, y, styles, doc) {\n        styles = styles || {};\n        var FONT_ROW_RATIO = 1.15;\n\n        if (typeof x !== 'number' || typeof y !== 'number') {\n          console.error('The x and y parameters are required. Missing for text: ', text);\n        }\n\n        var k = doc.internal.scaleFactor;\n        var fontSize = doc.internal.getFontSize() / k;\n        var splitRegex = /\\r\\n|\\r|\\n/g;\n        var splitText = null;\n        var lineCount = 1;\n\n        if (styles.valign === 'middle' || styles.valign === 'bottom' || styles.halign === 'center' || styles.halign === 'right') {\n          splitText = typeof text === 'string' ? text.split(splitRegex) : text;\n          lineCount = splitText.length || 1;\n        } // Align the top\n\n\n        y += fontSize * (2 - FONT_ROW_RATIO);\n        if (styles.valign === 'middle') y -= lineCount / 2 * fontSize * FONT_ROW_RATIO;else if (styles.valign === 'bottom') y -= lineCount * fontSize * FONT_ROW_RATIO;\n\n        if (styles.halign === 'center' || styles.halign === 'right') {\n          var alignSize = fontSize;\n          if (styles.halign === 'center') alignSize *= 0.5;\n\n          if (splitText && lineCount >= 1) {\n            for (var iLine = 0; iLine < splitText.length; iLine++) {\n              doc.text(splitText[iLine], x - doc.getStringUnitWidth(splitText[iLine]) * alignSize, y);\n              y += fontSize * FONT_ROW_RATIO;\n            }\n\n            return doc;\n          }\n\n          x -= doc.getStringUnitWidth(text) * alignSize;\n        }\n\n        if (styles.halign === 'justify') {\n          doc.text(text, x, y, {\n            maxWidth: styles.maxWidth || 100,\n            align: 'justify'\n          });\n        } else {\n          doc.text(text, x, y);\n        }\n\n        return doc;\n      }\n\n      exports.default = default_1;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var cssParser_1 = __webpack_require__(10);\n\n      var state_1 = __webpack_require__(0);\n\n      function parseHtml(input, includeHiddenHtml, useCss) {\n        if (includeHiddenHtml === void 0) {\n          includeHiddenHtml = false;\n        }\n\n        if (useCss === void 0) {\n          useCss = false;\n        }\n\n        var tableElement;\n\n        if (typeof input === 'string') {\n          tableElement = window.document.querySelector(input);\n        } else {\n          tableElement = input;\n        }\n\n        if (!tableElement) {\n          console.error('Html table could not be found with input: ', input);\n          return;\n        }\n\n        var head = [],\n            body = [],\n            foot = [];\n\n        for (var _i = 0, _a = tableElement.rows; _i < _a.length; _i++) {\n          var rowNode = _a[_i];\n          var tagName = rowNode.parentNode.tagName.toLowerCase();\n          var row = parseRowContent(window, rowNode, includeHiddenHtml, useCss);\n          if (!row) continue;\n\n          if (tagName === 'thead') {\n            head.push(row);\n          } else if (tagName === 'tfoot') {\n            foot.push(row);\n          } else {\n            // Add to body both if parent is tbody or table\n            // (not contained in any section)\n            body.push(row);\n          }\n        }\n\n        return {\n          head: head,\n          body: body,\n          foot: foot\n        };\n      }\n\n      exports.parseHtml = parseHtml;\n\n      function parseRowContent(window, row, includeHidden, useCss) {\n        var resultRow = [];\n        var rowStyles = useCss ? cssParser_1.parseCss(row, state_1.default().scaleFactor(), ['cellPadding', 'lineWidth', 'lineColor']) : {};\n\n        for (var i = 0; i < row.cells.length; i++) {\n          var cell = row.cells[i];\n          var style = window.getComputedStyle(cell);\n\n          if (includeHidden || style.display !== 'none') {\n            var cellStyles = useCss ? cssParser_1.parseCss(cell, state_1.default().scaleFactor()) : {};\n            resultRow.push({\n              rowSpan: cell.rowSpan,\n              colSpan: cell.colSpan,\n              styles: useCss ? cellStyles : null,\n              _element: cell,\n              content: parseCellContent(cell)\n            });\n          }\n        }\n\n        if (resultRow.length > 0 && (includeHidden || rowStyles.display !== 'none')) {\n          resultRow._element = row;\n          return resultRow;\n        }\n      }\n\n      function parseCellContent(orgCell) {\n        // Work on cloned node to make sure no changes are applied to html table\n        var cell = orgCell.cloneNode(true); // Remove extra space and line breaks in markup to make it more similar to\n        // what would be shown in html\n\n        cell.innerHTML = cell.innerHTML.replace(/\\n/g, '').replace(/ +/g, ' '); // Preserve <br> tags as line breaks in the pdf\n\n        cell.innerHTML = cell.innerHTML.split('<br>').map(function (part) {\n          return part.trim();\n        }).join('\\n'); // innerText for ie\n\n        return cell.innerText || cell.textContent || '';\n      }\n      /***/\n\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /*\n       * Include common small polyfills instead of requiring the user to to do it\n       */\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      }); // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n      function assign(target) {\n        'use strict';\n\n        var varArgs = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          varArgs[_i - 1] = arguments[_i];\n        }\n\n        if (target == null) {\n          // TypeError if undefined or null\n          throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var to = Object(target);\n\n        for (var index = 1; index < arguments.length; index++) {\n          var nextSource = arguments[index];\n\n          if (nextSource != null) {\n            // Skip over if undefined or null\n            for (var nextKey in nextSource) {\n              // Avoid bugs when hasOwnProperty is shadowed\n              if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                to[nextKey] = nextSource[nextKey];\n              }\n            }\n          }\n        }\n\n        return to;\n      }\n\n      exports.assign = assign;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var config_1 = __webpack_require__(2);\n\n      var state_1 = __webpack_require__(0);\n\n      var HookData_1 = __webpack_require__(13);\n\n      var common_1 = __webpack_require__(1);\n\n      var assign = __webpack_require__(7);\n\n      var CellHooks =\n      /** @class */\n      function () {\n        function CellHooks() {\n          this.didParseCell = [];\n          this.willDrawCell = [];\n          this.didDrawCell = [];\n          this.didDrawPage = [];\n        }\n\n        return CellHooks;\n      }();\n\n      var Table =\n      /** @class */\n      function () {\n        function Table() {\n          this.columns = [];\n          this.head = [];\n          this.body = [];\n          this.foot = [];\n          this.height = 0;\n          this.width = 0;\n          this.preferredWidth = 0;\n          this.wrappedWidth = 0;\n          this.minWidth = 0;\n          this.headHeight = 0;\n          this.footHeight = 0;\n          this.startPageNumber = 1;\n          this.pageNumber = 1; // Deprecated, use pageNumber instead\n          // Not using getter since:\n          // https://github.com/simonbengtsson/jsPDF-AutoTable/issues/596\n\n          this.pageCount = 1;\n          this.styles = {\n            styles: {},\n            headStyles: {},\n            bodyStyles: {},\n            footStyles: {},\n            alternateRowStyles: {},\n            columnStyles: {}\n          };\n          this.cellHooks = new CellHooks();\n        }\n\n        Table.prototype.allRows = function () {\n          return this.head.concat(this.body).concat(this.foot);\n        };\n\n        Table.prototype.callCellHooks = function (handlers, cell, row, column) {\n          for (var _i = 0, handlers_1 = handlers; _i < handlers_1.length; _i++) {\n            var handler = handlers_1[_i];\n\n            if (handler(new HookData_1.CellHookData(cell, row, column)) === false) {\n              return false;\n            }\n          }\n\n          return true;\n        };\n\n        Table.prototype.callEndPageHooks = function () {\n          common_1.applyUserStyles();\n\n          for (var _i = 0, _a = this.cellHooks.didDrawPage; _i < _a.length; _i++) {\n            var handler = _a[_i];\n            handler(new HookData_1.HookData());\n          }\n        };\n\n        Table.prototype.margin = function (side) {\n          return common_1.marginOrPadding(this.settings.margin, config_1.defaultConfig().margin)[side];\n        };\n\n        return Table;\n      }();\n\n      exports.Table = Table;\n\n      var Row =\n      /** @class */\n      function () {\n        function Row(raw, index, section) {\n          this.cells = {};\n          this.height = 0;\n          this.maxCellHeight = 0;\n          this.spansMultiplePages = false;\n          this.raw = raw;\n\n          if (raw._element) {\n            this.raw = raw._element;\n          }\n\n          this.index = index;\n          this.section = section;\n        }\n\n        Row.prototype.hasRowSpan = function () {\n          var _this = this;\n\n          return state_1.default().table.columns.filter(function (column) {\n            var cell = _this.cells[column.index];\n            if (!cell) return false;\n            return cell.rowSpan > 1;\n          }).length > 0;\n        };\n\n        Row.prototype.canEntireRowFit = function (height) {\n          return this.maxCellHeight <= height;\n        };\n\n        Row.prototype.getMinimumRowHeight = function () {\n          var _this = this;\n\n          return state_1.default().table.columns.reduce(function (acc, column) {\n            var cell = _this.cells[column.index];\n            if (!cell) return 0;\n            var fontHeight = cell.styles.fontSize / state_1.default().scaleFactor() * config_1.FONT_ROW_RATIO;\n            var vPadding = cell.padding('vertical');\n            var oneRowHeight = vPadding + fontHeight;\n            return oneRowHeight > acc ? oneRowHeight : acc;\n          }, 0);\n        };\n\n        return Row;\n      }();\n\n      exports.Row = Row;\n\n      var Cell =\n      /** @class */\n      function () {\n        function Cell(raw, themeStyles, section) {\n          this.contentHeight = 0;\n          this.contentWidth = 0;\n          this.longestWordWidth = 0;\n          this.wrappedWidth = 0;\n          this.minWidth = 0;\n          this.textPos = {};\n          this.height = 0;\n          this.width = 0;\n          this.rowSpan = raw && raw.rowSpan || 1;\n          this.colSpan = raw && raw.colSpan || 1;\n          this.styles = assign(themeStyles, raw && raw.styles || {});\n          this.section = section;\n          var text;\n          var content = raw && raw.content != null ? raw.content : raw;\n          content = content && content.title != null ? content.title : content;\n          this.raw = raw && raw._element ? raw._element : raw; // Stringify 0 and false, but not undefined or null\n\n          text = content != null ? '' + content : '';\n          var splitRegex = /\\r\\n|\\r|\\n/g;\n          this.text = text.split(splitRegex);\n        }\n\n        Cell.prototype.getContentHeight = function () {\n          var lineCount = Array.isArray(this.text) ? this.text.length : 1;\n          var fontHeight = this.styles.fontSize / state_1.default().scaleFactor() * config_1.FONT_ROW_RATIO;\n          return lineCount * fontHeight + this.padding('vertical');\n        };\n\n        Cell.prototype.padding = function (name) {\n          var padding = common_1.marginOrPadding(this.styles.cellPadding, common_1.styles([]).cellPadding);\n\n          if (name === 'vertical') {\n            return padding.top + padding.bottom;\n          } else if (name === 'horizontal') {\n            return padding.left + padding.right;\n          } else {\n            return padding[name];\n          }\n        };\n\n        return Cell;\n      }();\n\n      exports.Cell = Cell;\n\n      var Column =\n      /** @class */\n      function () {\n        function Column(dataKey, raw, index) {\n          this.preferredWidth = 0;\n          this.minWidth = 0;\n          this.longestWordWidth = 0;\n          this.wrappedWidth = 0;\n          this.width = 0;\n          this.dataKey = dataKey;\n          this.raw = raw;\n          this.index = index;\n        }\n\n        Column.prototype.hasCustomWidth = function () {\n          for (var _i = 0, _a = state_1.default().table.allRows(); _i < _a.length; _i++) {\n            var row = _a[_i];\n            var cell = row.cells[this.index];\n\n            if (cell && typeof cell.styles.cellWidth === 'number') {\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        return Column;\n      }();\n\n      exports.Column = Column;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n      /*\n      object-assign\n      (c) Sindre Sorhus\n      @license MIT\n      */\n\n      /* eslint-disable no-unused-vars */\n\n      var getOwnPropertySymbols = Object.getOwnPropertySymbols;\n      var hasOwnProperty = Object.prototype.hasOwnProperty;\n      var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n      function toObject(val) {\n        if (val === null || val === undefined) {\n          throw new TypeError('Object.assign cannot be called with null or undefined');\n        }\n\n        return Object(val);\n      }\n\n      function shouldUseNative() {\n        try {\n          if (!Object.assign) {\n            return false;\n          } // Detect buggy property enumeration order in older V8 versions.\n          // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n          var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n          test1[5] = 'de';\n\n          if (Object.getOwnPropertyNames(test1)[0] === '5') {\n            return false;\n          } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n          var test2 = {};\n\n          for (var i = 0; i < 10; i++) {\n            test2['_' + String.fromCharCode(i)] = i;\n          }\n\n          var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n            return test2[n];\n          });\n\n          if (order2.join('') !== '0123456789') {\n            return false;\n          } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n          var test3 = {};\n          'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n            test3[letter] = letter;\n          });\n\n          if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n            return false;\n          }\n\n          return true;\n        } catch (err) {\n          // We don't expect any of the above to throw, but better to be safe.\n          return false;\n        }\n      }\n\n      module.exports = shouldUseNative() ? Object.assign : function (target, source) {\n        var from;\n        var to = toObject(target);\n        var symbols;\n\n        for (var s = 1; s < arguments.length; s++) {\n          from = Object(arguments[s]);\n\n          for (var key in from) {\n            if (hasOwnProperty.call(from, key)) {\n              to[key] = from[key];\n            }\n          }\n\n          if (getOwnPropertySymbols) {\n            symbols = getOwnPropertySymbols(from);\n\n            for (var i = 0; i < symbols.length; i++) {\n              if (propIsEnumerable.call(from, symbols[i])) {\n                to[symbols[i]] = from[symbols[i]];\n              }\n            }\n          }\n        }\n\n        return to;\n      };\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var applyPlugin_1 = __webpack_require__(9); // export { applyPlugin } didn't export applyPlugin\n      // to index.d.ts for some reason\n\n\n      function applyPlugin(jsPDF) {\n        applyPlugin_1.default(jsPDF);\n      }\n\n      exports.applyPlugin = applyPlugin;\n\n      try {\n        var jsPDF = __webpack_require__(17);\n\n        applyPlugin(jsPDF);\n      } catch (error) {} // Importing jspdf in nodejs environments does not work as of jspdf\n      // 1.5.3 so we need to silence any errors to support using for example\n      // the nodejs jspdf dist files with the exported applyPlugin\n\n      /***/\n\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var state_1 = __webpack_require__(0);\n\n      __webpack_require__(3);\n\n      var htmlParser_1 = __webpack_require__(4);\n\n      var autoTableText_1 = __webpack_require__(3);\n\n      var autoTable_1 = __webpack_require__(11);\n\n      function default_1(jsPDF) {\n        jsPDF.API.autoTable = autoTable_1.default; // Assign false to enable `doc.lastAutoTable.finalY || 40` sugar\n\n        jsPDF.API.lastAutoTable = false;\n        jsPDF.API.previousAutoTable = false; // deprecated in v3\n\n        jsPDF.API.autoTable.previous = false; // deprecated in v3\n\n        jsPDF.API.autoTableText = function (text, x, y, styles) {\n          autoTableText_1.default(text, x, y, styles, this);\n        };\n\n        jsPDF.API.autoTableSetDefaults = function (defaults) {\n          state_1.setDefaults(defaults, this);\n          return this;\n        };\n\n        jsPDF.autoTableSetDefaults = function (defaults, doc) {\n          state_1.setDefaults(defaults, doc);\n          return this;\n        };\n\n        jsPDF.API.autoTableHtmlToJson = function (tableElem, includeHiddenElements) {\n          includeHiddenElements = includeHiddenElements || false;\n\n          if (!tableElem || !(tableElem instanceof HTMLTableElement)) {\n            console.error('An HTMLTableElement has to be sent to autoTableHtmlToJson');\n            return null;\n          }\n\n          var _a = htmlParser_1.parseHtml(tableElem, includeHiddenElements, false),\n              head = _a.head,\n              body = _a.body,\n              foot = _a.foot;\n\n          var firstRow = head[0] || body[0] || foot[0];\n          return {\n            columns: firstRow,\n            rows: body,\n            data: body\n          };\n        };\n        /**\n         * @deprecated\n         */\n\n\n        jsPDF.API.autoTableEndPosY = function () {\n          console.error('Use of deprecated function: autoTableEndPosY. Use doc.previousAutoTable.finalY instead.');\n          var prev = this.previousAutoTable;\n\n          if (prev.cursor && typeof prev.cursor.y === 'number') {\n            return prev.cursor.y;\n          } else {\n            return 0;\n          }\n        };\n        /**\n         * @deprecated\n         */\n\n\n        jsPDF.API.autoTableAddPageContent = function (hook) {\n          console.error('Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead.');\n\n          if (!jsPDF.API.autoTable.globalDefaults) {\n            jsPDF.API.autoTable.globalDefaults = {};\n          }\n\n          jsPDF.API.autoTable.globalDefaults.addPageContent = hook;\n          return this;\n        };\n        /**\n         * @deprecated\n         */\n\n\n        jsPDF.API.autoTableAddPage = function () {\n          console.error('Use of deprecated function: autoTableAddPage. Use doc.addPage()');\n          this.addPage();\n          return this;\n        };\n      }\n\n      exports.default = default_1;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      }); // Limitations\n      // - No support for border spacing\n      // - No support for transparency\n\n      var common_1 = __webpack_require__(1);\n\n      var state_1 = __webpack_require__(0);\n\n      function parseCss(element, scaleFactor, ignored) {\n        if (ignored === void 0) {\n          ignored = [];\n        }\n\n        var result = {};\n        var style = window.getComputedStyle(element);\n\n        function assign(name, value, accepted) {\n          if (accepted === void 0) {\n            accepted = [];\n          }\n\n          if ((accepted.length === 0 || accepted.indexOf(value) !== -1) && ignored.indexOf(name) === -1) {\n            if (value === 0 || value) {\n              result[name] = value;\n            }\n          }\n        }\n\n        var pxScaleFactor = 96 / 72;\n        assign('fillColor', parseColor(element, 'backgroundColor'));\n        assign('fontStyle', parseFontStyle(style));\n        assign('textColor', parseColor(element, 'color'));\n        assign('halign', style.textAlign, ['left', 'right', 'center', 'justify']);\n        assign('valign', style.verticalAlign, ['middle', 'bottom', 'top']);\n        assign('fontSize', parseInt(style.fontSize || '') / pxScaleFactor);\n        assign('cellPadding', parsePadding([style.paddingTop, style.paddingRight, style.paddingBottom, style.paddingLeft], style.fontSize, style.lineHeight, scaleFactor)); // style.borderWidth only works in chrome (borderTopWidth etc works in firefox and ie as well)\n\n        assign('lineWidth', parseInt(style.borderTopWidth || '') / pxScaleFactor / scaleFactor);\n        assign('lineColor', parseColor(element, 'borderTopColor'));\n        var font = (style.fontFamily || '').toLowerCase();\n\n        if (state_1.default().doc.getFontList()[font]) {\n          assign('font', font);\n        }\n\n        return result;\n      }\n\n      exports.parseCss = parseCss;\n\n      function parseFontStyle(style) {\n        var res = '';\n\n        if (style.fontWeight === 'bold' || style.fontWeight === 'bolder' || parseInt(style.fontWeight) >= 700) {\n          res += 'bold';\n        }\n\n        if (style.fontStyle === 'italic' || style.fontStyle === 'oblique') {\n          res += 'italic';\n        }\n\n        return res;\n      }\n\n      function parseColor(element, colorProp) {\n        var cssColor = realColor(element, colorProp);\n        if (!cssColor) return null;\n        var rgba = cssColor.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d*\\.?\\d*))?\\)$/);\n\n        if (!rgba || !Array.isArray(rgba)) {\n          return null;\n        }\n\n        var color = [parseInt(rgba[1]), parseInt(rgba[2]), parseInt(rgba[3])];\n        var alpha = parseInt(rgba[4]);\n\n        if (alpha === 0 || isNaN(color[0]) || isNaN(color[1]) || isNaN(color[2])) {\n          return null;\n        }\n\n        return color;\n      }\n\n      function realColor(elem, colorProp) {\n        if (!elem) return null;\n        var bg = window.getComputedStyle(elem)[colorProp];\n\n        if (bg === 'rgba(0, 0, 0, 0)' || bg === 'transparent' || bg === 'initial' || bg === 'inherit') {\n          return realColor(elem.parentElement, colorProp);\n        } else {\n          return bg;\n        }\n      }\n\n      function parsePadding(val, fontSize, lineHeight, scaleFactor) {\n        if (!val) return null;\n        var pxScaleFactor = 96 / (72 / scaleFactor);\n        var linePadding = (parseInt(lineHeight) - parseInt(fontSize)) / scaleFactor / 2;\n        var padding = val.map(function (n) {\n          return parseInt(n) / pxScaleFactor;\n        });\n        padding = common_1.marginOrPadding(padding, 0);\n\n        if (linePadding > padding.top) {\n          padding.top = linePadding;\n        }\n\n        if (linePadding > padding.bottom) {\n          padding.bottom = linePadding;\n        }\n\n        return padding;\n      }\n      /***/\n\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var state_1 = __webpack_require__(0);\n\n      var inputParser_1 = __webpack_require__(12);\n\n      var widthCalculator_1 = __webpack_require__(15);\n\n      var tableDrawer_1 = __webpack_require__(16);\n\n      var common_1 = __webpack_require__(1);\n\n      function autoTable() {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        state_1.setupState(this); // 1. Parse and unify user input\n\n        var table = inputParser_1.parseInput(args); // 2. Calculate preliminary table, column, row and cell dimensions\n\n        widthCalculator_1.calculateWidths(table); // 3. Output table to pdf\n\n        tableDrawer_1.drawTable(table);\n        table.finalY = table.cursor.y;\n        this.previousAutoTable = table;\n        this.lastAutoTable = table;\n        this.autoTable.previous = table; // Deprecated\n\n        common_1.applyUserStyles();\n        state_1.resetState();\n        return this;\n      }\n\n      exports.default = autoTable;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __spreadArrays = this && this.__spreadArrays || function () {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n        for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n        return r;\n      };\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var models_1 = __webpack_require__(6);\n\n      var config_1 = __webpack_require__(2);\n\n      var htmlParser_1 = __webpack_require__(4);\n\n      var polyfills_1 = __webpack_require__(5);\n\n      var common_1 = __webpack_require__(1);\n\n      var state_1 = __webpack_require__(0);\n\n      var inputValidator_1 = __webpack_require__(14);\n      /**\n       * Create models from the user input\n       */\n\n\n      function parseInput(args) {\n        var tableOptions = parseUserArguments(args);\n        var globalOptions = state_1.getGlobalOptions();\n        var documentOptions = state_1.getDocumentOptions();\n        var allOptions = [globalOptions, documentOptions, tableOptions];\n        inputValidator_1.default(allOptions);\n        var table = new models_1.Table();\n        state_1.default().table = table;\n        table.id = tableOptions.tableId;\n        var doc = state_1.default().doc;\n        table.userStyles = {\n          // Setting to black for versions of jspdf without getTextColor\n          textColor: doc.getTextColor ? doc.getTextColor() : 0,\n          fontSize: doc.internal.getFontSize(),\n          fontStyle: doc.internal.getFont().fontStyle,\n          font: doc.internal.getFont().fontName\n        };\n\n        var _loop_1 = function (styleProp) {\n          var styles = allOptions.map(function (opts) {\n            return opts[styleProp] || {};\n          });\n          table.styles[styleProp] = polyfills_1.assign.apply(void 0, __spreadArrays([{}], styles));\n        }; // Merge styles one level deeper\n\n\n        for (var _i = 0, _a = Object.keys(table.styles); _i < _a.length; _i++) {\n          var styleProp = _a[_i];\n\n          _loop_1(styleProp);\n        } // Append hooks\n\n\n        for (var _b = 0, allOptions_1 = allOptions; _b < allOptions_1.length; _b++) {\n          var opts = allOptions_1[_b];\n\n          for (var _c = 0, _d = Object.keys(table.cellHooks); _c < _d.length; _c++) {\n            var hookName = _d[_c];\n\n            if (opts && typeof opts[hookName] === 'function') {\n              table.cellHooks[hookName].push(opts[hookName]);\n            }\n          }\n        }\n\n        table.settings = polyfills_1.assign.apply(void 0, __spreadArrays([{}, config_1.defaultConfig()], allOptions));\n        table.settings.margin = common_1.marginOrPadding(table.settings.margin, config_1.defaultConfig().margin);\n\n        if (table.settings.theme === 'auto') {\n          table.settings.theme = table.settings.useCss ? 'plain' : 'striped';\n        }\n\n        if (table.settings.startY === false) {\n          delete table.settings.startY;\n        }\n\n        var previous = state_1.default().doc.previousAutoTable;\n        var isSamePageAsPrevious = previous && previous.startPageNumber + previous.pageNumber - 1 === state_1.default().pageNumber();\n\n        if (table.settings.startY == null && isSamePageAsPrevious) {\n          table.settings.startY = previous.finalY + 20 / state_1.default().scaleFactor();\n        }\n\n        var htmlContent = {};\n\n        if (table.settings.html) {\n          htmlContent = htmlParser_1.parseHtml(table.settings.html, table.settings.includeHiddenHtml, table.settings.useCss) || {};\n        }\n\n        table.settings.head = htmlContent.head || table.settings.head || [];\n        table.settings.body = htmlContent.body || table.settings.body || [];\n        table.settings.foot = htmlContent.foot || table.settings.foot || [];\n        parseContent(table);\n        table.minWidth = table.columns.reduce(function (total, col) {\n          return total + col.minWidth;\n        }, 0);\n        table.wrappedWidth = table.columns.reduce(function (total, col) {\n          return total + col.wrappedWidth;\n        }, 0);\n\n        if (typeof table.settings.tableWidth === 'number') {\n          table.width = table.settings.tableWidth;\n        } else if (table.settings.tableWidth === 'wrap') {\n          table.width = table.wrappedWidth;\n        } else {\n          table.width = state_1.default().pageWidth() - table.margin('left') - table.margin('right');\n        }\n\n        return table;\n      }\n\n      exports.parseInput = parseInput;\n\n      function parseUserArguments(args) {\n        // Normal initialization on format doc.autoTable(options)\n        if (args.length === 1) {\n          return args[0];\n        } else {\n          // Deprecated initialization on format doc.autoTable(columns, body, [options])\n          var opts = args[2] || {};\n          opts.body = args[1];\n          opts.columns = args[0];\n          opts.columns.forEach(function (col) {\n            // Support v2 title prop in v3\n            if (typeof col === 'object' && col.header == null) {\n              col.header = col.title;\n            }\n          });\n          return opts;\n        }\n      }\n\n      function parseContent(table) {\n        var settings = table.settings;\n        table.columns = getTableColumns(settings);\n\n        var _loop_2 = function (sectionName) {\n          var rowSpansLeftForColumn = {};\n          var sectionRows = settings[sectionName];\n\n          if (sectionRows.length === 0 && settings.columns && sectionName !== 'body') {\n            // If no head or foot is set, try generating one with content in columns\n            var sectionRow = generateSectionRowFromColumnData(table, sectionName);\n\n            if (sectionRow) {\n              sectionRows.push(sectionRow);\n            }\n          }\n\n          sectionRows.forEach(function (rawRow, rowIndex) {\n            var skippedRowForRowSpans = 0;\n            var row = new models_1.Row(rawRow, rowIndex, sectionName);\n            table[sectionName].push(row);\n            var colSpansAdded = 0;\n            var columnSpansLeft = 0;\n\n            for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n              var column = _a[_i];\n\n              if (rowSpansLeftForColumn[column.index] == null || rowSpansLeftForColumn[column.index].left === 0) {\n                if (columnSpansLeft === 0) {\n                  var rawCell = void 0;\n\n                  if (Array.isArray(rawRow)) {\n                    rawCell = rawRow[column.index - colSpansAdded - skippedRowForRowSpans];\n                  } else {\n                    rawCell = rawRow[column.dataKey];\n                  }\n\n                  var styles = cellStyles(sectionName, column, rowIndex);\n                  var cell = new models_1.Cell(rawCell, styles, sectionName); // dataKey is not used internally anymore but keep for backwards compat in hooks\n\n                  row.cells[column.dataKey] = cell;\n                  row.cells[column.index] = cell;\n                  columnSpansLeft = cell.colSpan - 1;\n                  rowSpansLeftForColumn[column.index] = {\n                    left: cell.rowSpan - 1,\n                    times: columnSpansLeft\n                  };\n                } else {\n                  columnSpansLeft--;\n                  colSpansAdded++;\n                }\n              } else {\n                rowSpansLeftForColumn[column.index].left--;\n                columnSpansLeft = rowSpansLeftForColumn[column.index].times;\n                skippedRowForRowSpans++;\n              }\n            }\n          });\n        };\n\n        for (var _i = 0, _a = ['head', 'body', 'foot']; _i < _a.length; _i++) {\n          var sectionName = _a[_i];\n\n          _loop_2(sectionName);\n        }\n\n        table.allRows().forEach(function (row) {\n          var _loop_3 = function (column) {\n            var cell = row.cells[column.index];\n            if (!cell) return \"continue\";\n            table.callCellHooks(table.cellHooks.didParseCell, cell, row, column);\n            cell.text = Array.isArray(cell.text) ? cell.text : [cell.text];\n            var text = cell.text.join(' ');\n            var wordWidths = (\"\" + text).trim().split(/\\s+/).map(function (word) {\n              return common_1.getStringWidth(word, cell.styles);\n            });\n            wordWidths.sort();\n            cell.longestWordWidth = wordWidths[wordWidths.length - 1] + cell.padding('horizontal');\n            cell.contentWidth = cell.padding('horizontal') + common_1.getStringWidth(cell.text, cell.styles);\n\n            if (typeof cell.styles.cellWidth === 'number') {\n              cell.minWidth = cell.styles.cellWidth;\n              cell.wrappedWidth = cell.styles.cellWidth;\n            } else if (cell.styles.cellWidth === 'wrap') {\n              cell.minWidth = cell.contentWidth;\n              cell.wrappedWidth = cell.contentWidth;\n            } else {\n              // auto\n              var defaultMinWidth = 10 / state_1.default().scaleFactor();\n              cell.minWidth = cell.styles.minCellWidth || defaultMinWidth;\n              cell.wrappedWidth = cell.contentWidth;\n\n              if (cell.minWidth > cell.wrappedWidth) {\n                cell.wrappedWidth = cell.minWidth;\n              }\n            }\n          };\n\n          for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n\n            _loop_3(column);\n          }\n        });\n        table.allRows().forEach(function (row) {\n          for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            var cell = row.cells[column.index]; // For now we ignore the minWidth and wrappedWidth of colspan cells when calculating colspan widths.\n            // Could probably be improved upon however.\n\n            if (cell && cell.colSpan === 1) {\n              column.wrappedWidth = Math.max(column.wrappedWidth, cell.wrappedWidth);\n              column.minWidth = Math.max(column.minWidth, cell.minWidth);\n              column.longestWordWidth = Math.max(column.longestWordWidth, cell.longestWordWidth);\n            } else {\n              // Respect cellWidth set in columnStyles even if there is no cells for this column\n              // or of it the column only have colspan cells. Since the width of colspan cells\n              // does not affect the width of columns, setting columnStyles cellWidth enables the\n              // user to at least do it manually.\n              // Note that this is not perfect for now since for example row and table styles are\n              // not accounted for\n              var columnStyles = table.styles.columnStyles[column.dataKey] || table.styles.columnStyles[column.index] || {};\n              var cellWidth = columnStyles.cellWidth;\n\n              if (cellWidth && typeof cellWidth === 'number') {\n                column.minWidth = cellWidth;\n                column.wrappedWidth = cellWidth;\n              }\n            }\n\n            if (cell) {\n              // Make sure all columns get at least min width even though width calculations are not based on them\n              if (cell.colSpan > 1 && !column.minWidth) {\n                column.minWidth = cell.minWidth;\n              }\n\n              if (cell.colSpan > 1 && !column.wrappedWidth) {\n                column.wrappedWidth = cell.minWidth;\n              }\n\n              table.callCellHooks(table.cellHooks.didParseCell, cell, row, column);\n            }\n          }\n        });\n      }\n\n      function generateSectionRowFromColumnData(table, sectionName) {\n        var sectionRow = {};\n        table.columns.forEach(function (col) {\n          var columnData = col.raw;\n\n          if (sectionName === 'head') {\n            var val = columnData && columnData.header ? columnData.header : columnData;\n\n            if (val) {\n              sectionRow[col.dataKey] = val;\n            }\n          } else if (sectionName === 'foot' && columnData.footer) {\n            sectionRow[col.dataKey] = columnData.footer;\n          }\n        });\n        return Object.keys(sectionRow).length > 0 ? sectionRow : null;\n      }\n\n      function getTableColumns(settings) {\n        if (settings.columns) {\n          var cols = settings.columns.map(function (input, index) {\n            var key = input.dataKey || input.key || index;\n            return new models_1.Column(key, input, index);\n          });\n          return cols;\n        } else {\n          var firstRow_1 = settings.head[0] || settings.body[0] || settings.foot[0] || [];\n          var columns_1 = [];\n          Object.keys(firstRow_1).filter(function (key) {\n            return key !== '_element';\n          }).forEach(function (key) {\n            var colSpan = firstRow_1[key] && firstRow_1[key].colSpan ? firstRow_1[key].colSpan : 1;\n\n            for (var i = 0; i < colSpan; i++) {\n              var id = void 0;\n\n              if (Array.isArray(firstRow_1)) {\n                id = columns_1.length;\n              } else {\n                id = key + (i > 0 ? \"_\" + i : '');\n              }\n\n              columns_1.push(new models_1.Column(id, id, columns_1.length));\n            }\n          });\n          return columns_1;\n        }\n      }\n\n      function cellStyles(sectionName, column, rowIndex) {\n        var table = state_1.default().table;\n        var theme = config_1.getTheme(table.settings.theme);\n        var otherStyles = [theme.table, theme[sectionName], table.styles.styles, table.styles[sectionName + \"Styles\"]];\n        var columnStyles = table.styles.columnStyles[column.dataKey] || table.styles.columnStyles[column.index] || {};\n        var colStyles = sectionName === 'body' ? columnStyles : {};\n        var rowStyles = sectionName === 'body' && rowIndex % 2 === 0 ? polyfills_1.assign({}, theme.alternateRow, table.styles.alternateRowStyles) : {};\n        return polyfills_1.assign.apply(void 0, __spreadArrays([config_1.defaultStyles()], __spreadArrays(otherStyles, [rowStyles, colStyles])));\n      }\n      /***/\n\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __extends = this && this.__extends || function () {\n        var extendStatics = function (d, b) {\n          extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n          };\n\n          return extendStatics(d, b);\n        };\n\n        return function (d, b) {\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var state_1 = __webpack_require__(0);\n\n      var HookData =\n      /** @class */\n      function () {\n        function HookData() {\n          var table = state_1.default().table;\n          this.table = table;\n          this.pageNumber = table.pageNumber;\n          this.pageCount = this.pageNumber;\n          this.settings = table.settings;\n          this.cursor = table.cursor;\n          this.doc = state_1.default().doc;\n        }\n\n        return HookData;\n      }();\n\n      exports.HookData = HookData;\n\n      var CellHookData =\n      /** @class */\n      function (_super) {\n        __extends(CellHookData, _super);\n\n        function CellHookData(cell, row, column) {\n          var _this = _super.call(this) || this;\n\n          _this.cell = cell;\n          _this.row = row;\n          _this.column = column;\n          _this.section = row.section;\n          return _this;\n        }\n\n        return CellHookData;\n      }(HookData);\n\n      exports.CellHookData = CellHookData;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var common_1 = __webpack_require__(1);\n\n      function default_1(allOptions) {\n        var _loop_1 = function (settings) {\n          if (settings && typeof settings !== 'object') {\n            console.error('The options parameter should be of type object, is: ' + typeof settings);\n          }\n\n          if (typeof settings.extendWidth !== 'undefined') {\n            settings.tableWidth = settings.extendWidth ? 'auto' : 'wrap';\n            console.error('Use of deprecated option: extendWidth, use tableWidth instead.');\n          }\n\n          if (typeof settings.margins !== 'undefined') {\n            if (typeof settings.margin === 'undefined') settings.margin = settings.margins;\n            console.error('Use of deprecated option: margins, use margin instead.');\n          }\n\n          if (settings.startY && typeof settings.startY !== 'number') {\n            console.error('Invalid value for startY option', settings.startY);\n            delete settings.startY;\n          }\n\n          if (!settings.didDrawPage && (settings.afterPageContent || settings.beforePageContent || settings.afterPageAdd)) {\n            console.error('The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead');\n\n            settings.didDrawPage = function (data) {\n              common_1.applyUserStyles();\n              if (settings.beforePageContent) settings.beforePageContent(data);\n              common_1.applyUserStyles();\n              if (settings.afterPageContent) settings.afterPageContent(data);\n              common_1.applyUserStyles();\n\n              if (settings.afterPageAdd && data.pageNumber > 1) {\n                data.afterPageAdd(data);\n              }\n\n              common_1.applyUserStyles();\n            };\n          }\n\n          ;\n          ['createdHeaderCell', 'drawHeaderRow', 'drawRow', 'drawHeaderCell'].forEach(function (name) {\n            if (settings[name]) {\n              console.error(\"The \\\"\" + name + \"\\\" hook has changed in version 3.0, check the changelog for how to migrate.\");\n            }\n          });\n          [['showFoot', 'showFooter'], ['showHead', 'showHeader'], ['didDrawPage', 'addPageContent'], ['didParseCell', 'createdCell'], ['headStyles', 'headerStyles']].forEach(function (_a) {\n            var current = _a[0],\n                deprecated = _a[1];\n\n            if (settings[deprecated]) {\n              console.error(\"Use of deprecated option \" + deprecated + \". Use \" + current + \" instead\");\n              settings[current] = settings[deprecated];\n            }\n          });\n          [['padding', 'cellPadding'], ['lineHeight', 'rowHeight'], 'fontSize', 'overflow'].forEach(function (o) {\n            var deprecatedOption = typeof o === 'string' ? o : o[0];\n            var style = typeof o === 'string' ? o : o[1];\n\n            if (typeof settings[deprecatedOption] !== 'undefined') {\n              if (typeof settings.styles[style] === 'undefined') {\n                settings.styles[style] = settings[deprecatedOption];\n              }\n\n              console.error('Use of deprecated option: ' + deprecatedOption + ', use the style ' + style + ' instead.');\n            }\n          });\n\n          for (var _i = 0, _a = ['styles', 'bodyStyles', 'headStyles', 'footStyles']; _i < _a.length; _i++) {\n            var styleProp = _a[_i];\n            checkStyles(settings[styleProp] || {});\n          }\n\n          var columnStyles = settings['columnStyles'] || {};\n\n          for (var _b = 0, _c = Object.keys(columnStyles); _b < _c.length; _b++) {\n            var key = _c[_b];\n            checkStyles(columnStyles[key] || {});\n          }\n        };\n\n        for (var _i = 0, allOptions_1 = allOptions; _i < allOptions_1.length; _i++) {\n          var settings = allOptions_1[_i];\n\n          _loop_1(settings);\n        }\n      }\n\n      exports.default = default_1;\n\n      function checkStyles(styles) {\n        if (styles.rowHeight) {\n          console.error('Use of deprecated style rowHeight. It is renamed to minCellHeight.');\n\n          if (!styles.minCellHeight) {\n            styles.minCellHeight = styles.rowHeight;\n          }\n        } else if (styles.columnWidth) {\n          console.error('Use of deprecated style columnWidth. It is renamed to cellWidth.');\n\n          if (!styles.cellWidth) {\n            styles.cellWidth = styles.columnWidth;\n          }\n        }\n      }\n      /***/\n\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var common_1 = __webpack_require__(1);\n\n      var state_1 = __webpack_require__(0);\n      /**\n       * Calculate the column widths\n       */\n\n\n      function calculateWidths(table) {\n        var columnMinWidth = 10 / state_1.default().scaleFactor();\n\n        if (columnMinWidth * table.columns.length > table.width) {\n          console.error('Columns could not fit on page');\n        } else if (table.minWidth > table.width) {\n          // Would be nice to improve the user experience of this\n          console.error(\"Column widths too wide and can't fit page\");\n        }\n\n        var copy = table.columns.slice(0);\n        distributeWidth(copy, table.width, table.wrappedWidth);\n        applyColSpans(table);\n        fitContent(table);\n        applyRowSpans(table);\n      }\n\n      exports.calculateWidths = calculateWidths;\n\n      function applyRowSpans(table) {\n        var rowSpanCells = {};\n        var colRowSpansLeft = 1;\n        var all = table.allRows();\n\n        for (var rowIndex = 0; rowIndex < all.length; rowIndex++) {\n          var row = all[rowIndex];\n\n          for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            var data = rowSpanCells[column.index];\n\n            if (colRowSpansLeft > 1) {\n              colRowSpansLeft--;\n              delete row.cells[column.index];\n            } else if (data) {\n              data.cell.height += row.height;\n\n              if (data.cell.height > row.maxCellHeight) {\n                data.row.maxCellHeight = data.cell.height;\n              }\n\n              colRowSpansLeft = data.cell.colSpan;\n              delete row.cells[column.index];\n              data.left--;\n\n              if (data.left <= 1) {\n                delete rowSpanCells[column.index];\n              }\n            } else {\n              var cell = row.cells[column.index];\n\n              if (!cell) {\n                continue;\n              }\n\n              cell.height = row.height;\n\n              if (cell.rowSpan > 1) {\n                var remaining = all.length - rowIndex;\n                var left = cell.rowSpan > remaining ? remaining : cell.rowSpan;\n                rowSpanCells[column.index] = {\n                  cell: cell,\n                  left: left,\n                  row: row\n                };\n              }\n            }\n          }\n\n          if (row.section === 'head') {\n            table.headHeight += row.maxCellHeight;\n          }\n\n          if (row.section === 'foot') {\n            table.footHeight += row.maxCellHeight;\n          }\n\n          table.height += row.height;\n        }\n      }\n\n      function applyColSpans(table) {\n        var all = table.allRows();\n\n        for (var rowIndex = 0; rowIndex < all.length; rowIndex++) {\n          var row = all[rowIndex];\n          var colSpanCell = null;\n          var combinedColSpanWidth = 0;\n          var colSpansLeft = 0;\n\n          for (var columnIndex = 0; columnIndex < table.columns.length; columnIndex++) {\n            var column = table.columns[columnIndex];\n            var cell = null; // Width and colspan\n\n            colSpansLeft -= 1;\n\n            if (colSpansLeft > 1 && table.columns[columnIndex + 1]) {\n              combinedColSpanWidth += column.width;\n              delete row.cells[column.index];\n              continue;\n            } else if (colSpanCell) {\n              cell = colSpanCell;\n              delete row.cells[column.index];\n              colSpanCell = null;\n            } else {\n              cell = row.cells[column.index];\n              if (!cell) continue;\n              colSpansLeft = cell.colSpan;\n              combinedColSpanWidth = 0;\n\n              if (cell.colSpan > 1) {\n                colSpanCell = cell;\n                combinedColSpanWidth += column.width;\n                continue;\n              }\n            }\n\n            cell.width = column.width + combinedColSpanWidth;\n          }\n        }\n      }\n\n      function fitContent(table) {\n        var rowSpanHeight = {\n          count: 0,\n          height: 0\n        };\n\n        for (var _i = 0, _a = table.allRows(); _i < _a.length; _i++) {\n          var row = _a[_i];\n\n          for (var _b = 0, _c = table.columns; _b < _c.length; _b++) {\n            var column = _c[_b];\n            var cell = row.cells[column.index];\n            if (!cell) continue;\n            common_1.applyStyles(cell.styles);\n            var textSpace = cell.width - cell.padding('horizontal');\n\n            if (cell.styles.overflow === 'linebreak') {\n              // Add one pt to textSpace to fix rounding error\n              cell.text = state_1.default().doc.splitTextToSize(cell.text, textSpace + 1 / (state_1.default().scaleFactor() || 1), {\n                fontSize: cell.styles.fontSize\n              });\n            } else if (cell.styles.overflow === 'ellipsize') {\n              cell.text = common_1.ellipsize(cell.text, textSpace, cell.styles);\n            } else if (cell.styles.overflow === 'hidden') {\n              cell.text = common_1.ellipsize(cell.text, textSpace, cell.styles, '');\n            } else if (typeof cell.styles.overflow === 'function') {\n              cell.text = cell.styles.overflow(cell.text, textSpace);\n            }\n\n            cell.contentHeight = cell.getContentHeight();\n\n            if (cell.styles.minCellHeight > cell.contentHeight) {\n              cell.contentHeight = cell.styles.minCellHeight;\n            }\n\n            var realContentHeight = cell.contentHeight / cell.rowSpan;\n\n            if (cell.rowSpan > 1 && rowSpanHeight.count * rowSpanHeight.height < realContentHeight * cell.rowSpan) {\n              rowSpanHeight = {\n                height: realContentHeight,\n                count: cell.rowSpan\n              };\n            } else if (rowSpanHeight && rowSpanHeight.count > 0) {\n              if (rowSpanHeight.height > realContentHeight) {\n                realContentHeight = rowSpanHeight.height;\n              }\n            }\n\n            if (realContentHeight > row.height) {\n              row.height = realContentHeight;\n              row.maxCellHeight = realContentHeight;\n            }\n          }\n\n          rowSpanHeight.count--;\n        }\n      }\n\n      function distributeWidth(autoColumns, availableSpace, optimalTableWidth) {\n        var diffWidth = availableSpace - optimalTableWidth;\n\n        for (var _i = 0, _a = common_1.entries(autoColumns); _i < _a.length; _i++) {\n          var _b = _a[_i],\n              i = _b[0],\n              column = _b[1];\n          var ratio = column.wrappedWidth / optimalTableWidth;\n          var suggestedChange = diffWidth * ratio;\n          var suggestedWidth = column.wrappedWidth + suggestedChange;\n\n          if (suggestedWidth < column.minWidth || column.hasCustomWidth()) {\n            // Add 1 to minWidth as linebreaks calc otherwise sometimes made two rows\n            column.width = column.minWidth + 1 / state_1.default().scaleFactor();\n            optimalTableWidth -= column.wrappedWidth;\n            availableSpace -= column.width;\n            autoColumns.splice(i, 1);\n            distributeWidth(autoColumns, availableSpace, optimalTableWidth);\n            break;\n          }\n\n          column.width = suggestedWidth;\n        }\n      }\n      /***/\n\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var config_1 = __webpack_require__(2);\n\n      var common_1 = __webpack_require__(1);\n\n      var models_1 = __webpack_require__(6);\n\n      var state_1 = __webpack_require__(0);\n\n      var assign = __webpack_require__(7);\n\n      function drawTable(table) {\n        var settings = table.settings;\n        table.cursor = {\n          x: table.margin('left'),\n          y: settings.startY == null ? table.margin('top') : settings.startY\n        };\n        var minTableBottomPos = settings.startY + table.margin('bottom') + table.headHeight + table.footHeight;\n\n        if (settings.pageBreak === 'avoid') {\n          minTableBottomPos += table.height;\n        }\n\n        if (settings.pageBreak === 'always' || settings.startY != null && settings.startY !== false && minTableBottomPos > state_1.default().pageHeight()) {\n          nextPage(state_1.default().doc);\n          table.cursor.y = table.margin('top');\n        }\n\n        table.pageStartX = table.cursor.x;\n        table.pageStartY = table.cursor.y;\n        table.startPageNumber = state_1.default().pageNumber(); // An empty row used to cached cells those break through page\n\n        common_1.applyUserStyles();\n\n        if (settings.showHead === true || settings.showHead === 'firstPage' || settings.showHead === 'everyPage') {\n          table.head.forEach(function (row) {\n            return printRow(row);\n          });\n        }\n\n        common_1.applyUserStyles();\n        table.body.forEach(function (row, index) {\n          printFullRow(row, index === table.body.length - 1);\n        });\n        common_1.applyUserStyles();\n\n        if (settings.showFoot === true || settings.showFoot === 'lastPage' || settings.showFoot === 'everyPage') {\n          table.foot.forEach(function (row) {\n            return printRow(row);\n          });\n        }\n\n        common_1.addTableBorder();\n        table.callEndPageHooks();\n      }\n\n      exports.drawTable = drawTable;\n\n      function getRemainingLineCount(cell, remainingPageSpace) {\n        var fontHeight = cell.styles.fontSize / state_1.default().scaleFactor() * config_1.FONT_ROW_RATIO;\n        var vPadding = cell.padding('vertical');\n        var remainingLines = Math.floor((remainingPageSpace - vPadding) / fontHeight);\n        return Math.max(0, remainingLines);\n      }\n\n      function modifyRowToFit(row, remainingPageSpace, table) {\n        var remainderRow = new models_1.Row(row.raw, -1, row.section);\n        remainderRow.spansMultiplePages = true;\n        row.spansMultiplePages = true;\n        row.height = 0;\n        row.maxCellHeight = 0;\n\n        for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n          var column = _a[_i];\n          var cell = row.cells[column.index];\n          if (!cell) continue;\n\n          if (!Array.isArray(cell.text)) {\n            cell.text = [cell.text];\n          }\n\n          var remainderCell = new models_1.Cell(cell.raw, {}, cell.section);\n          remainderCell = assign(remainderCell, cell);\n          remainderCell.textPos = assign({}, cell.textPos);\n          remainderCell.text = [];\n          var remainingLineCount = getRemainingLineCount(cell, remainingPageSpace);\n\n          if (cell.text.length > remainingLineCount) {\n            remainderCell.text = cell.text.splice(remainingLineCount, cell.text.length);\n          }\n\n          cell.contentHeight = cell.getContentHeight();\n\n          if (cell.contentHeight > row.height) {\n            row.height = cell.contentHeight;\n            row.maxCellHeight = cell.contentHeight;\n          }\n\n          remainderCell.contentHeight = remainderCell.getContentHeight();\n\n          if (remainderCell.contentHeight > remainderRow.height) {\n            remainderRow.height = remainderCell.contentHeight;\n            remainderRow.maxCellHeight = remainderCell.contentHeight;\n          }\n\n          remainderRow.cells[column.index] = remainderCell;\n        }\n\n        for (var _b = 0, _c = table.columns; _b < _c.length; _b++) {\n          var column = _c[_b];\n          var remainderCell = remainderRow.cells[column.index];\n\n          if (remainderCell) {\n            remainderCell.height = remainderRow.height;\n          }\n\n          var cell = row.cells[column.index];\n\n          if (cell) {\n            cell.height = row.height;\n          }\n        }\n\n        return remainderRow;\n      }\n\n      function shouldPrintOnCurrentPage(row, remainingPageSpace, table) {\n        var pageHeight = state_1.default().pageHeight();\n        var marginHeight = table.margin('top') + table.margin('bottom');\n        var maxRowHeight = pageHeight - marginHeight;\n\n        if (row.section === 'body') {\n          // Should also take into account that head and foot is not\n          // on every page with some settings\n          maxRowHeight -= table.headHeight + table.footHeight;\n        }\n\n        var minRowFits = row.getMinimumRowHeight() < remainingPageSpace;\n\n        if (row.getMinimumRowHeight() > maxRowHeight) {\n          console.error(\"Will not be able to print row \" + row.index + \" correctly since it's minimum height is larger than page height\");\n          return true;\n        }\n\n        var rowHasRowSpanCell = row.hasRowSpan();\n\n        if (!minRowFits) {\n          return false;\n        }\n\n        var rowHigherThanPage = row.maxCellHeight > maxRowHeight;\n\n        if (rowHigherThanPage) {\n          if (rowHasRowSpanCell) {\n            console.error(\"The content of row \" + row.index + \" will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.\");\n          }\n\n          return true;\n        }\n\n        if (rowHasRowSpanCell) {\n          // Currently a new page is required whenever a rowspan row don't fit a page.\n          return false;\n        }\n\n        if (table.settings.rowPageBreak === 'avoid') {\n          return false;\n        } // In all other cases print the row on current page\n\n\n        return true;\n      }\n\n      function printFullRow(row, isLastRow) {\n        var table = state_1.default().table;\n        var remainingPageSpace = getRemainingPageSpace(isLastRow);\n\n        if (row.canEntireRowFit(remainingPageSpace)) {\n          printRow(row);\n        } else {\n          if (shouldPrintOnCurrentPage(row, remainingPageSpace, table)) {\n            var remainderRow = modifyRowToFit(row, remainingPageSpace, table);\n            printRow(row);\n            addPage();\n            printFullRow(remainderRow, isLastRow);\n          } else {\n            addPage();\n            printFullRow(row, isLastRow);\n          }\n        }\n      }\n\n      function printRow(row) {\n        var table = state_1.default().table;\n        table.cursor.x = table.margin('left');\n        row.y = table.cursor.y;\n        row.x = table.cursor.x;\n\n        for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n          var column = _a[_i];\n          var cell = row.cells[column.index];\n\n          if (!cell) {\n            table.cursor.x += column.width;\n            continue;\n          }\n\n          common_1.applyStyles(cell.styles);\n          cell.x = table.cursor.x;\n          cell.y = row.y;\n\n          if (cell.styles.valign === 'top') {\n            cell.textPos.y = table.cursor.y + cell.padding('top');\n          } else if (cell.styles.valign === 'bottom') {\n            cell.textPos.y = table.cursor.y + cell.height - cell.padding('bottom');\n          } else {\n            cell.textPos.y = table.cursor.y + cell.height / 2;\n          }\n\n          if (cell.styles.halign === 'right') {\n            cell.textPos.x = cell.x + cell.width - cell.padding('right');\n          } else if (cell.styles.halign === 'center') {\n            cell.textPos.x = cell.x + cell.width / 2;\n          } else {\n            cell.textPos.x = cell.x + cell.padding('left');\n          }\n\n          if (table.callCellHooks(table.cellHooks.willDrawCell, cell, row, column) === false) {\n            table.cursor.x += column.width;\n            continue;\n          }\n\n          var fillStyle = common_1.getFillStyle(cell.styles);\n\n          if (fillStyle) {\n            state_1.default().doc.rect(cell.x, table.cursor.y, cell.width, cell.height, fillStyle);\n          }\n\n          state_1.default().doc.autoTableText(cell.text, cell.textPos.x, cell.textPos.y, {\n            halign: cell.styles.halign,\n            valign: cell.styles.valign,\n            maxWidth: Math.ceil(cell.width - cell.padding('left') - cell.padding('right'))\n          });\n          table.callCellHooks(table.cellHooks.didDrawCell, cell, row, column);\n          table.cursor.x += column.width;\n        }\n\n        table.cursor.y += row.height;\n      }\n\n      function getRemainingPageSpace(isLastRow) {\n        var table = state_1.default().table;\n        var bottomContentHeight = table.margin('bottom');\n        var showFoot = table.settings.showFoot;\n\n        if (showFoot === true || showFoot === 'everyPage' || showFoot === 'lastPage' && isLastRow) {\n          bottomContentHeight += table.footHeight;\n        }\n\n        return state_1.default().pageHeight() - table.cursor.y - bottomContentHeight;\n      }\n\n      function addPage() {\n        var table = state_1.default().table;\n        common_1.applyUserStyles();\n\n        if (table.settings.showFoot === true || table.settings.showFoot === 'everyPage') {\n          table.foot.forEach(function (row) {\n            return printRow(row);\n          });\n        }\n\n        table.finalY = table.cursor.y; // Add user content just before adding new page ensure it will\n        // be drawn above other things on the page\n\n        table.callEndPageHooks();\n        common_1.addTableBorder();\n        nextPage(state_1.default().doc);\n        table.pageNumber++;\n        table.pageCount++;\n        table.cursor = {\n          x: table.margin('left'),\n          y: table.margin('top')\n        };\n        table.pageStartX = table.cursor.x;\n        table.pageStartY = table.cursor.y;\n\n        if (table.settings.showHead === true || table.settings.showHead === 'everyPage') {\n          table.head.forEach(function (row) {\n            return printRow(row);\n          });\n        }\n      }\n\n      exports.addPage = addPage;\n\n      function nextPage(doc) {\n        var current = state_1.default().pageNumber();\n        doc.setPage(current + 1);\n        var newCurrent = state_1.default().pageNumber();\n\n        if (newCurrent === current) {\n          doc.addPage();\n        }\n      }\n      /***/\n\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports) {\n      if (typeof __WEBPACK_EXTERNAL_MODULE__17__ === 'undefined') {\n        var e = new Error(\"Cannot find module 'undefined'\");\n        e.code = 'MODULE_NOT_FOUND';\n        throw e;\n      }\n\n      module.exports = __WEBPACK_EXTERNAL_MODULE__17__;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["E:/Certificados/itsrdocentes/itsrdocentes/node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","webpackLoadOptionalExternalModule","require","e","define","amd","a","i","__WEBPACK_EXTERNAL_MODULE__17__","modules","installedModules","__webpack_require__","moduleId","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","defaultsDocument","previousTableState","tableState","globalDefaults","documentDefaults","default_1","default","getGlobalOptions","getDocumentOptions","TableState","doc","pageHeight","pageSize","height","pageWidth","width","internal","getWidth","getHeight","scaleFactor","pageNumber","pageInfo","getCurrentPageInfo","getNumberOfPages","setupState","resetState","setDefaults","defaults","__spreadArrays","il","arguments","length","Array","k","j","jl","config_1","state_1","polyfills_1","getStringWidth","text","styles","applyStyles","textArr","isArray","widestLineWidth","map","getTextWidth","val","Math","floor","reduce","b","max","fontSize","ellipsize","ellipsizeStr","value_1","forEach","str","precision","ceil","substring","trim","addTableBorder","table","lineWidth","settings","tableLineWidth","lineColor","tableLineColor","fs","getFillStyle","rect","pageStartX","pageStartY","cursor","y","drawLine","drawBackground","fillColor","applyUserStyles","userStyles","styleModifiers","setFillColor","textColor","setTextColor","fontStyle","setFontStyle","setDrawColor","setLineWidth","font","setFont","setFontSize","keys","style","modifier","apply","marginOrPadding","defaultValue","newValue","top","right","bottom","left","_i","_a","side","assign","defaultStyles","entries","obj","ownProps","resArray","FONT_ROW_RATIO","defaultConfig","html","head","body","foot","includeHiddenHtml","startY","margin","pageBreak","rowPageBreak","tableWidth","showHead","showFoot","tableId","theme","useCss","headStyles","bodyStyles","footStyles","alternateRowStyles","columnStyles","didParseCell","data","willDrawCell","didDrawCell","didDrawPage","overflow","halign","valign","cellPadding","cellWidth","minCellHeight","getTheme","themes","striped","alternateRow","grid","plain","x","console","error","getFontSize","splitRegex","splitText","lineCount","split","alignSize","iLine","getStringUnitWidth","maxWidth","align","cssParser_1","parseHtml","input","tableElement","window","document","querySelector","rows","rowNode","tagName","parentNode","toLowerCase","row","parseRowContent","push","includeHidden","resultRow","rowStyles","parseCss","cells","cell","getComputedStyle","display","cellStyles","rowSpan","colSpan","_element","content","parseCellContent","orgCell","cloneNode","innerHTML","replace","part","join","innerText","textContent","target","varArgs","TypeError","to","index","nextSource","nextKey","HookData_1","common_1","CellHooks","Table","columns","preferredWidth","wrappedWidth","minWidth","headHeight","footHeight","startPageNumber","pageCount","cellHooks","allRows","concat","callCellHooks","handlers","column","handlers_1","handler","CellHookData","callEndPageHooks","HookData","Row","raw","section","maxCellHeight","spansMultiplePages","hasRowSpan","_this","filter","canEntireRowFit","getMinimumRowHeight","acc","fontHeight","vPadding","padding","oneRowHeight","Cell","themeStyles","contentHeight","contentWidth","longestWordWidth","textPos","title","getContentHeight","Column","dataKey","hasCustomWidth","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","undefined","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","err","source","from","symbols","applyPlugin_1","applyPlugin","jsPDF","htmlParser_1","autoTableText_1","autoTable_1","API","autoTable","lastAutoTable","previousAutoTable","previous","autoTableText","autoTableSetDefaults","autoTableHtmlToJson","tableElem","includeHiddenElements","HTMLTableElement","firstRow","autoTableEndPosY","prev","autoTableAddPageContent","hook","addPageContent","autoTableAddPage","addPage","element","ignored","result","accepted","indexOf","pxScaleFactor","parseColor","parseFontStyle","textAlign","verticalAlign","parseInt","parsePadding","paddingTop","paddingRight","paddingBottom","paddingLeft","lineHeight","borderTopWidth","fontFamily","getFontList","res","fontWeight","colorProp","cssColor","realColor","rgba","match","color","alpha","isNaN","elem","bg","parentElement","linePadding","inputParser_1","widthCalculator_1","tableDrawer_1","args","parseInput","calculateWidths","drawTable","finalY","models_1","inputValidator_1","tableOptions","parseUserArguments","globalOptions","documentOptions","allOptions","id","getTextColor","getFont","fontName","_loop_1","styleProp","opts","_b","allOptions_1","_c","_d","hookName","isSamePageAsPrevious","htmlContent","parseContent","total","col","header","getTableColumns","_loop_2","sectionName","rowSpansLeftForColumn","sectionRows","sectionRow","generateSectionRowFromColumnData","rawRow","rowIndex","skippedRowForRowSpans","colSpansAdded","columnSpansLeft","rawCell","times","_loop_3","wordWidths","word","sort","defaultMinWidth","minCellWidth","columnData","footer","cols","firstRow_1","columns_1","otherStyles","colStyles","__extends","extendStatics","setPrototypeOf","__proto__","__","constructor","_super","extendWidth","margins","afterPageContent","beforePageContent","afterPageAdd","current","deprecated","deprecatedOption","checkStyles","rowHeight","columnWidth","columnMinWidth","copy","slice","distributeWidth","applyColSpans","fitContent","applyRowSpans","rowSpanCells","colRowSpansLeft","all","remaining","colSpanCell","combinedColSpanWidth","colSpansLeft","columnIndex","rowSpanHeight","count","textSpace","splitTextToSize","realContentHeight","autoColumns","availableSpace","optimalTableWidth","diffWidth","ratio","suggestedChange","suggestedWidth","splice","minTableBottomPos","nextPage","printRow","printFullRow","getRemainingLineCount","remainingPageSpace","remainingLines","modifyRowToFit","remainderRow","remainderCell","remainingLineCount","shouldPrintOnCurrentPage","marginHeight","maxRowHeight","minRowFits","rowHasRowSpanCell","rowHigherThanPage","isLastRow","getRemainingPageSpace","fillStyle","bottomContentHeight","setPage","newCurrent","Error","code"],"mappings":"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","sourcesContent":["/*!\n * \n *             jsPDF AutoTable plugin v3.3.2\n *             \n *             Copyright (c) 2014 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable\n *             Licensed under the MIT License.\n *             http://opensource.org/licenses/mit-license\n *         \n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return require(\"jspdf\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jspdf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory((function webpackLoadOptionalExternalModule() { try { return require(\"jspdf\"); } catch(e) {} }())) : factory(root[\"jsPDF\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE__17__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar defaultsDocument = null;\nvar previousTableState;\nvar tableState = null;\nexports.globalDefaults = {};\nexports.documentDefaults = {};\nfunction default_1() {\n    return tableState;\n}\nexports.default = default_1;\nfunction getGlobalOptions() {\n    return exports.globalDefaults;\n}\nexports.getGlobalOptions = getGlobalOptions;\nfunction getDocumentOptions() {\n    return exports.documentDefaults;\n}\nexports.getDocumentOptions = getDocumentOptions;\nvar TableState = /** @class */ (function () {\n    function TableState(doc) {\n        this.doc = doc;\n    }\n    TableState.prototype.pageHeight = function () {\n        return this.pageSize().height;\n    };\n    TableState.prototype.pageWidth = function () {\n        return this.pageSize().width;\n    };\n    TableState.prototype.pageSize = function () {\n        var pageSize = this.doc.internal.pageSize;\n        // JSPDF 1.4 uses get functions instead of properties on pageSize\n        if (pageSize.width == null) {\n            pageSize = {\n                width: pageSize.getWidth(),\n                height: pageSize.getHeight(),\n            };\n        }\n        return pageSize;\n    };\n    TableState.prototype.scaleFactor = function () {\n        return this.doc.internal.scaleFactor;\n    };\n    TableState.prototype.pageNumber = function () {\n        var pageInfo = this.doc.internal.getCurrentPageInfo();\n        if (!pageInfo) {\n            // Only recent versions of jspdf has pageInfo\n            return this.doc.internal.getNumberOfPages();\n        }\n        return pageInfo.pageNumber;\n    };\n    return TableState;\n}());\nfunction setupState(doc) {\n    previousTableState = tableState;\n    tableState = new TableState(doc);\n    if (doc !== defaultsDocument) {\n        defaultsDocument = doc;\n        exports.documentDefaults = {};\n    }\n}\nexports.setupState = setupState;\nfunction resetState() {\n    tableState = previousTableState;\n}\nexports.resetState = resetState;\nfunction setDefaults(defaults, doc) {\n    if (doc === void 0) { doc = null; }\n    if (doc) {\n        exports.documentDefaults = defaults || {};\n        defaultsDocument = doc;\n    }\n    else {\n        exports.globalDefaults = defaults || {};\n    }\n}\nexports.setDefaults = setDefaults;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = __webpack_require__(2);\nvar state_1 = __webpack_require__(0);\nvar polyfills_1 = __webpack_require__(5);\nfunction getStringWidth(text, styles) {\n    applyStyles(styles);\n    var textArr = Array.isArray(text) ? text : [text];\n    var widestLineWidth = textArr\n        .map(function (text) { return state_1.default().doc.getTextWidth(text); })\n        // Shave off a few digits for potential improvement in width calculation\n        .map(function (val) { return Math.floor(val * 10000) / 10000; })\n        .reduce(function (a, b) { return Math.max(a, b); }, 0);\n    var fontSize = styles.fontSize / state_1.default().scaleFactor();\n    return widestLineWidth;\n}\nexports.getStringWidth = getStringWidth;\n/**\n * Ellipsize the text to fit in the width\n */\nfunction ellipsize(text, width, styles, ellipsizeStr) {\n    if (ellipsizeStr === void 0) { ellipsizeStr = '...'; }\n    if (Array.isArray(text)) {\n        var value_1 = [];\n        text.forEach(function (str, i) {\n            value_1[i] = ellipsize(str, width, styles, ellipsizeStr);\n        });\n        return value_1;\n    }\n    var precision = 10000 * state_1.default().scaleFactor();\n    width = Math.ceil(width * precision) / precision;\n    if (width >= getStringWidth(text, styles)) {\n        return text;\n    }\n    while (width < getStringWidth(text + ellipsizeStr, styles)) {\n        if (text.length <= 1) {\n            break;\n        }\n        text = text.substring(0, text.length - 1);\n    }\n    return text.trim() + ellipsizeStr;\n}\nexports.ellipsize = ellipsize;\nfunction addTableBorder() {\n    var table = state_1.default().table;\n    var styles = {\n        lineWidth: table.settings.tableLineWidth,\n        lineColor: table.settings.tableLineColor,\n    };\n    applyStyles(styles);\n    var fs = getFillStyle(styles);\n    if (fs) {\n        state_1.default().doc.rect(table.pageStartX, table.pageStartY, table.width, table.cursor.y - table.pageStartY, fs);\n    }\n}\nexports.addTableBorder = addTableBorder;\nfunction getFillStyle(styles) {\n    var drawLine = styles.lineWidth > 0;\n    var drawBackground = styles.fillColor || styles.fillColor === 0;\n    if (drawLine && drawBackground) {\n        return 'DF'; // Fill then stroke\n    }\n    else if (drawLine) {\n        return 'S'; // Only stroke (transparent background)\n    }\n    else if (drawBackground) {\n        return 'F'; // Only fill, no stroke\n    }\n    else {\n        return false;\n    }\n}\nexports.getFillStyle = getFillStyle;\nfunction applyUserStyles() {\n    applyStyles(state_1.default().table.userStyles);\n}\nexports.applyUserStyles = applyUserStyles;\nfunction applyStyles(styles) {\n    var doc = state_1.default().doc;\n    var styleModifiers = {\n        fillColor: doc.setFillColor,\n        textColor: doc.setTextColor,\n        fontStyle: doc.setFontStyle,\n        lineColor: doc.setDrawColor,\n        lineWidth: doc.setLineWidth,\n        font: doc.setFont,\n        fontSize: doc.setFontSize,\n    };\n    Object.keys(styleModifiers).forEach(function (name) {\n        var style = styles[name];\n        var modifier = styleModifiers[name];\n        if (typeof style !== 'undefined') {\n            if (Array.isArray(style)) {\n                modifier.apply(this, style);\n            }\n            else {\n                modifier(style);\n            }\n        }\n    });\n}\nexports.applyStyles = applyStyles;\n// This is messy, only keep array and number format the next major version\nfunction marginOrPadding(value, defaultValue) {\n    var newValue = {};\n    if (Array.isArray(value)) {\n        if (value.length >= 4) {\n            newValue = {\n                top: value[0],\n                right: value[1],\n                bottom: value[2],\n                left: value[3],\n            };\n        }\n        else if (value.length === 3) {\n            newValue = {\n                top: value[0],\n                right: value[1],\n                bottom: value[2],\n                left: value[1],\n            };\n        }\n        else if (value.length === 2) {\n            newValue = {\n                top: value[0],\n                right: value[1],\n                bottom: value[0],\n                left: value[1],\n            };\n        }\n        else if (value.length === 1) {\n            value = value[0];\n        }\n        else {\n            value = defaultValue;\n        }\n    }\n    else if (typeof value === 'object') {\n        if (value['vertical']) {\n            value['top'] = value['vertical'];\n            value['bottom'] = value['vertical'];\n        }\n        if (value['horizontal']) {\n            value['right'] = value['horizontal'];\n            value['left'] = value['horizontal'];\n        }\n        for (var _i = 0, _a = ['top', 'right', 'bottom', 'left']; _i < _a.length; _i++) {\n            var side = _a[_i];\n            newValue[side] =\n                value[side] || value[side] === 0 ? value[side] : defaultValue;\n        }\n    }\n    if (typeof value === 'number') {\n        newValue = { top: value, right: value, bottom: value, left: value };\n    }\n    return newValue;\n}\nexports.marginOrPadding = marginOrPadding;\nfunction styles(styles) {\n    styles = Array.isArray(styles) ? styles : [styles];\n    return polyfills_1.assign.apply(void 0, __spreadArrays([config_1.defaultStyles()], styles));\n}\nexports.styles = styles;\n// core-js etc increases jspdf-autotable bundle size by 50%\n// even though only the Object.entries method is imported\n// Until better solution we can use this polyfill:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries#Polyfill\nfunction entries(obj) {\n    var ownProps = Object.keys(obj), i = ownProps.length, resArray = new Array(i);\n    while (i--)\n        resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    return resArray;\n}\nexports.entries = entries;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Ratio between font size and font height. The number comes from jspdf's source code\n */\nexports.FONT_ROW_RATIO = 1.15;\nvar state_1 = __webpack_require__(0);\nfunction defaultConfig() {\n    return {\n        // Html content\n        html: null,\n        // Custom content\n        head: null,\n        body: null,\n        foot: null,\n        // Properties\n        includeHiddenHtml: false,\n        startY: null,\n        margin: 40 / state_1.default().scaleFactor(),\n        pageBreak: 'auto',\n        rowPageBreak: 'auto',\n        tableWidth: 'auto',\n        showHead: 'everyPage',\n        showFoot: 'everyPage',\n        tableLineWidth: 0,\n        tableLineColor: 200,\n        tableId: null,\n        // Styling\n        theme: 'striped',\n        useCss: false,\n        styles: {},\n        headStyles: {},\n        bodyStyles: {},\n        footStyles: {},\n        alternateRowStyles: {},\n        columnStyles: {},\n        // Hooks\n        // Use to change the content of the cell before width calculations etc are performed\n        didParseCell: function (data) { },\n        willDrawCell: function (data) { },\n        // Use to draw additional content such as images in table cells\n        didDrawCell: function (data) { },\n        // Use to draw additional content to each page such as headers and footers\n        didDrawPage: function (data) { },\n    };\n}\nexports.defaultConfig = defaultConfig;\n// Base style for all themes\nfunction defaultStyles() {\n    return {\n        font: 'helvetica',\n        fontStyle: 'normal',\n        overflow: 'linebreak',\n        fillColor: false,\n        textColor: 20,\n        halign: 'left',\n        valign: 'top',\n        fontSize: 10,\n        cellPadding: 5 / state_1.default().scaleFactor(),\n        lineColor: 200,\n        lineWidth: 0 / state_1.default().scaleFactor(),\n        cellWidth: 'auto',\n        minCellHeight: 0,\n    };\n}\nexports.defaultStyles = defaultStyles;\n/**\n * Styles for the themes (overriding the default styles)\n */\nfunction getTheme(name) {\n    var themes = {\n        striped: {\n            table: { fillColor: 255, textColor: 80, fontStyle: 'normal' },\n            head: { textColor: 255, fillColor: [41, 128, 185], fontStyle: 'bold' },\n            body: {},\n            foot: { textColor: 255, fillColor: [41, 128, 185], fontStyle: 'bold' },\n            alternateRow: { fillColor: 245 },\n        },\n        grid: {\n            table: {\n                fillColor: 255,\n                textColor: 80,\n                fontStyle: 'normal',\n                lineWidth: 0.1,\n            },\n            head: {\n                textColor: 255,\n                fillColor: [26, 188, 156],\n                fontStyle: 'bold',\n                lineWidth: 0,\n            },\n            body: {},\n            foot: {\n                textColor: 255,\n                fillColor: [26, 188, 156],\n                fontStyle: 'bold',\n                lineWidth: 0,\n            },\n            alternateRow: {},\n        },\n        plain: {\n            head: { fontStyle: 'bold' },\n            foot: { fontStyle: 'bold' },\n        },\n    };\n    return themes[name];\n}\nexports.getTheme = getTheme;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Improved text function with halign and valign support\n * Inspiration from: http://stackoverflow.com/questions/28327510/align-text-right-using-jspdf/28433113#28433113\n */\nfunction default_1(text, x, y, styles, doc) {\n    styles = styles || {};\n    var FONT_ROW_RATIO = 1.15;\n    if (typeof x !== 'number' || typeof y !== 'number') {\n        console.error('The x and y parameters are required. Missing for text: ', text);\n    }\n    var k = doc.internal.scaleFactor;\n    var fontSize = doc.internal.getFontSize() / k;\n    var splitRegex = /\\r\\n|\\r|\\n/g;\n    var splitText = null;\n    var lineCount = 1;\n    if (styles.valign === 'middle' ||\n        styles.valign === 'bottom' ||\n        styles.halign === 'center' ||\n        styles.halign === 'right') {\n        splitText = typeof text === 'string' ? text.split(splitRegex) : text;\n        lineCount = splitText.length || 1;\n    }\n    // Align the top\n    y += fontSize * (2 - FONT_ROW_RATIO);\n    if (styles.valign === 'middle')\n        y -= (lineCount / 2) * fontSize * FONT_ROW_RATIO;\n    else if (styles.valign === 'bottom')\n        y -= lineCount * fontSize * FONT_ROW_RATIO;\n    if (styles.halign === 'center' || styles.halign === 'right') {\n        var alignSize = fontSize;\n        if (styles.halign === 'center')\n            alignSize *= 0.5;\n        if (splitText && lineCount >= 1) {\n            for (var iLine = 0; iLine < splitText.length; iLine++) {\n                doc.text(splitText[iLine], x - doc.getStringUnitWidth(splitText[iLine]) * alignSize, y);\n                y += fontSize * FONT_ROW_RATIO;\n            }\n            return doc;\n        }\n        x -= doc.getStringUnitWidth(text) * alignSize;\n    }\n    if (styles.halign === 'justify') {\n        doc.text(text, x, y, {\n            maxWidth: styles.maxWidth || 100,\n            align: 'justify',\n        });\n    }\n    else {\n        doc.text(text, x, y);\n    }\n    return doc;\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cssParser_1 = __webpack_require__(10);\nvar state_1 = __webpack_require__(0);\nfunction parseHtml(input, includeHiddenHtml, useCss) {\n    if (includeHiddenHtml === void 0) { includeHiddenHtml = false; }\n    if (useCss === void 0) { useCss = false; }\n    var tableElement;\n    if (typeof input === 'string') {\n        tableElement = window.document.querySelector(input);\n    }\n    else {\n        tableElement = input;\n    }\n    if (!tableElement) {\n        console.error('Html table could not be found with input: ', input);\n        return;\n    }\n    var head = [], body = [], foot = [];\n    for (var _i = 0, _a = tableElement.rows; _i < _a.length; _i++) {\n        var rowNode = _a[_i];\n        var tagName = rowNode.parentNode.tagName.toLowerCase();\n        var row = parseRowContent(window, rowNode, includeHiddenHtml, useCss);\n        if (!row)\n            continue;\n        if (tagName === 'thead') {\n            head.push(row);\n        }\n        else if (tagName === 'tfoot') {\n            foot.push(row);\n        }\n        else {\n            // Add to body both if parent is tbody or table\n            // (not contained in any section)\n            body.push(row);\n        }\n    }\n    return { head: head, body: body, foot: foot };\n}\nexports.parseHtml = parseHtml;\nfunction parseRowContent(window, row, includeHidden, useCss) {\n    var resultRow = [];\n    var rowStyles = useCss\n        ? cssParser_1.parseCss(row, state_1.default().scaleFactor(), [\n            'cellPadding',\n            'lineWidth',\n            'lineColor',\n        ])\n        : {};\n    for (var i = 0; i < row.cells.length; i++) {\n        var cell = row.cells[i];\n        var style = window.getComputedStyle(cell);\n        if (includeHidden || style.display !== 'none') {\n            var cellStyles = useCss ? cssParser_1.parseCss(cell, state_1.default().scaleFactor()) : {};\n            resultRow.push({\n                rowSpan: cell.rowSpan,\n                colSpan: cell.colSpan,\n                styles: useCss ? cellStyles : null,\n                _element: cell,\n                content: parseCellContent(cell),\n            });\n        }\n    }\n    if (resultRow.length > 0 && (includeHidden || rowStyles.display !== 'none')) {\n        resultRow._element = row;\n        return resultRow;\n    }\n}\nfunction parseCellContent(orgCell) {\n    // Work on cloned node to make sure no changes are applied to html table\n    var cell = orgCell.cloneNode(true);\n    // Remove extra space and line breaks in markup to make it more similar to\n    // what would be shown in html\n    cell.innerHTML = cell.innerHTML.replace(/\\n/g, '').replace(/ +/g, ' ');\n    // Preserve <br> tags as line breaks in the pdf\n    cell.innerHTML = cell.innerHTML\n        .split('<br>')\n        .map(function (part) { return part.trim(); })\n        .join('\\n');\n    // innerText for ie\n    return cell.innerText || cell.textContent || '';\n}\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n * Include common small polyfills instead of requiring the user to to do it\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\nfunction assign(target) {\n    'use strict';\n    var varArgs = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        varArgs[_i - 1] = arguments[_i];\n    }\n    if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n    var to = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n        if (nextSource != null) {\n            // Skip over if undefined or null\n            for (var nextKey in nextSource) {\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                    to[nextKey] = nextSource[nextKey];\n                }\n            }\n        }\n    }\n    return to;\n}\nexports.assign = assign;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = __webpack_require__(2);\nvar state_1 = __webpack_require__(0);\nvar HookData_1 = __webpack_require__(13);\nvar common_1 = __webpack_require__(1);\nvar assign = __webpack_require__(7);\nvar CellHooks = /** @class */ (function () {\n    function CellHooks() {\n        this.didParseCell = [];\n        this.willDrawCell = [];\n        this.didDrawCell = [];\n        this.didDrawPage = [];\n    }\n    return CellHooks;\n}());\nvar Table = /** @class */ (function () {\n    function Table() {\n        this.columns = [];\n        this.head = [];\n        this.body = [];\n        this.foot = [];\n        this.height = 0;\n        this.width = 0;\n        this.preferredWidth = 0;\n        this.wrappedWidth = 0;\n        this.minWidth = 0;\n        this.headHeight = 0;\n        this.footHeight = 0;\n        this.startPageNumber = 1;\n        this.pageNumber = 1;\n        // Deprecated, use pageNumber instead\n        // Not using getter since:\n        // https://github.com/simonbengtsson/jsPDF-AutoTable/issues/596\n        this.pageCount = 1;\n        this.styles = {\n            styles: {},\n            headStyles: {},\n            bodyStyles: {},\n            footStyles: {},\n            alternateRowStyles: {},\n            columnStyles: {},\n        };\n        this.cellHooks = new CellHooks();\n    }\n    Table.prototype.allRows = function () {\n        return this.head.concat(this.body).concat(this.foot);\n    };\n    Table.prototype.callCellHooks = function (handlers, cell, row, column) {\n        for (var _i = 0, handlers_1 = handlers; _i < handlers_1.length; _i++) {\n            var handler = handlers_1[_i];\n            if (handler(new HookData_1.CellHookData(cell, row, column)) === false) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Table.prototype.callEndPageHooks = function () {\n        common_1.applyUserStyles();\n        for (var _i = 0, _a = this.cellHooks.didDrawPage; _i < _a.length; _i++) {\n            var handler = _a[_i];\n            handler(new HookData_1.HookData());\n        }\n    };\n    Table.prototype.margin = function (side) {\n        return common_1.marginOrPadding(this.settings.margin, config_1.defaultConfig().margin)[side];\n    };\n    return Table;\n}());\nexports.Table = Table;\nvar Row = /** @class */ (function () {\n    function Row(raw, index, section) {\n        this.cells = {};\n        this.height = 0;\n        this.maxCellHeight = 0;\n        this.spansMultiplePages = false;\n        this.raw = raw;\n        if (raw._element) {\n            this.raw = raw._element;\n        }\n        this.index = index;\n        this.section = section;\n    }\n    Row.prototype.hasRowSpan = function () {\n        var _this = this;\n        return state_1.default().table.columns.filter(function (column) {\n            var cell = _this.cells[column.index];\n            if (!cell)\n                return false;\n            return cell.rowSpan > 1;\n        }).length > 0;\n    };\n    Row.prototype.canEntireRowFit = function (height) {\n        return this.maxCellHeight <= height;\n    };\n    Row.prototype.getMinimumRowHeight = function () {\n        var _this = this;\n        return state_1.default().table.columns.reduce(function (acc, column) {\n            var cell = _this.cells[column.index];\n            if (!cell)\n                return 0;\n            var fontHeight = (cell.styles.fontSize / state_1.default().scaleFactor()) * config_1.FONT_ROW_RATIO;\n            var vPadding = cell.padding('vertical');\n            var oneRowHeight = vPadding + fontHeight;\n            return oneRowHeight > acc ? oneRowHeight : acc;\n        }, 0);\n    };\n    return Row;\n}());\nexports.Row = Row;\nvar Cell = /** @class */ (function () {\n    function Cell(raw, themeStyles, section) {\n        this.contentHeight = 0;\n        this.contentWidth = 0;\n        this.longestWordWidth = 0;\n        this.wrappedWidth = 0;\n        this.minWidth = 0;\n        this.textPos = {};\n        this.height = 0;\n        this.width = 0;\n        this.rowSpan = (raw && raw.rowSpan) || 1;\n        this.colSpan = (raw && raw.colSpan) || 1;\n        this.styles = assign(themeStyles, (raw && raw.styles) || {});\n        this.section = section;\n        var text;\n        var content = raw && raw.content != null ? raw.content : raw;\n        content = content && content.title != null ? content.title : content;\n        this.raw = raw && raw._element ? raw._element : raw;\n        // Stringify 0 and false, but not undefined or null\n        text = content != null ? '' + content : '';\n        var splitRegex = /\\r\\n|\\r|\\n/g;\n        this.text = text.split(splitRegex);\n    }\n    Cell.prototype.getContentHeight = function () {\n        var lineCount = Array.isArray(this.text) ? this.text.length : 1;\n        var fontHeight = (this.styles.fontSize / state_1.default().scaleFactor()) * config_1.FONT_ROW_RATIO;\n        return lineCount * fontHeight + this.padding('vertical');\n    };\n    Cell.prototype.padding = function (name) {\n        var padding = common_1.marginOrPadding(this.styles.cellPadding, common_1.styles([]).cellPadding);\n        if (name === 'vertical') {\n            return padding.top + padding.bottom;\n        }\n        else if (name === 'horizontal') {\n            return padding.left + padding.right;\n        }\n        else {\n            return padding[name];\n        }\n    };\n    return Cell;\n}());\nexports.Cell = Cell;\nvar Column = /** @class */ (function () {\n    function Column(dataKey, raw, index) {\n        this.preferredWidth = 0;\n        this.minWidth = 0;\n        this.longestWordWidth = 0;\n        this.wrappedWidth = 0;\n        this.width = 0;\n        this.dataKey = dataKey;\n        this.raw = raw;\n        this.index = index;\n    }\n    Column.prototype.hasCustomWidth = function () {\n        for (var _i = 0, _a = state_1.default().table.allRows(); _i < _a.length; _i++) {\n            var row = _a[_i];\n            var cell = row.cells[this.index];\n            if (cell && typeof cell.styles.cellWidth === 'number') {\n                return true;\n            }\n        }\n        return false;\n    };\n    return Column;\n}());\nexports.Column = Column;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar applyPlugin_1 = __webpack_require__(9);\n// export { applyPlugin } didn't export applyPlugin\n// to index.d.ts for some reason\nfunction applyPlugin(jsPDF) {\n    applyPlugin_1.default(jsPDF);\n}\nexports.applyPlugin = applyPlugin;\ntry {\n    var jsPDF = __webpack_require__(17);\n    applyPlugin(jsPDF);\n}\ncatch (error) {\n    // Importing jspdf in nodejs environments does not work as of jspdf\n    // 1.5.3 so we need to silence any errors to support using for example\n    // the nodejs jspdf dist files with the exported applyPlugin\n}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar state_1 = __webpack_require__(0);\n__webpack_require__(3);\nvar htmlParser_1 = __webpack_require__(4);\nvar autoTableText_1 = __webpack_require__(3);\nvar autoTable_1 = __webpack_require__(11);\nfunction default_1(jsPDF) {\n    jsPDF.API.autoTable = autoTable_1.default;\n    // Assign false to enable `doc.lastAutoTable.finalY || 40` sugar\n    jsPDF.API.lastAutoTable = false;\n    jsPDF.API.previousAutoTable = false; // deprecated in v3\n    jsPDF.API.autoTable.previous = false; // deprecated in v3\n    jsPDF.API.autoTableText = function (text, x, y, styles) {\n        autoTableText_1.default(text, x, y, styles, this);\n    };\n    jsPDF.API.autoTableSetDefaults = function (defaults) {\n        state_1.setDefaults(defaults, this);\n        return this;\n    };\n    jsPDF.autoTableSetDefaults = function (defaults, doc) {\n        state_1.setDefaults(defaults, doc);\n        return this;\n    };\n    jsPDF.API.autoTableHtmlToJson = function (tableElem, includeHiddenElements) {\n        includeHiddenElements = includeHiddenElements || false;\n        if (!tableElem || !(tableElem instanceof HTMLTableElement)) {\n            console.error('An HTMLTableElement has to be sent to autoTableHtmlToJson');\n            return null;\n        }\n        var _a = htmlParser_1.parseHtml(tableElem, includeHiddenElements, false), head = _a.head, body = _a.body, foot = _a.foot;\n        var firstRow = head[0] || body[0] || foot[0];\n        return { columns: firstRow, rows: body, data: body };\n    };\n    /**\n     * @deprecated\n     */\n    jsPDF.API.autoTableEndPosY = function () {\n        console.error('Use of deprecated function: autoTableEndPosY. Use doc.previousAutoTable.finalY instead.');\n        var prev = this.previousAutoTable;\n        if (prev.cursor && typeof prev.cursor.y === 'number') {\n            return prev.cursor.y;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * @deprecated\n     */\n    jsPDF.API.autoTableAddPageContent = function (hook) {\n        console.error('Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead.');\n        if (!jsPDF.API.autoTable.globalDefaults) {\n            jsPDF.API.autoTable.globalDefaults = {};\n        }\n        jsPDF.API.autoTable.globalDefaults.addPageContent = hook;\n        return this;\n    };\n    /**\n     * @deprecated\n     */\n    jsPDF.API.autoTableAddPage = function () {\n        console.error('Use of deprecated function: autoTableAddPage. Use doc.addPage()');\n        this.addPage();\n        return this;\n    };\n}\nexports.default = default_1;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Limitations\n// - No support for border spacing\n// - No support for transparency\nvar common_1 = __webpack_require__(1);\nvar state_1 = __webpack_require__(0);\nfunction parseCss(element, scaleFactor, ignored) {\n    if (ignored === void 0) { ignored = []; }\n    var result = {};\n    var style = window.getComputedStyle(element);\n    function assign(name, value, accepted) {\n        if (accepted === void 0) { accepted = []; }\n        if ((accepted.length === 0 || accepted.indexOf(value) !== -1) &&\n            ignored.indexOf(name) === -1) {\n            if (value === 0 || value) {\n                result[name] = value;\n            }\n        }\n    }\n    var pxScaleFactor = 96 / 72;\n    assign('fillColor', parseColor(element, 'backgroundColor'));\n    assign('fontStyle', parseFontStyle(style));\n    assign('textColor', parseColor(element, 'color'));\n    assign('halign', style.textAlign, ['left', 'right', 'center', 'justify']);\n    assign('valign', style.verticalAlign, ['middle', 'bottom', 'top']);\n    assign('fontSize', parseInt(style.fontSize || '') / pxScaleFactor);\n    assign('cellPadding', parsePadding([\n        style.paddingTop,\n        style.paddingRight,\n        style.paddingBottom,\n        style.paddingLeft,\n    ], style.fontSize, style.lineHeight, scaleFactor));\n    // style.borderWidth only works in chrome (borderTopWidth etc works in firefox and ie as well)\n    assign('lineWidth', parseInt(style.borderTopWidth || '') / pxScaleFactor / scaleFactor);\n    assign('lineColor', parseColor(element, 'borderTopColor'));\n    var font = (style.fontFamily || '').toLowerCase();\n    if (state_1.default().doc.getFontList()[font]) {\n        assign('font', font);\n    }\n    return result;\n}\nexports.parseCss = parseCss;\nfunction parseFontStyle(style) {\n    var res = '';\n    if (style.fontWeight === 'bold' ||\n        style.fontWeight === 'bolder' ||\n        parseInt(style.fontWeight) >= 700) {\n        res += 'bold';\n    }\n    if (style.fontStyle === 'italic' || style.fontStyle === 'oblique') {\n        res += 'italic';\n    }\n    return res;\n}\nfunction parseColor(element, colorProp) {\n    var cssColor = realColor(element, colorProp);\n    if (!cssColor)\n        return null;\n    var rgba = cssColor.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d*\\.?\\d*))?\\)$/);\n    if (!rgba || !Array.isArray(rgba)) {\n        return null;\n    }\n    var color = [parseInt(rgba[1]), parseInt(rgba[2]), parseInt(rgba[3])];\n    var alpha = parseInt(rgba[4]);\n    if (alpha === 0 || isNaN(color[0]) || isNaN(color[1]) || isNaN(color[2])) {\n        return null;\n    }\n    return color;\n}\nfunction realColor(elem, colorProp) {\n    if (!elem)\n        return null;\n    var bg = window.getComputedStyle(elem)[colorProp];\n    if (bg === 'rgba(0, 0, 0, 0)' ||\n        bg === 'transparent' ||\n        bg === 'initial' ||\n        bg === 'inherit') {\n        return realColor(elem.parentElement, colorProp);\n    }\n    else {\n        return bg;\n    }\n}\nfunction parsePadding(val, fontSize, lineHeight, scaleFactor) {\n    if (!val)\n        return null;\n    var pxScaleFactor = 96 / (72 / scaleFactor);\n    var linePadding = (parseInt(lineHeight) - parseInt(fontSize)) / scaleFactor / 2;\n    var padding = val.map(function (n) {\n        return parseInt(n) / pxScaleFactor;\n    });\n    padding = common_1.marginOrPadding(padding, 0);\n    if (linePadding > padding.top) {\n        padding.top = linePadding;\n    }\n    if (linePadding > padding.bottom) {\n        padding.bottom = linePadding;\n    }\n    return padding;\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar state_1 = __webpack_require__(0);\nvar inputParser_1 = __webpack_require__(12);\nvar widthCalculator_1 = __webpack_require__(15);\nvar tableDrawer_1 = __webpack_require__(16);\nvar common_1 = __webpack_require__(1);\nfunction autoTable() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    state_1.setupState(this);\n    // 1. Parse and unify user input\n    var table = inputParser_1.parseInput(args);\n    // 2. Calculate preliminary table, column, row and cell dimensions\n    widthCalculator_1.calculateWidths(table);\n    // 3. Output table to pdf\n    tableDrawer_1.drawTable(table);\n    table.finalY = table.cursor.y;\n    this.previousAutoTable = table;\n    this.lastAutoTable = table;\n    this.autoTable.previous = table; // Deprecated\n    common_1.applyUserStyles();\n    state_1.resetState();\n    return this;\n}\nexports.default = autoTable;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar models_1 = __webpack_require__(6);\nvar config_1 = __webpack_require__(2);\nvar htmlParser_1 = __webpack_require__(4);\nvar polyfills_1 = __webpack_require__(5);\nvar common_1 = __webpack_require__(1);\nvar state_1 = __webpack_require__(0);\nvar inputValidator_1 = __webpack_require__(14);\n/**\n * Create models from the user input\n */\nfunction parseInput(args) {\n    var tableOptions = parseUserArguments(args);\n    var globalOptions = state_1.getGlobalOptions();\n    var documentOptions = state_1.getDocumentOptions();\n    var allOptions = [globalOptions, documentOptions, tableOptions];\n    inputValidator_1.default(allOptions);\n    var table = new models_1.Table();\n    state_1.default().table = table;\n    table.id = tableOptions.tableId;\n    var doc = state_1.default().doc;\n    table.userStyles = {\n        // Setting to black for versions of jspdf without getTextColor\n        textColor: doc.getTextColor ? doc.getTextColor() : 0,\n        fontSize: doc.internal.getFontSize(),\n        fontStyle: doc.internal.getFont().fontStyle,\n        font: doc.internal.getFont().fontName,\n    };\n    var _loop_1 = function (styleProp) {\n        var styles = allOptions.map(function (opts) { return opts[styleProp] || {}; });\n        table.styles[styleProp] = polyfills_1.assign.apply(void 0, __spreadArrays([{}], styles));\n    };\n    // Merge styles one level deeper\n    for (var _i = 0, _a = Object.keys(table.styles); _i < _a.length; _i++) {\n        var styleProp = _a[_i];\n        _loop_1(styleProp);\n    }\n    // Append hooks\n    for (var _b = 0, allOptions_1 = allOptions; _b < allOptions_1.length; _b++) {\n        var opts = allOptions_1[_b];\n        for (var _c = 0, _d = Object.keys(table.cellHooks); _c < _d.length; _c++) {\n            var hookName = _d[_c];\n            if (opts && typeof opts[hookName] === 'function') {\n                table.cellHooks[hookName].push(opts[hookName]);\n            }\n        }\n    }\n    table.settings = polyfills_1.assign.apply(void 0, __spreadArrays([{}, config_1.defaultConfig()], allOptions));\n    table.settings.margin = common_1.marginOrPadding(table.settings.margin, config_1.defaultConfig().margin);\n    if (table.settings.theme === 'auto') {\n        table.settings.theme = table.settings.useCss ? 'plain' : 'striped';\n    }\n    if (table.settings.startY === false) {\n        delete table.settings.startY;\n    }\n    var previous = state_1.default().doc.previousAutoTable;\n    var isSamePageAsPrevious = previous &&\n        previous.startPageNumber + previous.pageNumber - 1 === state_1.default().pageNumber();\n    if (table.settings.startY == null && isSamePageAsPrevious) {\n        table.settings.startY = previous.finalY + 20 / state_1.default().scaleFactor();\n    }\n    var htmlContent = {};\n    if (table.settings.html) {\n        htmlContent =\n            htmlParser_1.parseHtml(table.settings.html, table.settings.includeHiddenHtml, table.settings.useCss) || {};\n    }\n    table.settings.head = htmlContent.head || table.settings.head || [];\n    table.settings.body = htmlContent.body || table.settings.body || [];\n    table.settings.foot = htmlContent.foot || table.settings.foot || [];\n    parseContent(table);\n    table.minWidth = table.columns.reduce(function (total, col) { return total + col.minWidth; }, 0);\n    table.wrappedWidth = table.columns.reduce(function (total, col) { return total + col.wrappedWidth; }, 0);\n    if (typeof table.settings.tableWidth === 'number') {\n        table.width = table.settings.tableWidth;\n    }\n    else if (table.settings.tableWidth === 'wrap') {\n        table.width = table.wrappedWidth;\n    }\n    else {\n        table.width =\n            state_1.default().pageWidth() - table.margin('left') - table.margin('right');\n    }\n    return table;\n}\nexports.parseInput = parseInput;\nfunction parseUserArguments(args) {\n    // Normal initialization on format doc.autoTable(options)\n    if (args.length === 1) {\n        return args[0];\n    }\n    else {\n        // Deprecated initialization on format doc.autoTable(columns, body, [options])\n        var opts = args[2] || {};\n        opts.body = args[1];\n        opts.columns = args[0];\n        opts.columns.forEach(function (col) {\n            // Support v2 title prop in v3\n            if (typeof col === 'object' && col.header == null) {\n                col.header = col.title;\n            }\n        });\n        return opts;\n    }\n}\nfunction parseContent(table) {\n    var settings = table.settings;\n    table.columns = getTableColumns(settings);\n    var _loop_2 = function (sectionName) {\n        var rowSpansLeftForColumn = {};\n        var sectionRows = settings[sectionName];\n        if (sectionRows.length === 0 &&\n            settings.columns &&\n            sectionName !== 'body') {\n            // If no head or foot is set, try generating one with content in columns\n            var sectionRow = generateSectionRowFromColumnData(table, sectionName);\n            if (sectionRow) {\n                sectionRows.push(sectionRow);\n            }\n        }\n        sectionRows.forEach(function (rawRow, rowIndex) {\n            var skippedRowForRowSpans = 0;\n            var row = new models_1.Row(rawRow, rowIndex, sectionName);\n            table[sectionName].push(row);\n            var colSpansAdded = 0;\n            var columnSpansLeft = 0;\n            for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                if (rowSpansLeftForColumn[column.index] == null ||\n                    rowSpansLeftForColumn[column.index].left === 0) {\n                    if (columnSpansLeft === 0) {\n                        var rawCell = void 0;\n                        if (Array.isArray(rawRow)) {\n                            rawCell =\n                                rawRow[column.index - colSpansAdded - skippedRowForRowSpans];\n                        }\n                        else {\n                            rawCell = rawRow[column.dataKey];\n                        }\n                        var styles = cellStyles(sectionName, column, rowIndex);\n                        var cell = new models_1.Cell(rawCell, styles, sectionName);\n                        // dataKey is not used internally anymore but keep for backwards compat in hooks\n                        row.cells[column.dataKey] = cell;\n                        row.cells[column.index] = cell;\n                        columnSpansLeft = cell.colSpan - 1;\n                        rowSpansLeftForColumn[column.index] = {\n                            left: cell.rowSpan - 1,\n                            times: columnSpansLeft,\n                        };\n                    }\n                    else {\n                        columnSpansLeft--;\n                        colSpansAdded++;\n                    }\n                }\n                else {\n                    rowSpansLeftForColumn[column.index].left--;\n                    columnSpansLeft = rowSpansLeftForColumn[column.index].times;\n                    skippedRowForRowSpans++;\n                }\n            }\n        });\n    };\n    for (var _i = 0, _a = ['head', 'body', 'foot']; _i < _a.length; _i++) {\n        var sectionName = _a[_i];\n        _loop_2(sectionName);\n    }\n    table.allRows().forEach(function (row) {\n        var _loop_3 = function (column) {\n            var cell = row.cells[column.index];\n            if (!cell)\n                return \"continue\";\n            table.callCellHooks(table.cellHooks.didParseCell, cell, row, column);\n            cell.text = Array.isArray(cell.text) ? cell.text : [cell.text];\n            var text = cell.text.join(' ');\n            var wordWidths = (\"\" + text)\n                .trim()\n                .split(/\\s+/)\n                .map(function (word) { return common_1.getStringWidth(word, cell.styles); });\n            wordWidths.sort();\n            cell.longestWordWidth = wordWidths[wordWidths.length - 1] + cell.padding('horizontal');\n            cell.contentWidth =\n                cell.padding('horizontal') + common_1.getStringWidth(cell.text, cell.styles);\n            if (typeof cell.styles.cellWidth === 'number') {\n                cell.minWidth = cell.styles.cellWidth;\n                cell.wrappedWidth = cell.styles.cellWidth;\n            }\n            else if (cell.styles.cellWidth === 'wrap') {\n                cell.minWidth = cell.contentWidth;\n                cell.wrappedWidth = cell.contentWidth;\n            }\n            else {\n                // auto\n                var defaultMinWidth = 10 / state_1.default().scaleFactor();\n                cell.minWidth = cell.styles.minCellWidth || defaultMinWidth;\n                cell.wrappedWidth = cell.contentWidth;\n                if (cell.minWidth > cell.wrappedWidth) {\n                    cell.wrappedWidth = cell.minWidth;\n                }\n            }\n        };\n        for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            _loop_3(column);\n        }\n    });\n    table.allRows().forEach(function (row) {\n        for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            var cell = row.cells[column.index];\n            // For now we ignore the minWidth and wrappedWidth of colspan cells when calculating colspan widths.\n            // Could probably be improved upon however.\n            if (cell && cell.colSpan === 1) {\n                column.wrappedWidth = Math.max(column.wrappedWidth, cell.wrappedWidth);\n                column.minWidth = Math.max(column.minWidth, cell.minWidth);\n                column.longestWordWidth = Math.max(column.longestWordWidth, cell.longestWordWidth);\n            }\n            else {\n                // Respect cellWidth set in columnStyles even if there is no cells for this column\n                // or of it the column only have colspan cells. Since the width of colspan cells\n                // does not affect the width of columns, setting columnStyles cellWidth enables the\n                // user to at least do it manually.\n                // Note that this is not perfect for now since for example row and table styles are\n                // not accounted for\n                var columnStyles = table.styles.columnStyles[column.dataKey] ||\n                    table.styles.columnStyles[column.index] ||\n                    {};\n                var cellWidth = columnStyles.cellWidth;\n                if (cellWidth && typeof cellWidth === 'number') {\n                    column.minWidth = cellWidth;\n                    column.wrappedWidth = cellWidth;\n                }\n            }\n            if (cell) {\n                // Make sure all columns get at least min width even though width calculations are not based on them\n                if (cell.colSpan > 1 && !column.minWidth) {\n                    column.minWidth = cell.minWidth;\n                }\n                if (cell.colSpan > 1 && !column.wrappedWidth) {\n                    column.wrappedWidth = cell.minWidth;\n                }\n                table.callCellHooks(table.cellHooks.didParseCell, cell, row, column);\n            }\n        }\n    });\n}\nfunction generateSectionRowFromColumnData(table, sectionName) {\n    var sectionRow = {};\n    table.columns.forEach(function (col) {\n        var columnData = col.raw;\n        if (sectionName === 'head') {\n            var val = columnData && columnData.header ? columnData.header : columnData;\n            if (val) {\n                sectionRow[col.dataKey] = val;\n            }\n        }\n        else if (sectionName === 'foot' && columnData.footer) {\n            sectionRow[col.dataKey] = columnData.footer;\n        }\n    });\n    return Object.keys(sectionRow).length > 0 ? sectionRow : null;\n}\nfunction getTableColumns(settings) {\n    if (settings.columns) {\n        var cols = settings.columns.map(function (input, index) {\n            var key = input.dataKey || input.key || index;\n            return new models_1.Column(key, input, index);\n        });\n        return cols;\n    }\n    else {\n        var firstRow_1 = settings.head[0] || settings.body[0] || settings.foot[0] || [];\n        var columns_1 = [];\n        Object.keys(firstRow_1)\n            .filter(function (key) { return key !== '_element'; })\n            .forEach(function (key) {\n            var colSpan = firstRow_1[key] && firstRow_1[key].colSpan ? firstRow_1[key].colSpan : 1;\n            for (var i = 0; i < colSpan; i++) {\n                var id = void 0;\n                if (Array.isArray(firstRow_1)) {\n                    id = columns_1.length;\n                }\n                else {\n                    id = key + (i > 0 ? \"_\" + i : '');\n                }\n                columns_1.push(new models_1.Column(id, id, columns_1.length));\n            }\n        });\n        return columns_1;\n    }\n}\nfunction cellStyles(sectionName, column, rowIndex) {\n    var table = state_1.default().table;\n    var theme = config_1.getTheme(table.settings.theme);\n    var otherStyles = [\n        theme.table,\n        theme[sectionName],\n        table.styles.styles,\n        table.styles[sectionName + \"Styles\"],\n    ];\n    var columnStyles = table.styles.columnStyles[column.dataKey] ||\n        table.styles.columnStyles[column.index] ||\n        {};\n    var colStyles = sectionName === 'body' ? columnStyles : {};\n    var rowStyles = sectionName === 'body' && rowIndex % 2 === 0\n        ? polyfills_1.assign({}, theme.alternateRow, table.styles.alternateRowStyles)\n        : {};\n    return polyfills_1.assign.apply(void 0, __spreadArrays([config_1.defaultStyles()], __spreadArrays(otherStyles, [rowStyles, colStyles])));\n}\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar state_1 = __webpack_require__(0);\nvar HookData = /** @class */ (function () {\n    function HookData() {\n        var table = state_1.default().table;\n        this.table = table;\n        this.pageNumber = table.pageNumber;\n        this.pageCount = this.pageNumber;\n        this.settings = table.settings;\n        this.cursor = table.cursor;\n        this.doc = state_1.default().doc;\n    }\n    return HookData;\n}());\nexports.HookData = HookData;\nvar CellHookData = /** @class */ (function (_super) {\n    __extends(CellHookData, _super);\n    function CellHookData(cell, row, column) {\n        var _this = _super.call(this) || this;\n        _this.cell = cell;\n        _this.row = row;\n        _this.column = column;\n        _this.section = row.section;\n        return _this;\n    }\n    return CellHookData;\n}(HookData));\nexports.CellHookData = CellHookData;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = __webpack_require__(1);\nfunction default_1(allOptions) {\n    var _loop_1 = function (settings) {\n        if (settings && typeof settings !== 'object') {\n            console.error('The options parameter should be of type object, is: ' + typeof settings);\n        }\n        if (typeof settings.extendWidth !== 'undefined') {\n            settings.tableWidth = settings.extendWidth ? 'auto' : 'wrap';\n            console.error('Use of deprecated option: extendWidth, use tableWidth instead.');\n        }\n        if (typeof settings.margins !== 'undefined') {\n            if (typeof settings.margin === 'undefined')\n                settings.margin = settings.margins;\n            console.error('Use of deprecated option: margins, use margin instead.');\n        }\n        if (settings.startY && typeof settings.startY !== 'number') {\n            console.error('Invalid value for startY option', settings.startY);\n            delete settings.startY;\n        }\n        if (!settings.didDrawPage &&\n            (settings.afterPageContent ||\n                settings.beforePageContent ||\n                settings.afterPageAdd)) {\n            console.error('The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead');\n            settings.didDrawPage = function (data) {\n                common_1.applyUserStyles();\n                if (settings.beforePageContent)\n                    settings.beforePageContent(data);\n                common_1.applyUserStyles();\n                if (settings.afterPageContent)\n                    settings.afterPageContent(data);\n                common_1.applyUserStyles();\n                if (settings.afterPageAdd && data.pageNumber > 1) {\n                    data.afterPageAdd(data);\n                }\n                common_1.applyUserStyles();\n            };\n        }\n        ;\n        [\n            'createdHeaderCell',\n            'drawHeaderRow',\n            'drawRow',\n            'drawHeaderCell',\n        ].forEach(function (name) {\n            if (settings[name]) {\n                console.error(\"The \\\"\" + name + \"\\\" hook has changed in version 3.0, check the changelog for how to migrate.\");\n            }\n        });\n        [\n            ['showFoot', 'showFooter'],\n            ['showHead', 'showHeader'],\n            ['didDrawPage', 'addPageContent'],\n            ['didParseCell', 'createdCell'],\n            ['headStyles', 'headerStyles'],\n        ].forEach(function (_a) {\n            var current = _a[0], deprecated = _a[1];\n            if (settings[deprecated]) {\n                console.error(\"Use of deprecated option \" + deprecated + \". Use \" + current + \" instead\");\n                settings[current] = settings[deprecated];\n            }\n        });\n        [\n            ['padding', 'cellPadding'],\n            ['lineHeight', 'rowHeight'],\n            'fontSize',\n            'overflow',\n        ].forEach(function (o) {\n            var deprecatedOption = typeof o === 'string' ? o : o[0];\n            var style = typeof o === 'string' ? o : o[1];\n            if (typeof settings[deprecatedOption] !== 'undefined') {\n                if (typeof settings.styles[style] === 'undefined') {\n                    settings.styles[style] = settings[deprecatedOption];\n                }\n                console.error('Use of deprecated option: ' +\n                    deprecatedOption +\n                    ', use the style ' +\n                    style +\n                    ' instead.');\n            }\n        });\n        for (var _i = 0, _a = [\n            'styles',\n            'bodyStyles',\n            'headStyles',\n            'footStyles',\n        ]; _i < _a.length; _i++) {\n            var styleProp = _a[_i];\n            checkStyles(settings[styleProp] || {});\n        }\n        var columnStyles = settings['columnStyles'] || {};\n        for (var _b = 0, _c = Object.keys(columnStyles); _b < _c.length; _b++) {\n            var key = _c[_b];\n            checkStyles(columnStyles[key] || {});\n        }\n    };\n    for (var _i = 0, allOptions_1 = allOptions; _i < allOptions_1.length; _i++) {\n        var settings = allOptions_1[_i];\n        _loop_1(settings);\n    }\n}\nexports.default = default_1;\nfunction checkStyles(styles) {\n    if (styles.rowHeight) {\n        console.error('Use of deprecated style rowHeight. It is renamed to minCellHeight.');\n        if (!styles.minCellHeight) {\n            styles.minCellHeight = styles.rowHeight;\n        }\n    }\n    else if (styles.columnWidth) {\n        console.error('Use of deprecated style columnWidth. It is renamed to cellWidth.');\n        if (!styles.cellWidth) {\n            styles.cellWidth = styles.columnWidth;\n        }\n    }\n}\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = __webpack_require__(1);\nvar state_1 = __webpack_require__(0);\n/**\n * Calculate the column widths\n */\nfunction calculateWidths(table) {\n    var columnMinWidth = 10 / state_1.default().scaleFactor();\n    if (columnMinWidth * table.columns.length > table.width) {\n        console.error('Columns could not fit on page');\n    }\n    else if (table.minWidth > table.width) {\n        // Would be nice to improve the user experience of this\n        console.error(\"Column widths too wide and can't fit page\");\n    }\n    var copy = table.columns.slice(0);\n    distributeWidth(copy, table.width, table.wrappedWidth);\n    applyColSpans(table);\n    fitContent(table);\n    applyRowSpans(table);\n}\nexports.calculateWidths = calculateWidths;\nfunction applyRowSpans(table) {\n    var rowSpanCells = {};\n    var colRowSpansLeft = 1;\n    var all = table.allRows();\n    for (var rowIndex = 0; rowIndex < all.length; rowIndex++) {\n        var row = all[rowIndex];\n        for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            var data = rowSpanCells[column.index];\n            if (colRowSpansLeft > 1) {\n                colRowSpansLeft--;\n                delete row.cells[column.index];\n            }\n            else if (data) {\n                data.cell.height += row.height;\n                if (data.cell.height > row.maxCellHeight) {\n                    data.row.maxCellHeight = data.cell.height;\n                }\n                colRowSpansLeft = data.cell.colSpan;\n                delete row.cells[column.index];\n                data.left--;\n                if (data.left <= 1) {\n                    delete rowSpanCells[column.index];\n                }\n            }\n            else {\n                var cell = row.cells[column.index];\n                if (!cell) {\n                    continue;\n                }\n                cell.height = row.height;\n                if (cell.rowSpan > 1) {\n                    var remaining = all.length - rowIndex;\n                    var left = cell.rowSpan > remaining ? remaining : cell.rowSpan;\n                    rowSpanCells[column.index] = { cell: cell, left: left, row: row };\n                }\n            }\n        }\n        if (row.section === 'head') {\n            table.headHeight += row.maxCellHeight;\n        }\n        if (row.section === 'foot') {\n            table.footHeight += row.maxCellHeight;\n        }\n        table.height += row.height;\n    }\n}\nfunction applyColSpans(table) {\n    var all = table.allRows();\n    for (var rowIndex = 0; rowIndex < all.length; rowIndex++) {\n        var row = all[rowIndex];\n        var colSpanCell = null;\n        var combinedColSpanWidth = 0;\n        var colSpansLeft = 0;\n        for (var columnIndex = 0; columnIndex < table.columns.length; columnIndex++) {\n            var column = table.columns[columnIndex];\n            var cell = null;\n            // Width and colspan\n            colSpansLeft -= 1;\n            if (colSpansLeft > 1 && table.columns[columnIndex + 1]) {\n                combinedColSpanWidth += column.width;\n                delete row.cells[column.index];\n                continue;\n            }\n            else if (colSpanCell) {\n                cell = colSpanCell;\n                delete row.cells[column.index];\n                colSpanCell = null;\n            }\n            else {\n                cell = row.cells[column.index];\n                if (!cell)\n                    continue;\n                colSpansLeft = cell.colSpan;\n                combinedColSpanWidth = 0;\n                if (cell.colSpan > 1) {\n                    colSpanCell = cell;\n                    combinedColSpanWidth += column.width;\n                    continue;\n                }\n            }\n            cell.width = column.width + combinedColSpanWidth;\n        }\n    }\n}\nfunction fitContent(table) {\n    var rowSpanHeight = { count: 0, height: 0 };\n    for (var _i = 0, _a = table.allRows(); _i < _a.length; _i++) {\n        var row = _a[_i];\n        for (var _b = 0, _c = table.columns; _b < _c.length; _b++) {\n            var column = _c[_b];\n            var cell = row.cells[column.index];\n            if (!cell)\n                continue;\n            common_1.applyStyles(cell.styles);\n            var textSpace = cell.width - cell.padding('horizontal');\n            if (cell.styles.overflow === 'linebreak') {\n                // Add one pt to textSpace to fix rounding error\n                cell.text = state_1.default().doc.splitTextToSize(cell.text, textSpace + 1 / (state_1.default().scaleFactor() || 1), { fontSize: cell.styles.fontSize });\n            }\n            else if (cell.styles.overflow === 'ellipsize') {\n                cell.text = common_1.ellipsize(cell.text, textSpace, cell.styles);\n            }\n            else if (cell.styles.overflow === 'hidden') {\n                cell.text = common_1.ellipsize(cell.text, textSpace, cell.styles, '');\n            }\n            else if (typeof cell.styles.overflow === 'function') {\n                cell.text = cell.styles.overflow(cell.text, textSpace);\n            }\n            cell.contentHeight = cell.getContentHeight();\n            if (cell.styles.minCellHeight > cell.contentHeight) {\n                cell.contentHeight = cell.styles.minCellHeight;\n            }\n            var realContentHeight = cell.contentHeight / cell.rowSpan;\n            if (cell.rowSpan > 1 &&\n                rowSpanHeight.count * rowSpanHeight.height <\n                    realContentHeight * cell.rowSpan) {\n                rowSpanHeight = { height: realContentHeight, count: cell.rowSpan };\n            }\n            else if (rowSpanHeight && rowSpanHeight.count > 0) {\n                if (rowSpanHeight.height > realContentHeight) {\n                    realContentHeight = rowSpanHeight.height;\n                }\n            }\n            if (realContentHeight > row.height) {\n                row.height = realContentHeight;\n                row.maxCellHeight = realContentHeight;\n            }\n        }\n        rowSpanHeight.count--;\n    }\n}\nfunction distributeWidth(autoColumns, availableSpace, optimalTableWidth) {\n    var diffWidth = availableSpace - optimalTableWidth;\n    for (var _i = 0, _a = common_1.entries(autoColumns); _i < _a.length; _i++) {\n        var _b = _a[_i], i = _b[0], column = _b[1];\n        var ratio = column.wrappedWidth / optimalTableWidth;\n        var suggestedChange = diffWidth * ratio;\n        var suggestedWidth = column.wrappedWidth + suggestedChange;\n        if (suggestedWidth < column.minWidth || column.hasCustomWidth()) {\n            // Add 1 to minWidth as linebreaks calc otherwise sometimes made two rows\n            column.width = column.minWidth + 1 / state_1.default().scaleFactor();\n            optimalTableWidth -= column.wrappedWidth;\n            availableSpace -= column.width;\n            autoColumns.splice(i, 1);\n            distributeWidth(autoColumns, availableSpace, optimalTableWidth);\n            break;\n        }\n        column.width = suggestedWidth;\n    }\n}\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar config_1 = __webpack_require__(2);\nvar common_1 = __webpack_require__(1);\nvar models_1 = __webpack_require__(6);\nvar state_1 = __webpack_require__(0);\nvar assign = __webpack_require__(7);\nfunction drawTable(table) {\n    var settings = table.settings;\n    table.cursor = {\n        x: table.margin('left'),\n        y: settings.startY == null ? table.margin('top') : settings.startY,\n    };\n    var minTableBottomPos = settings.startY +\n        table.margin('bottom') +\n        table.headHeight +\n        table.footHeight;\n    if (settings.pageBreak === 'avoid') {\n        minTableBottomPos += table.height;\n    }\n    if (settings.pageBreak === 'always' ||\n        (settings.startY != null &&\n            settings.startY !== false &&\n            minTableBottomPos > state_1.default().pageHeight())) {\n        nextPage(state_1.default().doc);\n        table.cursor.y = table.margin('top');\n    }\n    table.pageStartX = table.cursor.x;\n    table.pageStartY = table.cursor.y;\n    table.startPageNumber = state_1.default().pageNumber();\n    // An empty row used to cached cells those break through page\n    common_1.applyUserStyles();\n    if (settings.showHead === true ||\n        settings.showHead === 'firstPage' ||\n        settings.showHead === 'everyPage') {\n        table.head.forEach(function (row) { return printRow(row); });\n    }\n    common_1.applyUserStyles();\n    table.body.forEach(function (row, index) {\n        printFullRow(row, index === table.body.length - 1);\n    });\n    common_1.applyUserStyles();\n    if (settings.showFoot === true ||\n        settings.showFoot === 'lastPage' ||\n        settings.showFoot === 'everyPage') {\n        table.foot.forEach(function (row) { return printRow(row); });\n    }\n    common_1.addTableBorder();\n    table.callEndPageHooks();\n}\nexports.drawTable = drawTable;\nfunction getRemainingLineCount(cell, remainingPageSpace) {\n    var fontHeight = (cell.styles.fontSize / state_1.default().scaleFactor()) * config_1.FONT_ROW_RATIO;\n    var vPadding = cell.padding('vertical');\n    var remainingLines = Math.floor((remainingPageSpace - vPadding) / fontHeight);\n    return Math.max(0, remainingLines);\n}\nfunction modifyRowToFit(row, remainingPageSpace, table) {\n    var remainderRow = new models_1.Row(row.raw, -1, row.section);\n    remainderRow.spansMultiplePages = true;\n    row.spansMultiplePages = true;\n    row.height = 0;\n    row.maxCellHeight = 0;\n    for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n        var column = _a[_i];\n        var cell = row.cells[column.index];\n        if (!cell)\n            continue;\n        if (!Array.isArray(cell.text)) {\n            cell.text = [cell.text];\n        }\n        var remainderCell = new models_1.Cell(cell.raw, {}, cell.section);\n        remainderCell = assign(remainderCell, cell);\n        remainderCell.textPos = assign({}, cell.textPos);\n        remainderCell.text = [];\n        var remainingLineCount = getRemainingLineCount(cell, remainingPageSpace);\n        if (cell.text.length > remainingLineCount) {\n            remainderCell.text = cell.text.splice(remainingLineCount, cell.text.length);\n        }\n        cell.contentHeight = cell.getContentHeight();\n        if (cell.contentHeight > row.height) {\n            row.height = cell.contentHeight;\n            row.maxCellHeight = cell.contentHeight;\n        }\n        remainderCell.contentHeight = remainderCell.getContentHeight();\n        if (remainderCell.contentHeight > remainderRow.height) {\n            remainderRow.height = remainderCell.contentHeight;\n            remainderRow.maxCellHeight = remainderCell.contentHeight;\n        }\n        remainderRow.cells[column.index] = remainderCell;\n    }\n    for (var _b = 0, _c = table.columns; _b < _c.length; _b++) {\n        var column = _c[_b];\n        var remainderCell = remainderRow.cells[column.index];\n        if (remainderCell) {\n            remainderCell.height = remainderRow.height;\n        }\n        var cell = row.cells[column.index];\n        if (cell) {\n            cell.height = row.height;\n        }\n    }\n    return remainderRow;\n}\nfunction shouldPrintOnCurrentPage(row, remainingPageSpace, table) {\n    var pageHeight = state_1.default().pageHeight();\n    var marginHeight = table.margin('top') + table.margin('bottom');\n    var maxRowHeight = pageHeight - marginHeight;\n    if (row.section === 'body') {\n        // Should also take into account that head and foot is not\n        // on every page with some settings\n        maxRowHeight -= table.headHeight + table.footHeight;\n    }\n    var minRowFits = row.getMinimumRowHeight() < remainingPageSpace;\n    if (row.getMinimumRowHeight() > maxRowHeight) {\n        console.error(\"Will not be able to print row \" + row.index + \" correctly since it's minimum height is larger than page height\");\n        return true;\n    }\n    var rowHasRowSpanCell = row.hasRowSpan();\n    if (!minRowFits) {\n        return false;\n    }\n    var rowHigherThanPage = row.maxCellHeight > maxRowHeight;\n    if (rowHigherThanPage) {\n        if (rowHasRowSpanCell) {\n            console.error(\"The content of row \" + row.index + \" will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.\");\n        }\n        return true;\n    }\n    if (rowHasRowSpanCell) {\n        // Currently a new page is required whenever a rowspan row don't fit a page.\n        return false;\n    }\n    if (table.settings.rowPageBreak === 'avoid') {\n        return false;\n    }\n    // In all other cases print the row on current page\n    return true;\n}\nfunction printFullRow(row, isLastRow) {\n    var table = state_1.default().table;\n    var remainingPageSpace = getRemainingPageSpace(isLastRow);\n    if (row.canEntireRowFit(remainingPageSpace)) {\n        printRow(row);\n    }\n    else {\n        if (shouldPrintOnCurrentPage(row, remainingPageSpace, table)) {\n            var remainderRow = modifyRowToFit(row, remainingPageSpace, table);\n            printRow(row);\n            addPage();\n            printFullRow(remainderRow, isLastRow);\n        }\n        else {\n            addPage();\n            printFullRow(row, isLastRow);\n        }\n    }\n}\nfunction printRow(row) {\n    var table = state_1.default().table;\n    table.cursor.x = table.margin('left');\n    row.y = table.cursor.y;\n    row.x = table.cursor.x;\n    for (var _i = 0, _a = table.columns; _i < _a.length; _i++) {\n        var column = _a[_i];\n        var cell = row.cells[column.index];\n        if (!cell) {\n            table.cursor.x += column.width;\n            continue;\n        }\n        common_1.applyStyles(cell.styles);\n        cell.x = table.cursor.x;\n        cell.y = row.y;\n        if (cell.styles.valign === 'top') {\n            cell.textPos.y = table.cursor.y + cell.padding('top');\n        }\n        else if (cell.styles.valign === 'bottom') {\n            cell.textPos.y = table.cursor.y + cell.height - cell.padding('bottom');\n        }\n        else {\n            cell.textPos.y = table.cursor.y + cell.height / 2;\n        }\n        if (cell.styles.halign === 'right') {\n            cell.textPos.x = cell.x + cell.width - cell.padding('right');\n        }\n        else if (cell.styles.halign === 'center') {\n            cell.textPos.x = cell.x + cell.width / 2;\n        }\n        else {\n            cell.textPos.x = cell.x + cell.padding('left');\n        }\n        if (table.callCellHooks(table.cellHooks.willDrawCell, cell, row, column) ===\n            false) {\n            table.cursor.x += column.width;\n            continue;\n        }\n        var fillStyle = common_1.getFillStyle(cell.styles);\n        if (fillStyle) {\n            state_1.default().doc.rect(cell.x, table.cursor.y, cell.width, cell.height, fillStyle);\n        }\n        state_1.default().doc.autoTableText(cell.text, cell.textPos.x, cell.textPos.y, {\n            halign: cell.styles.halign,\n            valign: cell.styles.valign,\n            maxWidth: Math.ceil(cell.width - cell.padding('left') - cell.padding('right')),\n        });\n        table.callCellHooks(table.cellHooks.didDrawCell, cell, row, column);\n        table.cursor.x += column.width;\n    }\n    table.cursor.y += row.height;\n}\nfunction getRemainingPageSpace(isLastRow) {\n    var table = state_1.default().table;\n    var bottomContentHeight = table.margin('bottom');\n    var showFoot = table.settings.showFoot;\n    if (showFoot === true ||\n        showFoot === 'everyPage' ||\n        (showFoot === 'lastPage' && isLastRow)) {\n        bottomContentHeight += table.footHeight;\n    }\n    return state_1.default().pageHeight() - table.cursor.y - bottomContentHeight;\n}\nfunction addPage() {\n    var table = state_1.default().table;\n    common_1.applyUserStyles();\n    if (table.settings.showFoot === true ||\n        table.settings.showFoot === 'everyPage') {\n        table.foot.forEach(function (row) { return printRow(row); });\n    }\n    table.finalY = table.cursor.y;\n    // Add user content just before adding new page ensure it will\n    // be drawn above other things on the page\n    table.callEndPageHooks();\n    common_1.addTableBorder();\n    nextPage(state_1.default().doc);\n    table.pageNumber++;\n    table.pageCount++;\n    table.cursor = { x: table.margin('left'), y: table.margin('top') };\n    table.pageStartX = table.cursor.x;\n    table.pageStartY = table.cursor.y;\n    if (table.settings.showHead === true ||\n        table.settings.showHead === 'everyPage') {\n        table.head.forEach(function (row) { return printRow(row); });\n    }\n}\nexports.addPage = addPage;\nfunction nextPage(doc) {\n    var current = state_1.default().pageNumber();\n    doc.setPage(current + 1);\n    var newCurrent = state_1.default().pageNumber();\n    if (newCurrent === current) {\n        doc.addPage();\n    }\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nif(typeof __WEBPACK_EXTERNAL_MODULE__17__ === 'undefined') {var e = new Error(\"Cannot find module 'undefined'\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__17__;\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}